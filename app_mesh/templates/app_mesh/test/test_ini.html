{% extends "app_mesh/test/test_base.html" %}
{% load static %}
{% block "head_block" %}
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
{% endblock %}
{% block "body_block" %}
<a-scene embedded arjs="debugUIEnabled:false; sourceType: webcam;">
    <a-camera>
    <a-cursor fuse="true" color="white" scale="2 2">
        <a-animation
            begin="mouseenter" easing="ease-out" attribute="scale" fill="forwards"
            from="2 2 2" to="1 1 1" dur="300"></a-animation>
        <a-animation
            begin="mouseenter" attribute="color" fill="forwards"
            from="white" to="red" dur="0">
        </a-animation>
        <a-animation
            begin="mouseleave" easing="ease-in" attribute="scale" fill="forwards"
            from="1 1 1" to="2 2 2" dur="300">
        </a-animation>
        <a-animation
            begin="mouseleave" attribute="color" fill="forwards"
            from="red" to="black" dur="0">
        </a-animation>
    </a-cursor>
    </a-camera>

    <a-assets  timeout="30000">
        <a-asset-item id="glb_maru" src="{%static 'app_mesh/maru.glb'%}"></a-asset-item>
    </a-assets>

    <a-marker preset="hiro">
        <a-box position="0 0 0" scale="1 1 1" wireframe="true"></a-box>
        <a-box position="0 0 0" scale="2 2 2" wireframe="true"></a-box>
        <a-box position="0 0 0" scale="3 3 3" wireframe="true"></a-box>
        <a-box position="0 0 0" scale="4 4 4" wireframe="true"></a-box>
        <a-box position="0 0 0" scale="5 5 5" wireframe="true"></a-box>
        {% for n,c in circ.items %}
        <a-circle position="{{c.x}} {{c.y}} {{c.z}}" rotation="90 0 0" radius="{{c.R}}"
          theta-start="{{c.rot}}" theta-length="90" wireframe="True"></a-circle>
        {% endfor %}
        <a-entity gltf-model="#glb_maru"
            src="#glb_maru"
            scale="0.75 0.75 0.75"
            position="0 0 0"
            rotation="0 180 0"></a-entity>

        <a-box color="tomato" depth="0.2" height="2" width="8" position="0 1 -2.5" rotation="-10 0 0"></a-box>
        <a-text value="Happy New Year!\n2020\"
            anchor="center" align="center" position="0 1.3 -2.0" width="12"
            color="white" rotation="-10 0 0">
        </a-text>
    </a-marker>
    <a-entity camera></a-entity>
</a-scene>
{% endblock %}
