{"version":3,"sources":["page/serviceWorker.ts","page/meshs/Kinect.tsx","page/meshs/Swarm.tsx","page/meshs/Model.tsx","src/components/Card.tsx","page/hooks/core/Card.tsx","src/components/Code.tsx","page/hooks/core/Code.tsx","page/hooks/core/Grow.tsx","src/containers/Modal.tsx","src/utils.ts","src/containers/Notes.tsx","page/hooks/core/Head.tsx","page/hooks/core/Trees.tsx","page/utils.ts","src/hooks/usePage.ts","src/components/Head.tsx","src/containers/Trees.tsx","src/components/Icon.tsx","src/containers/Sides.tsx","src/containers/Trans.tsx","page/Hook.tsx","page/Mesh.tsx","page/None.tsx","src/components/Grow.tsx","src/containers/Pills.tsx","page/index.tsx","page/Note.tsx","src/hooks/useNote.ts","src/hooks/useUser.ts"],"names":["Boolean","window","location","hostname","match","Kinect","url","width","nearClipping","pointSize","height","farClipping","zOffset","geometry","useRef","material","texture","useMemo","video","document","createElement","src","loop","load","muted","play","THREE","useFrame","position","Float32Array","i","j","l","length","Math","floor","current","setAttribute","dir","uniforms","map","Object","assign","keys","key","value","console","log","ref","attach","fragmentShader","vertexShader","depthTest","blending","depthWrite","transparent","Swarm","dark","size","count","mesh","dummy","random","useCallback","mul","add","particles","Array","t","xFactor","mx","factor","yFactor","my","speed","zFactor","forEach","particle","a","cos","sin","b","s","max","set","scale","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","args","color","Model","mouse","useLoader","GLTFLoader","animations","nodes","group","actions","useState","undefined","mixer","modelPos","delta","camera","update","x","z","updateProjectionMatrix","lookAt","useEffect","actionNum","idle","clipAction","weight","timeScale","clip","uncacheClip","dispose","rotation","PI","object","skeleton","skinning","Card","children","props","useSpring","xys","style","maxHeight","minHeight","min","margin","overflow","background","fontSize","borderRadius","calc","clientX","y","clientY","innerWidth","innerHeight","onMouseMove","e","onMouseLeave","div","boxShadow","interpolate","join","transform","useGrid","md","lg","setDark","setSize","onClick","change","p","require","atomOneLight","atomOneDark","Light","Code","code","language","inline","onDoubleClick","_","navigator","clipboard","writeText","customStyle","display","inlineStyle","verticalAlign","padding","PreTag","useInlineStyles","showLineNumbers","Grow","Modal","open","onClose","spring","close","vx","vy","setTimeout","bind","useGesture","onHover","hovering","onDrag","last","down","vxvy","movement","cancel","root","getElementById","left","justifyContent","top","alignItems","transition","zIndex","createPortal","stopPropagation","topUp","text","charAt","toUpperCase","slice","toLowerCase","equalPathname","urls","u","URL","joinURL","pathname","every","self","defaultPageConfig","onChange","defaultPage","id","split","filter","v","find","isHome","isLocal","protocol","portname","port","search","href","normPage","page","state","entries","sort","val","arr","getp","geti","n","maxLength","reduce","joinPage","defaultUserConfig","user","onSign","onSignin","onSignout","strArray","resultArray","TypeError","shift","replace","str","String","push","parts","is","isArray","obj","prototype","toString","call","fun","num","und","nul","Set","Map","equ","Notes","order","grandren","right","depth","setLength","setHeight","fill","isOpen","setIsOpen","orderRef","containerRef","childHeight","setPosition","childs","from","c","clientHeight","newLength","getY","pre","getG","indexOf","useSprings","springs","startTime","timeStamp","row","clamp","round","ind","ret","swap","op","getF","styles","marginTop","Children","child","grand","toArray","React","cloneElement","px","to","Head","Trees","scrollTop","scroll","behavior","pageConfig","customPage","isSign","status","fetcher","headers","axios","get","then","res","Error","data","signin","cred","post","token","username","authtoken","hookPage","Hook","hooks","HOOKS","canvas","gl","antialias","logarithmicDepthBuffer","onCreated","outputEncoding","pixelRatio","devicePixelRatio","meshPage","Mesh","MESHS","Canvas","usePage","config","pageRef","confRef","defaultConf","setPage","newPage","history","pushState","whiteSpace","textOverflow","cursor","marginRight","fontFamily","textTransform","willChange","borderLeft","marginLeft","defaultConfig","restSpeedThreshold","restDisplacementThreshold","TreeIcon","MinusSquareO","viewBox","d","PlusSquareO","EyeO","CloseSquareO","visible","immediate","springConfig","default","opacity","Icon","content","className","type","canHide","fa","circ","onOpen","onMove","textAlign","userSelect","SidesArea","rate","animation","SidesContainer","backgroundColor","SidesIcon","SidesItem","Sides","opened","setOpened","bool","velocity","wobbly","slow","stiff","TransArea","r","TransContainer","TransIcon","rotateZ","TransItem","Trans","getr","unit","onBind","onPinch","offset","intensity","castShadow","fallback","rel","onView","role","fn","useView","isIntersecting","Pills","childPos","childHub","setChildHub","bottom","isopen","setHub","App","path","component","exact","initGetURL","initGetter","initPoster","initNoteConfig","getURLRef","getterRef","posterRef","configRef","isFetching","note","getNote","updateURL","updateGetter","updateConfig","previousURL","diff","results","postNote","updatePoster","useNote","setNote","initURL","initSign","initConfig","urlRef","signinRef","useCookies","cookies","del","password","email","credit","setCredit","setUser","updateSignin","onError","catch","target","name","isAuth","input","icon","label","validate","autoComplete","error","success","useUser","lang","setLang","next","onMouseEnter","paddingTop","charSet","ja_text","en_text","source","now","k","borderRadus","alpha","far","toneMapping","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.74e2b584.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nconst cropValue=(dir:any)=>Object.assign({},...Object.keys(dir).map(key=>({[key]:{value:dir[key]}})))\r\n\r\n\r\nconst vertexShader = `\r\nvarying vec2 vUv;\r\nuniform sampler2D map;\r\nuniform float width, height, pointSize, zOffset, nearClipping, farClipping;\r\nconst float XtoZ = 1.11146; // tan( 1.0144686 / 2.0 ) * 2.0;\r\nconst float YtoZ = 0.83359; // tan( 0.7898090 / 2.0 ) * 2.0;\r\n\r\nvoid main() {\r\n    vUv = vec2( position.x / width, position.y / height );\r\n    vec4 color = texture2D( map, vUv );\r\n    float depth = ( color.r + color.g + color.b ) / 3.0;\r\n\r\n    // Projection code by @kcmic\r\n    float z = ( 1.0 - depth ) * (farClipping - nearClipping) + nearClipping;\r\n    vec4 pos = vec4(\r\n        ( position.x / width - 0.5 ) * z * XtoZ,\r\n        ( position.y / height - 0.5 ) * z * YtoZ,\r\n        - z + zOffset,\r\n        1.0\r\n    );\r\n\r\n    gl_PointSize = pointSize;\r\n    gl_Position = projectionMatrix * modelViewMatrix * pos;\r\n}\r\n`\r\nconst fragmentShader = `\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    vec4 color = texture2D( map, vUv );\r\n    gl_FragColor = vec4( color.r, color.g, color.b, 0.2 );\r\n}\r\n`\r\n\r\nexport const Kinect = ({ url, /*center=[0,0,-1000],*/\r\n        width=640, nearClipping=850, pointSize=2,\r\n        height=850, farClipping=4000, zOffset=1000,\r\n    }:any) => {\r\n    // ******************** Mount ******************** //\r\n    const geometry = useRef<any>()\r\n    const material = useRef<any>()\r\n    const texture = useMemo<any>(()=>{\r\n        const video = document.createElement('video', )\r\n        video.src = url\r\n        video.loop  = true; video.load();\r\n        video.muted = true; video.play();\r\n        return new THREE.VideoTexture( video )\r\n    }, [url])\r\n    // ******************** Render ******************** //\r\n    useFrame((/*{camera, mouse}*/)=>{\r\n        const position = new Float32Array( width*height*3 )\r\n        for ( var i=0, j=0, l=position.length; i<l; i+=3, j++ ) {\r\n            position[i]   = j % width;\r\n            position[i+1] = Math.floor( j/width );\r\n        }\r\n        geometry.current?.setAttribute( 'position', new THREE.BufferAttribute(position,3) );\r\n    })\r\n    const uniforms = cropValue({\r\n        map:texture,width,height,nearClipping,farClipping,pointSize,zOffset\r\n    })\r\n    console.log('Render Kinect');\r\n    return (\r\n        <>\r\n            <points position={[0,0,500]} >\r\n                <bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n                <shaderMaterial ref={material} attach=\"material\"\r\n                    {...{uniforms,fragmentShader,vertexShader}}\r\n                    depthTest ={false} blending={THREE.AdditiveBlending}\r\n                    depthWrite={false} transparent />\r\n            </points>\r\n        </>\r\n    )\r\n}\r\n","import React, {useCallback, useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const Swarm = ({ dark=false, size=50, count=25}:any) => {\r\n    const mesh = useRef<any>(null)\r\n    const dummy = useMemo(() => new THREE.Object3D(), [])\r\n    const random = useCallback((mul=1,add=0)=>add+Math.random()*mul, [])\r\n    const particles = useMemo(() => [...Array(count)].map(()=>({\r\n        t     :random(100),       xFactor:random(40,-20), mx:0,\r\n        factor:random(100,2),     yFactor:random(40,-20), my:0,\r\n        speed :random(1/200,0.01),zFactor:random(40,-20),})), [random,count])\r\n    useFrame(() => {\r\n        particles.forEach((particle, i) => {\r\n            let { t, factor, speed, xFactor, yFactor, zFactor } = particle\r\n            t = particle.t += speed / 2\r\n            const a = Math.cos(t) + Math.sin(t * 1) / 10\r\n            const b = Math.sin(t) + Math.cos(t * 2) / 10\r\n            const s = Math.max(1.5, Math.cos(t) * size / 10)\r\n            dummy.position.set(\r\n                (particle.mx/10)*a + xFactor + Math.cos((t/10)*factor) + (Math.sin(t*1)*factor)/10,\r\n                (particle.my/10)*b + yFactor + Math.sin((t/10)*factor) + (Math.cos(t*2)*factor)/10,\r\n                (particle.my/10)*b + zFactor + Math.cos((t/10)*factor) + (Math.sin(t*3)*factor)/10,\r\n            )\r\n            dummy.scale.set(s, s, s)\r\n            dummy.updateMatrix()\r\n            mesh.current.setMatrixAt(i, dummy.matrix)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <>\r\n            <instancedMesh ref={mesh} args={[null,null,count] as [any,any,number]}>\r\n                <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                <meshPhongMaterial attach=\"material\" color={dark?0x000000:0xffffff} />\r\n            </instancedMesh>\r\n        </>\r\n    )\r\n}\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n//import { draco } from 'drei'\r\n\r\n\r\nexport const Model = ({dark=true, size=50, mouse={current:[0,0]}, position=[0,-11,0],scale=[7,7,7]}:any) => {\r\n    const url = \"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb\"\r\n    const {animations, nodes}:any = useLoader(GLTFLoader, url, )\r\n    const group = useRef<any>(null)\r\n    const actions = useRef<any>(null)\r\n    //const [action] = useState(3)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(undefined as any))\r\n    const modelPos  = {x:0,y:0}\r\n    useFrame(({camera}:any, delta)=>{\r\n        mixer.update(delta)\r\n        if(! group?.current?.position) return\r\n        group.current.position.x = modelPos.x\r\n        group.current.position.z = modelPos.y\r\n        camera.updateProjectionMatrix(void (\r\n            camera.lookAt(new THREE.Vector3(modelPos.x/2,0,modelPos.y/2))))\r\n    })\r\n    useEffect(() => {\r\n        const actionNum = size > 50 ? 3 : 1\r\n        actions.current = { idle: mixer.clipAction(animations[actionNum], group.current) }\r\n        actions.current.idle.play()\r\n        actions.current.idle.weight = 1\r\n        actions.current.idle.timeScale = 1\r\n        return () => animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [animations,mixer,size])\r\n    if (!nodes)\r\n        return null\r\n    return (\r\n        <group ref={group} {...{position, scale}} dispose={null}>\r\n          <group rotation={[Math.PI/2,0,0]} scale={[0.01,0.01,0.01]}>\r\n            <primitive object={nodes[\"mixamorigHips\"]} />\r\n            <skinnedMesh geometry={nodes[\"Beta_Joints\"].geometry}\r\n                skeleton={nodes[\"Beta_Joints\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x212121:0x000000}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n            <skinnedMesh geometry={nodes[\"Beta_Surface\"].geometry}\r\n                skeleton={nodes[\"Beta_Surface\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x000000:0xffffff}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n          </group>\r\n        </group>\r\n    )\r\n}\r\n","/***Card\r\n  *     Ref : https://codesandbox.io/embed/rj998k4vmm\r\n  *           https://coliss.com/articles/build-websites/operation/css/\r\n ***/\r\nimport React, {FC, useCallback, useMemo} from 'react'\r\nimport { BasedProps } from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nexport type Card = FC<BasedProps>\r\nexport const Card:Card = ({size=1, children, ...props}) => {\r\n    const [{xys}, set] = useSpring(()=>({xys:[0,0,0]}))\r\n    const style = useMemo(() => {\r\n        const {dark=false,color=\"\",maxHeight=null, minHeight=null} = props\r\n        const min = minHeight||size*500\r\n        const max = maxHeight||null//size*500\r\n        return {margin:\"auto\", overflow:\"hidden\",\r\n                background : dark?\"#212121\":\"#fff\", minHeight:min, fontSize:size*50,\r\n                color:color||dark?\"#818181\":\"#000\", maxHeight:max, borderRadius:size*25,\r\n                width:`min(80vw,${size*500}px)`, ...(props.style||{})}\r\n    }, [size, props])\r\n    const calc = useCallback(({clientX:x, clientY:y})=>[\r\n       (x - window.innerWidth  / 2) / size / 250, // -1 ~ 1\r\n       (y - window.innerHeight / 2) / size / 250, // -1 ~ 1\r\n        1], [size])\r\n    const onMouseMove = useCallback((e) => set({xys:calc(e)}), [set,calc])\r\n    const onMouseLeave = useCallback(() => set({xys:[0,0,0]}), [set,])\r\n    return useMemo(()=>\r\n        <a.div style={{\r\n            boxShadow:xys.interpolate((x,y,s) => [\r\n                `${0.5-x*2}rem`,//offset-x     : -1.5 ~ 0.5 ~ 2.5\r\n                `${1.5-y*2}rem`,//offset-y     : -0.5 ~ 1.5 ~ 3.5\r\n                `${1.5 + s}rem`,//blur-radius  : 1.5 =hover=> 2.5\r\n                `${s - 0.5}rem`,//spread-radius:-0.5 =hover=> 0.5\r\n                `hsl(200 50% 20% / ${15+s*5}%)`].join(' ')),\r\n            transform:xys.interpolate((x,y,s) => [\r\n                `perspective(${size*50}px)`,\r\n                `rotateX(${-y/10}deg)`,//-0.1 ~ 0.1\r\n                `rotateY(${ x/10}deg)`,//-0.1 ~ 0.1\r\n                `scale(${1+s/10})` ,].join(' ')),\r\n            ...style }}\r\n           {...{...props,onMouseMove,onMouseLeave,children}}/>\r\n        , [style,xys,onMouseMove,onMouseLeave,children,props,size])\r\n}\r\n","import React, {\r\n    CSSProperties as CSS, FC, //Children,\r\n    useMemo, useCallback, //useState, useEffect, useRef\r\n} from 'react'\r\nimport {useGrid} from 'use-grid'\r\nimport {Card as C} from '../../../src'\r\nexport const Card:FC = () => {\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const style = useMemo<CSS>(() => ({fontSize:size*50}), [size])\r\n    const onClick = useCallback(() => {\r\n        const change = (p:any) => ({md:p.lg, lg:p.md})\r\n        setDark(change)\r\n        setSize(change)\r\n    }, [setDark,setSize])\r\n    return <C {...{dark,size,style,onClick}}>Card</C>\r\n}\r\n","import React, {CSSProperties as CSS, FC, useCallback, useMemo} from \"react\";\r\nconst {atomOneLight, atomOneDark} = require('react-syntax-highlighter/dist/esm/styles/hljs');\r\nconst {Light} = require('react-syntax-highlighter');\r\n\r\nexport type Code = FC<Partial<{\r\n    code:string, language:string, inline:boolean, dark:boolean, style:CSS,\r\n}>>\r\nexport const Code:Code = ({\r\n    code='', language=\"javascript\", inline=false, dark=false, style={}, ...props//children,\r\n}) => {\r\n    const onDoubleClick = useCallback((_:any)=>navigator.clipboard.writeText(code),[code])\r\n    const customStyle = useMemo(()=>{\r\n        const display = inline?\"inline-block\":\"fixed\"\r\n        const inlineStyle =inline?{verticalAlign:\"top\",padding:\"0 0\"}:{}\r\n        return {position:'relative',display,...inlineStyle}\r\n    },[inline])\r\n    return (\r\n        <Light  {...props} PreTag={inline?\"span\":\"pre\"}\r\n                {...{customStyle, onDoubleClick, language}}\r\n            style={{...style,...(dark?atomOneDark:atomOneLight)}}\r\n            useInlineStyles={true} showLineNumbers={!inline}>\r\n            {code}</Light>\r\n    );\r\n}\r\n","import React, {\r\n    CSSProperties as CSS, FC, //Children,\r\n    useMemo, useCallback, //useState, useEffect, useRef\r\n} from 'react'\r\n//import {Spring, config, animated as a} from 'react-spring'\r\nimport {useGrid} from 'use-grid'\r\nimport {Card, Code as C} from '../../../src'\r\nexport const Code:FC = () => {\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const style = useMemo<CSS>(() => ({fontSize:size*50}), [size])\r\n    const onClick = useCallback(() => {\r\n        const change = (p:any) => ({md:p.lg, lg:p.md})\r\n        setDark(change)\r\n        setSize(change)\r\n    }, [setDark,setSize])\r\n    return (\r\n        <Card {...{dark,size,style,onClick}}>\r\n            <C />\r\n        </Card>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {Card} from '../../../src'\r\nexport const Grow:FC = () => {\r\n    return (\r\n        <Card dark={1} />\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS,FC,useEffect,useCallback,useMemo} from 'react';\r\nimport { useSpring, animated as a } from 'react-spring';\r\nimport { useGesture } from 'react-use-gesture';\r\nimport {createPortal} from 'react-dom';\r\nimport { ModalProps } from '../types';\r\nexport type Modal = FC<ModalProps>\r\nexport const Modal:Modal = ({\r\n        open=false, onClose=null, dark=false, size=1, //onOpen=null,\r\n        children, color=\"\", ...props\r\n    }) => {\r\n    const width = useMemo(()=>500 * size,[size])\r\n    const [spring, set] = useSpring(()=>({x:0,y:-width,scale:0}))\r\n    useEffect(()=>{open&&set({x:0,y:0,scale:1})}, [open, set])\r\n    const close=useCallback( (vx=0,vy=0) => {\r\n        set({x:vx*width, y:(vy-1)*width, scale:0})\r\n        onClose && setTimeout(()=>onClose(), vx**2+vy**2)\r\n    }, [onClose, width, set] )\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?0.9:1}),\r\n        onDrag : ({last,down,vxvy:[vx,vy],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:down?mx:0,y:down?my:0})\r\n            return (mx**2>width**2/4||vx**2+vy**2>10)\r\n                ? close(vx,vy)\r\n                : set({x:0,y:0,scale:1})\r\n        },\r\n    })\r\n    const root = useMemo<HTMLElement|null>(()=>document.getElementById('root'),[])\r\n    const style = useMemo<CSS>(()=>({\r\n        left:0, width:\"100%\",  display:\"flex\",justifyContent:\"center\",\r\n        top:0, height:\"100%\", position:\"fixed\",   alignItems:\"center\",\r\n        transition:\"1s\", color:color||dark?\"#212121\":\"#000\",\r\n        zIndex:200,background:`rgba(${dark?\"80,80,80\":\"0,0,0\"},.5)`, ...props.style\r\n    }), [dark, color, props.style])\r\n    return open ? createPortal(\r\n        <div style={style} onClick={()=>onClose&&onClose()}>\r\n            <a.div style={{position:\"relative\",...spring}} {...bind()}\r\n                onClick={e=>e.stopPropagation()}>\r\n                {children}\r\n            </a.div>\r\n        </div>\r\n    , root as HTMLElement) : null\r\n}\r\n","import {Page, PageConfig, URLType, UserConfig} from './types'\r\nexport const topUp =(text:any)=> \"\"+text.charAt(0).toUpperCase()+\"\"+text.slice(1).toLowerCase()\r\nexport const clamp = (x:number, min=0, max=1) :number  => (x<min)?min:(x>max)?max:x\r\nexport const swap=(arr:number[],ind:number,row:number) => {\r\n    const ret = [...arr.slice(0, ind), ...arr.slice(ind+1, arr.length)]\r\n    return [...ret.slice(0, row), ...arr.slice(ind, ind+1), ...ret.slice(row)]\r\n}\r\nexport const equalPathname = (...urls:(URLType|string|undefined|null|false)[]) =>\r\n    urls.map(u => typeof u===\"string\"? new URL(u) : u)\r\n        .map(u => u && joinURL(u.pathname, \"/\"))\r\n        .every((u, _, self) => u===self[0])\r\n\r\n// *************************  use-page  ************************* //\r\nexport const defaultPageConfig:PageConfig = {\r\n    onChange:null,\r\n}\r\nexport const defaultPage = {\r\n    id      :window.location.pathname.split('/').filter(v=>v).find((_,i)=>i===1)||\"\",\r\n    isHome  :window.location.pathname.split('/').filter(v=>v).length > 1,\r\n    isLocal :window.location.hostname===\"localhost\",\r\n    protocol:window.location.protocol ||\"\",\r\n    hostname:window.location.hostname ||\"\",\r\n    portname:window.location.port     ||\"\",\r\n    pathname:window.location.pathname ||\"\",\r\n    search  :window.location.search   ||\"\",\r\n    language:window.navigator.language||\"ja\",\r\n    urls    :[new URL(window.location.href)],\r\n}\r\nexport const joinPage = <T={}>(page:Page<T>):string|string[] => {\r\n    const {protocol,hostname,portname,pathname=\"\",search=\"\"} = page;\r\n    const arr = [protocol,hostname,portname,pathname,search]\r\n    const getp =(port:any)=>port?`:${port}`:\"\"\r\n    const geti =(i=0,n:any)=>n instanceof Array?(i<n.length?n[i]:n[n.length-1]):n\r\n    if ( arr.every(v=>typeof v===\"string\") )\r\n        return joinURL(`${protocol}//${hostname}${getp(portname)}/`,pathname as any, search as any)\r\n    const maxLength = arr.map(v=>v instanceof Array?v.length:1).reduce((a,b)=>a>b?a:b)\r\n    return [...Array(maxLength)].map((_,i) =>\r\n        joinURL( `${geti(i,protocol)}//${geti(i,hostname)\r\n            }${getp(geti(i,portname))}/`,geti(i,pathname),geti(i,search) )\r\n    ) as string[]\r\n}\r\nexport const normPage = <T extends {}={}>(page:Page<T>) => {\r\n    const state = {...page} as any//Page<T>\r\n    Object.entries(state).sort(([_,val]) => typeof val===\"function\"?1:-1)\r\n    .forEach(([key,val]:any) => (state[key]=typeof val===\"function\"?val(state):val))\r\n    const urls = joinPage<T>(state as Page<T>)\r\n    return {...state, urls:urls instanceof Array\r\n      ? urls.map((u:any) => typeof u===\"string\" ? new URL(u) : u) as URLType[]\r\n      : [typeof urls===\"string\" ? new URL(urls) : urls] as URLType[] } as Page<T>\r\n}\r\n\r\n// *************************  For useUser  ************************* //\r\nexport const defaultUserConfig:UserConfig = {\r\n    keys:['username','authtoken'],\r\n    user:null,\r\n    onSign:null,\r\n    onSignin:null,\r\n    onSignout:null\r\n}\r\n// *************************  join-url  ************************* //\r\n// * This function is fork of join-url/urljoin\r\n// * Code : https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\r\n// ************************* *************** ************************* //\r\nexport function joinURL (...strArray:(string|number)[]) : string {\r\n    var resultArray = [];\r\n    if (strArray.length === 0) return ''\r\n    if (typeof strArray[0] !== 'string') throw new TypeError('Url must be string.');\r\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1)\r\n        strArray[0] = strArray.shift() + strArray[0];\r\n    if (strArray[0].match(/^file:\\/\\/\\//))\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\r\n    else\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\r\n    strArray = strArray.filter(str=>str!==\"\")\r\n    for (var i = 0; i < strArray.length; i++) {\r\n        let str = strArray[i];\r\n        if (typeof str === 'number') str = String(str)\r\n        if (typeof str !== 'string') throw new TypeError(`${str} must be a string. Received ${typeof str}`);\r\n        if (str === '') continue;\r\n        if (i > 0) str = str.replace(/^[\\/]+/, '');                   //eslint-disable-line\r\n        if (i < strArray.length - 1) str = str.replace(/[\\/]+$/, ''); //eslint-disable-line\r\n        else str = str.replace(/[\\/]+$/, '/');                        //eslint-disable-line\r\n        resultArray.push(str);\r\n    }\r\n    let str = (resultArray as string[]).join('/');\r\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\r\n    let parts = str.split('?');\r\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\r\n    return str;\r\n}\r\n// *************************  helpers  ************************* //\r\n// * This function is fork of react-spring\r\n// * Code : https://github.com/pmndrs/react-spring/blob/master/src/shared/helpers.ts\r\n// ************************* *************** ************************* //\r\nexport const is = {\r\n    arr: Array.isArray,\r\n    obj: (a: unknown): a is object    => Object.prototype.toString.call(a) === '[object Object]',\r\n    fun: (a: unknown): a is Function  => typeof a === 'function',\r\n    str: (a: unknown): a is string    => typeof a === 'string',\r\n    num: (a: unknown): a is number    => typeof a === 'number',\r\n    und: (a: unknown): a is undefined => a === void 0,\r\n    nul: (a: unknown): a is null      => a === null,\r\n    set: (a: unknown): a is Set<any>  => a instanceof Set,\r\n    map: (a: unknown): a is Map<any, any> => a instanceof Map,\r\n    equ(a: any, b: any) {\r\n    if (typeof a !== typeof b) return false\r\n        if (is.str(a) || is.num(a)) return a === b\r\n        if (is.obj(a) &&\r\n            is.obj(b) &&\r\n            Object.keys(a).length + Object.keys(b).length === 0)\r\n            return true\r\n        let i\r\n        for (i in a) if (!(i in b))     return false\r\n        for (i in b) if (a[i] !== b[i]) return false\r\n        return is.und(i) ? a === b : true\r\n    },\r\n}\r\n\r\nexport function merge(target: any, lowercase: boolean = true) {\r\n  return (object: object) =>\r\n    (is.arr(object) ? object : Object.keys(object)).reduce(\r\n        (acc: any, element) => {\r\n            const key = lowercase\r\n              ? element[0].toLowerCase() + element.substring(1)\r\n              : element\r\n            acc[key] = target(key)\r\n            return acc\r\n        },\r\n        target\r\n    )\r\n}\r\n","import React, {FC, CSSProperties, Children,useCallback,useMemo,useEffect,useState,useRef} from 'react'\r\nimport { useSprings, animated as a } from 'react-spring'\r\nimport { useGesture, } from 'react-use-gesture'\r\nimport { clamp, swap } from '../utils'\r\nimport { NotesProps } from '../types'\r\nexport type Notes = FC<NotesProps>\r\nexport const Notes:Notes = ({\r\n    order=null,\r\n    grandren=null, right=null, left=null, depth=0,\r\n    children, size=1, style={},...props\r\n}) => {\r\n    const [width,fontSize] = useMemo(()=>[size*500,size*50],[size])\r\n    const [length, setLength] = useState<number>((children as any)?.length||1)\r\n    const [height, setHeight] = useState<number>(width*length)\r\n    const [isOpen, setIsOpen] = useState<boolean[]>(Array(length).fill(false))\r\n    const orderRef    = useRef<number[]>(order||[...Array(length)].map((_,i:number)=>i))\r\n    const containerRef= useRef<HTMLDivElement|null>(null)\r\n    const childHeight = useRef( Array(length).fill(width) )\r\n    const setPosition = useCallback(() => {\r\n        const childs  = Array.from(containerRef?.current?.children||[])\r\n        childHeight.current = [...childs].map((c:any)=>c.clientHeight)\r\n        children && setHeight(childHeight.current.reduce((a,b)=>a+b) || width*length)\r\n    }, [width, length, children])\r\n    useEffect(()=>{\r\n        const newLength = (children as any)?.length||1\r\n        setLength(newLength)\r\n        setIsOpen(Array(newLength).fill(false))\r\n        if (orderRef.current.length !== newLength)\r\n            orderRef.current = order||[...Array(newLength)].map((_,i:number)=>i)\r\n            childHeight.current = Array(newLength).fill(width)\r\n    }, [width,order,children])\r\n    //  *************************   React Springs  *************************  //\r\n    const getY =({pre=0,arr=orderRef.current})=>pre<1?0:arr.slice(0,pre).map(i=>childHeight.current[i]).reduce((a,b)=>a+b)\r\n    const getF =({i=-1,x=0,s=1.0})=>(j=0)=>({x:j===i?x:0,y:getY({pre:orderRef.current.indexOf(j)}),scale:j===i?s:1})\r\n    const getG = useCallback(({i=-1,arr=orderRef.current,pre=-1,mx=0,my=0,down=false}) =>\r\n        (j:number) => (down&&j===i)\r\n            ? {scale:0.9, x:mx, y:getY({pre})+my}\r\n            : {scale:1.0, x:0 , y:getY({pre:arr.indexOf(j),arr})}, [])\r\n    const [springs, set] = useSprings(length, getG({}))\r\n    const bind = useGesture({\r\n        onDrag : ({ down,cancel,movement:[mx,my],startTime,\r\n                    last, args:[i], vxvy:[vx,vy],timeStamp, }) => {\r\n            if(!isOpen[i] && cancel && timeStamp-startTime<1000) cancel()\r\n            const pre = orderRef.current.indexOf(i)\r\n            const row = clamp( Math.round(pre+my/width), 0, length-1 )\r\n            const arr = swap(orderRef.current, pre, row)\r\n            if(!down) orderRef.current = arr\r\n            if(!last) return set( getG({i,arr,pre,mx,my,down}) )\r\n            const x = (mx<0?-1:1) * fontSize// * 2 // window.innerWidth/2 -\r\n            const op = (mx**2<.1||x**2<mx**2*2||vx**2+vy**2>1) ? !isOpen[i] : isOpen[i]\r\n            setIsOpen(p=>[...Object.assign([],{[i]:!p[i]})])\r\n            setTimeout(()=>{setPosition();set(getF({i,x:op?x:0,s:op?.9:1}))},1)\r\n        }\r\n    })\r\n    //  *************************   Child Render  *************************  //\r\n    const styles = useMemo<CSSProperties[]>( () => [\r\n        {width:`min(95vw,${width}px)`,position:\"relative\",margin:`auto`,...style,height     },//*DEV*/,background:\"rgba(100,0,0,0.5)\"},\r\n        {width:`min(95vw,${width}px)`,position:\"relative\",marginTop:fontSize,minHeight:width},//*DEV*/,background:\"rgba(0,100,0,0.5)\"},\r\n        {position:\"absolute\",top:0,left:0,right:0,margin:\"auto\"                             },//*DEV*/,background:\"rgba(0,0,100,0.5)\"},\r\n        {position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translate(-50%,-50%)\",fontSize },\r\n    ], [width,height,fontSize,style] )\r\n    children = Children.map(children, (child) => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []//count(child.props.children) || 0\r\n        return (grand.length>1 && depth===0) // TODO for depth > 0\r\n            ? React.cloneElement(child as any, {children:grand[0], grandren:(\r\n                <Notes {...{...props, depth:depth+1,children:grand.slice(1)}}/> )})\r\n            : child\r\n    })\r\n    useEffect(()=>{ setPosition(); set(getG({})) }, [setPosition, set, getG] )\r\n    //!depth&&console.log(`Render Notes:${depth} height:${height} length:${length} orderRef:`,orderRef.current);\r\n    return (\r\n        <div ref={containerRef} style={{...styles[0]}}>\r\n            {springs.map( ({x,y,scale}, key) =>\r\n                <a.div {...{key}} style={{x,y,position:\"absolute\"}}>\r\n                    <a.div {...bind(key)} style={{scale,...styles[1]}}>\r\n                        {(children as any)[key]}\r\n                    </a.div>\r\n                    { x.interpolate((px:number)=>px**2>0 ) &&\r\n                    <a.div style={{height:childHeight.current[key],...styles[2],\r\n                        y:0,  x:x.to((px:number)=> -px+(px>0?-.5:.5)*(width)),\r\n                        scale  :x.to((px:number)=>px**2/4>size**2?1:(px>0?px:-px)/(size)),\r\n                        width  :x.to((px:number)=>px>0?px*2:-px*2),\r\n                        display:x.to((px:number)=>px?\"inline\":\"none\")\r\n                    }}>\r\n                        { right&& <a.div style={{display:x.to((px:number)=>px>0?\"inline\":\"none\"),...styles[3]}}>\r\n                        { right } </a.div> }\r\n                        { left && <a.div style={{display:x.to((px:number)=>px<0?\"inline\":\"none\"),...styles[3]}}>\r\n                        { left  } </a.div> }\r\n                    </a.div>\r\n                    }\r\n                    { isOpen[key] && /* TODO grand child*/\r\n                        ( (children as any)[key].props?.grandren || '' )\r\n                    }\r\n                </a.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Modal, Notes} from '../../../src'\r\nexport const Head = () => <>\r\n    <Modal>\r\n        <>hello</>\r\n        <>login</>\r\n    </Modal>\r\n    <Notes>\r\n        <>note </>\r\n        <>\r\n            <>note </>\r\n            <>note  - </>\r\n            <>note  - </>\r\n        </>\r\n    </Notes>\r\n</>\r\n","import React, {FC} from 'react'\r\n//import {Trees as TREES} from '../../../src'\r\nexport const Trees:FC = () => {\r\n    return (\r\n        <>Trees</>\r\n    )\r\n}\r\n","import axios  from 'axios'\r\nimport * as THREE from 'three'\r\nimport * as MESHS from './meshs'\r\nimport * as HOOKS from './hooks'\r\nimport {Credit, URLType, Page, topUp} from '../src'\r\n// ************************* FOR NOTE ************************* //\r\nexport const scrollTop=()=>document.getElementById('root')?.scroll({top:0,left:0,behavior:'smooth',});\r\nexport const pageConfig = { onChange:() => scrollTop() }\r\nexport type CustomPage =\r\n   {portname:string[], isHome:boolean,\r\n    pathname:string[], status:string, }\r\nexport const customPage : Partial<Page<CustomPage>> = {\r\n    isSign:false,status:\"\", portname: ({isLocal}) => isLocal?[\"3000\",\"8000\",\"8000\"]:[],\r\n    isHome:({id}) => !id  , pathname: ({id,status}) =>\r\n        [   `/note/${ id?id+'/':'' }`,\r\n        `/api/note/${ id?id+'/':'' }`,\r\n        status!==\"UP\"? `/auth/`: `/api/user/`]\r\n}\r\nexport const fetcher = async (url:URLType,headers={'Content-Type':'application/json'}) =>\r\n   axios.get(url.href, {headers})\r\n        .then(res => {\r\n            if(!res || res.status!==200)\r\n                throw new Error('Bad Request')\r\n            return res.data\r\n        })\r\nexport const signin = async (url:URLType, cred:Credit, headers={'Content-Type':'application/json'}) =>\r\n   axios.post(url.href, cred, {headers})\r\n        .then((res) => {\r\n            if (res.status>201 || !res.data.token)\r\n                throw new Error('Bad Request')\r\n            return {username:cred.username, authtoken:res.data.token}\r\n        })\r\n\r\n// ************************* FOR HOOK ************************* //\r\n// export const hookTree = {\r\n//     Components: [\"Card\",\"Code\",\"Grow\",\"Head\",\"Icon\"],\r\n//     Containers: [\"Modal\",\"Notes\",\"Trees\"],\r\n// }\r\nexport type  HookPage = {pathname:string, Hook:any, hooks:any}\r\nexport const hookPage = {\r\n    pathname: ({id=\"\"}) => `/hook/${id}`,\r\n    Hook : ({hooks={},id=\"\"}) => (hooks as any)[topUp(id)],\r\n    hooks: Object.assign({}, ...Object.keys(HOOKS).map(key =>\r\n        key in HOOKS && {[key]: (HOOKS as any)[key]}\r\n    ))\r\n}\r\n// ************************* FOR MESH ************************* //\r\nconst canvas = {\r\n    Kinect:{},\r\n    Swarm :{\r\n        gl: {antialias:false, logarithmicDepthBuffer:true},\r\n        camera: {position:[0,-2,3]},\r\n        onCreated: ({gl}:any)=>{gl.outputEncoding=THREE.sRGBEncoding},\r\n        pixelRatio: window.devicePixelRatio,\r\n    }\r\n}\r\nexport type  MeshPage = {canvas:any, Mesh:any}\r\nexport const meshPage = {\r\n    Mesh  :({id=\"\"}) => (MESHS  as any)[topUp(id)] || null,\r\n    Canvas:({id=\"\"}) => (canvas as any)[topUp(id)] || null,\r\n}\r\n","/** ************************* USE PAGE *************************\r\n * This is a hook to record the URL of the Restfl API\r\n *   - `const [page, set] = usePage({id:null,home:({id})=>!id}, config)`\r\n *   - `const onClick=()=>set({id:90}, config)`\r\n *   - ```\r\n *     {Page, id:null}  <=data=> (DB1 : URL1 by id), (DB2 : URL2 by id)\r\n *          | change id\r\n *          |  => change URLs by id (e.g. /api to /api/90)\r\n *          v  => change user state (e.g. home:true to home:false)\r\n *     {New Page, id:90}\r\n *     ```\r\n * # ***** usePage API Configs *****\r\n * ## Props Values\r\n *   - `const _ = usePage(@initPage, @config)`\r\n *   - @initPage = {\r\n *         @isHome  :boolean\r\n *         @isLocal :boolean\r\n *         @id      :string e.g. 2\r\n *         @protocol:string e.g. \"https:\"\r\n *         @hostname:string e.g. \"localhost\"\r\n *         @portname:string e.g. \"3000\"   or [\"3000\"(npm), \"8000\"(django)]\r\n *         @pathname:string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @search  :string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *   - @config = {TODO}\r\n *   - type MultiPage<T=any> = T|T[]|((p:Page)=>T|T[])\r\n * ## Return Values\r\n *   - @page : {...@initPage(as T|T[]),\r\n *         @url ?: from initPage parameters    e.g. \"http...\" or [\"http...\", ...more]\r\n *         @XXX ?: any value you set when init e.g. @home:true\r\n *   - @set   : (args) => void ( setState )\r\n ** ************************* ********* *************************/\r\n\r\nimport {useEffect, useState, useCallback, useRef} from 'react'\r\nimport {defaultPageConfig as defaultConf, defaultPage, normPage} from '../utils'\r\nimport {Page , PageConfig as Conf, BasicProps, BasicState, BasicAction} from '../types'\r\nexport const usePage = <T extends {}={}>(\r\n    props :BasicProps<Partial<Page<T>>>,//BasicProps<Page<T>>,\r\n    config:BasicProps<Partial<Conf<T>>>={},\r\n) : [Page<T>, BasicAction<Partial<Page<T>>>] => {\r\n    if (typeof props===\"function\") props  = props()\r\n    if (typeof config===\"function\")config = config()\r\n    const pageRef = useRef<Page<T>>({...defaultPage, ...props } as Page<T>)\r\n    const confRef = useRef<Conf<T>>({...defaultConf, ...config} as Conf<T>)\r\n    const [page,set] = useState<Page<T>>( normPage(pageRef.current) )\r\n    //  ************************* setPage *************************  //\r\n    const setPage = useCallback((state:BasicState<Partial<Page<T>>>) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current as Partial<Page<T>>)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [page.id])\r\n    return [page, setPage]\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\n\r\nexport type Head = FC<BasedProps>\r\nexport const Head:Head = ({\r\n    children, color=\"\", dark=false,size=50, style={}, ...props\r\n}) => {\r\n    style = useMemo<CSS>(()=>({\r\n        fontSize:size*50,\r\n        color:color||dark?\"#818181\":\"#000\",\r\n        width:`max(70vw, 100vw - ${size*200}px)`,\r\n        height:\"auto\",\r\n        margin:\"auto\",\r\n        ...style\r\n    }), [color,dark,size,style])\r\n    return <div {...{children,style,...props}}/>\r\n}\r\n","// This is a fork of\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/index.js\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/icons.js\r\n// demo: https://codesandbox.io/embed/rrw7mrknyp\r\n//     @content, Name of the node (string or React-component)\r\n//     @type   , optional description, good for displaying icons, too (string or React-component)\r\n//     @open   , optional: default open state\r\n//     @canHide, optional: when set true displays an eye icon\r\n//     @visible, optional: default visible state\r\n//     @onClick, optional: click events on the eye\r\n//     @springConfig, optional: react-spring animation config\r\nimport React, {\r\n    CSSProperties as CSS, FC, Children,\r\n    useMemo, useState, useEffect, //useRef\r\n} from 'react'\r\nimport {useSpring, config, animated as a} from 'react-spring'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    tree: {\r\n        padding: '4px 0px 0px 0px',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n        verticalAlign: 'middle',\r\n    },\r\n    toggle: {\r\n        width: '1em',\r\n        height: '1em',\r\n        cursor: 'pointer',\r\n        verticalAlign: 'middle',\r\n        marginRight: 10,\r\n    },\r\n    type: {\r\n        fontSize: '0.6em',\r\n        fontFamily: 'monospace',\r\n        verticalAlign: 'middle',\r\n        textTransform: 'uppercase',\r\n    },\r\n    contents: {\r\n        padding: '4px 0px 0px 14px',\r\n        willChange: 'transform, opacity, height',\r\n        borderLeft: '1px dashed rgba(255,255,255,0.4)',\r\n        marginLeft: 6,\r\n    },\r\n}\r\nconst defaultConfig = {restSpeedThreshold: 1,restDisplacementThreshold: 0.01}\r\nexport type TreeIcon = {[key:string]:FC<{style:CSS,onClick:()=>void,className?:string}>}\r\nexport const TreeIcon:TreeIcon = {\r\n    MinusSquareO: props => (\r\n      <svg {...props} viewBox=\"64 -65 897 897\">\r\n        <g>\r\n          <path\r\n            d=\"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0\r\n      q0 -15 -11 -25.5t-25 -10.5z\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    ),\r\n    PlusSquareO: props => (\r\n      <svg {...props} viewBox=\"64 -65 897 897\">\r\n        <g>\r\n          <path\r\n            d=\"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184\r\n      q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    ),\r\n    EyeO: props => (\r\n      <svg {...props} viewBox=\"61 51 902 666\">\r\n        <g>\r\n          <path\r\n            d=\"M963 384q0 14 -21 62q-26 65 -61 109q-57 71 -139 112q-99 50 -230 50t-231 -50q-80 -41 -138 -112q-34 -43 -61 -109q-21 -48 -21 -62v0v0v0v0q0 -14 21 -62q27 -66 61 -109q57 -71 139 -112q100 -50 230 -50t230 50q81 41 139 112q35 44 62 109q20 48 20 62v0v0v0v0z\r\n      M889 384q-25 -77 -64 -126h-1q-46 -59 -114 -93q-85 -42 -198.5 -42t-198.5 42q-67 34 -114 93q-40 49 -65 126q25 77 65 126q47 59 114 93q85 43 199 43t198 -43q67 -33 114 -93q40 -49 65 -126zM512 558q-72 0 -122.5 -50.5t-50.5 -122.5t50.5 -122.5t122.5 -50.5\r\n      t122.5 50.5t50.5 122.5t-50.5 122.5t-122.5 50.5zM614 385q0 -42 -30 -72t-72 -30t-72 30t-30 72t30 72t72 30t72 -30t30 -72z\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    ),\r\n    CloseSquareO: props => (\r\n      <svg {...props} viewBox=\"64 -65 897 897\">\r\n        <g>\r\n          <path\r\n            d=\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155\r\n      q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    )\r\n}\r\nexport type Trees = FC<Partial<{\r\n    open:boolean, visible:boolean, immediate:boolean,\r\n    springConfig:any, canHide:boolean, content:any, style:CSS, type:any, depth:number\r\n}>>\r\nexport const Trees:Trees = ({\r\n    open=true, visible=true, immediate=true, depth=0,\r\n    springConfig=defaultConfig, children, ...props\r\n}) =>  {\r\n    // ********** props and state **********\r\n    useEffect(() => void (set(p => visible!==p.visible? {...p, visible} : p)), [visible])\r\n    const [state, set] = useState<{[key:string]:boolean}>({open,visible,immediate})\r\n    const spring = useSpring<any>({\r\n        immediate:state.immediate,\r\n        config: {...config.default,...springConfig},\r\n        from: {height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\r\n        to: {  height: state.open ? 'auto' : 0,\r\n              opacity: state.open ? 1 : 0,\r\n            transform: state.open ? 'translate3d(0px,0,0)' : 'translate3d(20px,0,0)'},\r\n    })\r\n    const Icon = useMemo(() => TreeIcon[`${ children instanceof Array && children.length>0\r\n            ? (state.open ? 'Minus' : 'Plus')\r\n            : 'Close'}SquareO`], [children, state.open])\r\n    children = Children.map(children, child => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []\r\n        return <Trees {...{...props,\r\n                open:false,     children:grand.length>0 ? grand.slice(1) : null,\r\n                immediate:false, content:grand[0],}}/>\r\n    })\r\n    return (\r\n        <div style={{...styles.tree, ...props.style}} className=\"treeview\">\r\n            <Icon onClick={() => set(p => ({open:!p.open, immediate:false}))}\r\n                  style={{...styles.toggle,   opacity: children? 1:0.3 } as CSS}/>\r\n            <span style={{...styles.type, marginRight: props.type?10:0 } as CSS}>\r\n                {props.type}\r\n            </span>\r\n            {props.canHide &&\r\n            <TreeIcon.EyeO\r\n                style={{...styles.toggle, opacity: state.visible ? 1 : 0.4 } as CSS}\r\n                onClick={()=>set(p => ({open:p.open, visible:p.visible, immediate:true}))}/> }\r\n            <span style={{ verticalAlign: 'middle' }}>{props.content}</span>\r\n            <a.div style={{...spring, ...styles.contents}}>\r\n                {children && children}\r\n            </a.div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nexport type Icon = FC<BasedProps>\r\nexport const Icon:Icon = ({\r\n    fa=\"\",dark=false,circ=true,size=1,onOpen=null, //onClose=null,\r\n    children,className='',...props//,color=''\r\n}) => {\r\n    const [{xys}, set] = useSpring(() => ({xys:[0,0,0]}))\r\n    const bind = useGesture({\r\n        onMove : ({vxvy:[vx,vy],last}) => set({xys:[vx,vy,last?0:1]})\r\n    })\r\n    const color = useMemo(()=>props.color||circ\r\n      ? dark?\"#818181\":\"#fff\"\r\n      : \"#212121\",[props.color,circ,dark])\r\n    const style = useMemo<CSS>(() => ({\r\n        padding:\"0px\",top:0,right:0,textAlign:\"center\",userSelect:\"none\",\r\n        ...(circ?{borderRadius:size*50,background:\"#212121\"}:{}),\r\n        ...props.style,color,height:size*50,width:size*50,fontSize:size*50\r\n    }), [size,circ,color,props.style] )\r\n    return <a.div style={{\r\n                x : xys.interpolate((x,y,s) => x*size*50+y*s),\r\n                y : xys.interpolate((x,y,s) => y*size*50+x*s),\r\n                filter : xys.interpolate((x,y,s) => [\r\n                    `drop-shadow(${0.1+x}rem`, // -x~0.5~x\r\n                                `${0.5+y}rem`, // -y~1.5~y\r\n                                `${1-s/2}rem`, // 1 =hover=> 0.5\r\n                    `rgba(0,0,0, ${0.5+s/20}))`// 0.50 =hover=> 0.55\r\n                ].join(' ')),\r\n                transform : xys.interpolate((x,y,s) => [\r\n                    `perspective(${size*50}px)`,\r\n                    `rotateX(${-y}deg)`,//-1 ~ 1\r\n                    `rotateY(${x}deg)` ,//-1 ~ 1\r\n                    `scale(${1+s/10})` ,// 1 ~ 1.1\r\n                ].join(' ')),\r\n            ...style} as CSS}\r\n           {...{children,className:className+fa?` fas fa-${fa}`:\"\"}}\r\n           {...bind()} {...props} />\r\n}\r\n","import React, {FC,CSSProperties,useCallback,useMemo,useRef} from 'react';\r\nimport { useSpring, animated as a, config } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nimport { BindsProps, BasedProps } from'../types'\r\nimport { Icon } from '../components'\r\n\r\nexport const SidesArea :FC<BindsProps> = ({spring, bind, size=1}) => {\r\n    const width = spring.x.to((x:number)=>x>1?\"100%\":`${size*50/2}px`)\r\n    const background = spring.scale.to((s:number)=>{\r\n        const rate  = spring.x.animation.to/window.innerWidth //0 ~ 0.5\r\n        return `linear-gradient(90deg,rgba(0,0,0,${rate+s-1}),rgba(0,0,0,0))`\r\n    })\r\n    const style = {position:\"fixed\",top:0,left:0,height:\"100%\",zIndex:1,overflow:\"hidden\"}\r\n    return <a.div style={{...style,width,background}} {...bind()} />\r\n}\r\n\r\nexport const SidesContainer : FC<BindsProps> = ({size=1, spring, children}) => {\r\n    const styles = useMemo<CSSProperties[]>(()=>[\r\n      { margin:`${50*size}px 0px 0px 0px`, position:\"absolute\",},\r\n      { position:\"fixed\",top:\"2%\",left:0,zIndex:1,overflow:\"hidden\",\r\n        borderRadius:`0px ${50*size}px ${50*size}px 0px`,\r\n        height:`96%`, backgroundColor:\"#212121\" }\r\n    ], [size])\r\n    return (\r\n        <a.div style={{...styles[1],width:spring.x.interpolate((x:number)=>x>0?x:0)}}>\r\n            <div style={styles[0]}>{children}</div>\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const SidesIcon : FC<BindsProps> = ({spring, bind, circ=false, size=1}) => {\r\n    return (\r\n        <a.div {...bind()} style={{\r\n            position:\"absolute\",top:size*50,left:size*50,\r\n            transform:`translate(-50%,-50%)`,...spring}}>\r\n            <Icon fa=\"align-left\" {...{circ,size}} />\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const SidesItem :FC<BindsProps> = ({children, size=1}) => {\r\n    return <a.div {...{children, style:{\r\n        //x:spring.x.interpolate((x,y,s)=>(x-width)), // BAD DESIGN\r\n        padding:\"10px 10px 10px 32px\",color:\"#818181\",\r\n        display:\"block\",transition:\"0.75s\",fontSize:50*size}}} />\r\n}\r\n\r\nexport const Sides : FC<BasedProps> = ({children, width=window.innerWidth/2, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool=true)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring( () => ({x:0,y:0,scale:1}) )\r\n    const open  =(velocity=0)=>1&&(setOpened(true),set({x:width,y:0,config:velocity!==0?config.wobbly:config.slow}))\r\n    const close =(velocity=0)=>1&&(setOpened(false),set({x:0    ,y:0,config:{...config.stiff,velocity }}))\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:(opened.current?width:0)+(down?mx:0),y:down?my:0})\r\n            if(!opened.current) return (mx===0||mx> width*0.5||vx> 0.5) ? open(vx) : close(vx)\r\n            if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ? close(vx): open(vx)\r\n        },\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\", top:0,left:0,zIndex:100}}>\r\n            <SidesIcon   {...{size, spring, bind, }} />\r\n            <SidesArea     {...{size, spring, bind, }} />\r\n            <SidesContainer{...{size, spring, bind, }}>\r\n            {React.Children.map(children, ((child, key)=>\r\n                <SidesItem {...{size, key}}>{child}</SidesItem>\r\n            ))}\r\n            </SidesContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,CSSProperties,useCallback,useMemo,useRef} from 'react';\r\nimport { useSpring, animated as a, config, UseSpringProps } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nimport {BindsProps, BasedProps} from '../types'\r\nimport { Icon } from '../components'\r\n\r\nexport const TransArea :FC<BindsProps> = ({size=1, spring, bind}) => {\r\n    const style = {position:\"fixed\",top:0,right:0,height:\"100%\",zIndex:1,overflow:\"hidden\"}\r\n    return <a.div style={{\r\n                width   :spring.r.interpolate((r:number)=>`${\r\n                    50*size*( Math.cos(r/90*Math.PI)+1.5)\r\n                }px`),\r\n                background:spring.scale.interpolate((s:number)=>[\r\n                    `linear-gradient(90deg`,\r\n                    `rgba(0,0,0,0)`,\r\n                    `rgba(0,0,0,${s-1}))`\r\n                ].join(',')),\r\n                ...style}}\r\n               {...bind()} />\r\n}\r\n\r\nexport const TransContainer : FC<BindsProps> = ({children, size=1, spring, bind}) => {\r\n    const styles = useMemo<CSSProperties[]>(()=>[\r\n      { margin:`calc(${50*size*2}px - 2%) 0px 0px 0px` }, //`calc(${size}*2 - 4%) 0px 0px 0px`\r\n      { position:\"fixed\",height:`96%`,top:\"2%\",right:0,zIndex:1,overflow:\"hidden\", } ], [size])\r\n    return (\r\n        <a.div {...bind()} style={{...styles[1],width:spring.r.interpolate(\r\n            (r:number) => `${ 50*size*(Math.cos(r/90*Math.PI)+1) }px` )}}>\r\n            <div style={styles[0]}>{children}</div>\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const TransIcon : FC<BindsProps> = ({size=1, spring, bind, circ=false}) => {\r\n    return (\r\n        <a.div {...bind()} style={{\r\n            position:\"absolute\",top:50*size,right:0,\r\n            transform:`translate(-50%,-50%)`,rotateZ:spring.r}}>\r\n            <Icon fa=\"align-justify\" {...{circ,size}} />\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const TransItem :FC<BindsProps> = ({children, size=1}) => {\r\n    const styles = useMemo<CSSProperties[]>( () => [\r\n        { margin:`${50*size/4}px 0px`, borderRadius:`${50*size}px 0px  0px ${50*size}px`,\r\n          backgroundColor:\"#212121\",color:\"#818181\", display:\"inline-block\" },\r\n        { margin:`auto ${50*size/2}px`,height:`${50*size}px`, fontSize:`${50*size}px`,\r\n          display:\"flex\",alignItems:\"center\", zIndex:1} ], [size])\r\n    return (\r\n        <a.div style={styles[0]}>\r\n            <div style={styles[1]}>{children}</div>\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const Trans : FC<BasedProps> = ({children, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool:boolean)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring<UseSpringProps>( () => ({x:0, y:0, r:90, scale:1,}) )\r\n    const getr = (velocity=0) => {\r\n        const pre  = ~~(spring.r.animation.to/90) //  Math.round( spring.r.animation.to/90 || 0 ) //\r\n        const unit = ((opened.current?1:0) === (pre%2)?0:1) ? 0:1 //to change:1 no diff:0\r\n        return 90 * ( pre + unit * (velocity<0?-1:1) )\r\n    }\r\n    const width = useMemo(()=>500*size, [size])\r\n    const open  =(v:number)=>1&&(setOpened(true) ,set({r:getr(v),config:v!==0?config.wobbly:config.slow}))\r\n    const close =(v:number)=>1&&(setOpened(false),set({r:getr(v),config:{...config.stiff }}))\r\n    const onBind = ({mx=0,vx=0,down=false,last=false}) => {\r\n        if (!last) return set({r:spring.r.animation.to+(down?2*(-mx)/width:0)})\r\n        if(!opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ?  open(-vx) : close(-vx)\r\n        if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5||0.5<vx) ? close(-vx) :  open(-vx)\r\n    }\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onPinch : ({last,down,offset :[_,a]})  => onBind({down,last,vx:0,mx:a}),\r\n        onDrag  : ({last,down,vxvy:[vx,],movement:[mx,],}) => onBind({down,last,vx,mx:mx})\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\",top:0,right:0,zIndex:100}}>\r\n            <TransIcon      {...{size, spring, bind, }} />\r\n            <TransArea      {...{size, spring, bind, }} />\r\n            <TransContainer {...{size, spring, bind, }} >\r\n            {React.Children.map(children, ((child, key:number)=>\r\n                <TransItem {...{size/*, spring, width*/, key}} >{child}</TransItem>\r\n            ))}\r\n            </TransContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC} from 'react'\r\nimport {useGrid} from 'use-grid'\r\nimport {Helmet} from 'react-helmet-async';\r\nimport {hookPage,HookPage} from './utils'\r\nimport {topUp,usePage,Sides,Trans,Head,Code,Trees,//Card,\r\n} from '../src'\r\nconst styles:{[key:string]:CSS} = {\r\n    top   : {position:\"relative\", transition:\"1s\", minHeight:\"100%\", overflow:\"hidden\"},\r\n    btn   : {fontSize:\"1.5rem\", borderRadius:\"1rem\", textAlign:\"center\", background:\"rgba(0,0,0,0.2)\"},\r\n    canvas: {position:\"fixed\", width:\"100%\", height:\"100%\", top:0, left:0}\r\n}\r\nconst treeCode = `\r\nconst App = () => (\r\n    <Trees content=\"Hook\">\r\n        <>\r\n            <>Components</>\r\n            <>Card</>\r\n            <>Code</>\r\n            <>Grow</>\r\n            <>Head</>\r\n            <>Icon</>\r\n        </>\r\n        <>\r\n            <>Containers</>\r\n            <>Modal</>\r\n            <>Notes</>\r\n            <>Trees</>\r\n        </>\r\n    </Trees>\r\n)`\r\nexport const Hook:FC = () => {\r\n    const [dark, setDark] = useGrid<number>({md:0, lg:0 })\r\n    const [size, setSize] = useGrid<number>({md:1, lg:1.5})\r\n    const [page, setPage] = usePage<HookPage>(hookPage)\r\n    return (\r\n    <div style={{...styles.top, background:dark?\"#000\":\"#fff\", paddingTop:size*100}}>\r\n        <Head {...{dark,size:0.5,onClick:()=>setPage({id:\"\"}),}}>\r\n            <Trees content=\"Hook\">\r\n                <>\r\n                    <>Components</>\r\n                    <>Card</>\r\n                    <>Code</>\r\n                    <>Grow</>\r\n                    <>Head</>\r\n                    <>Icon</>\r\n                </>\r\n                <>\r\n                    <>Containers</>\r\n                    <>Modal</>\r\n                    <>Notes</>\r\n                    <>Trees</>\r\n                </>\r\n            </Trees>\r\n        </Head>\r\n        <Code code={treeCode}/>\r\n        {/*page.Hook && <page.Hook />*/}\r\n        <Sides {...{size}}>\r\n            <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n            <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {topUp(page.id)}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","// todo\r\n//     <TransformControls>\r\n//         <Model {...{dark,size}}/>\r\n//     </TransformControls>\r\n//     <Swarm {...{dark,size}}/>\r\nimport React, {\r\n    CSSProperties as CSS, FC, Suspense,// useMemo\r\n} from 'react'\r\nimport {Sides, Trans} from '../src/containers'\r\nimport {useGrid} from 'use-grid'\r\nimport {Helmet} from 'react-helmet-async';\r\nimport {TransformControls} from 'drei'\r\n// import * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {meshPage,MeshPage} from './utils'\r\nimport {usePage,//Trees\r\n        } from '../src'\r\nimport {Model, Swarm} from './meshs'\r\nconst styles:{[key:string]:CSS} = {\r\n    top   : {position:\"relative\", transition:\"1s\", minHeight:\"100%\", overflow:\"hidden\"},\r\n    canvas: {position:\"fixed\", width:\"100%\", height:\"100%\", top:0, left:0}\r\n}\r\nexport const Mesh :FC = () => {\r\n    const [dark, setDark] = useGrid<number>({md:1, lg:0 })\r\n    const [size, setSize] = useGrid<number>({md:1, lg:1.5})\r\n    const [page, ] = usePage<MeshPage>(meshPage)\r\n    return (\r\n    <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n        <Canvas {...page.canvas} style={styles.canvas}>\r\n            <fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <TransformControls>\r\n                    <Model {...{dark,size}}/>\r\n                </TransformControls>\r\n                <Swarm {...{dark,size}}/>\r\n                {/*page.Mesh && <page.Mesh /> */}\r\n            </Suspense>\r\n        </Canvas>\r\n        <Sides {...{size}}>\r\n            <p onClick={()=>window.location.href=\"/\"   }>Home</p>\r\n            <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {page.id}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useState} from 'react'\r\n//import { Card, Foot, Head } from '../src/components'\r\nimport { /*Modal, Pills, */Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { TransformControls } from 'drei'\r\nimport { Kinect } from './meshs'\r\nimport * as THREE from 'three'\r\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {position:\"fixed\",top:0,left:0,width:'100%',height:'100%'},\r\n}\r\n\r\nexport const None :FC = () => {\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1    , lg:1.5 })\r\n    return (\r\n        <>\r\n            <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n                <Canvas gl={{ alpha: false, antialias: false, logarithmicDepthBuffer: true }}\r\n                        camera={{ position:[0,0,500], far:2000 }}\r\n                        pixelRatio={window.devicePixelRatio}\r\n                        onCreated ={({gl}:any) => {\r\n                            gl.outputEncoding = THREE.sRGBEncoding\r\n                            gl.toneMapping    = THREE.ACESFilmicToneMapping }}>\r\n                    <ambientLight intensity={1.1} />\r\n                    <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                    <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                    <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n                    <TransformControls>\r\n                        <Kinect url=\"/static/core/kinect.mp4\"/>\r\n                    </TransformControls>\r\n                </Canvas>\r\n            </div>\r\n            <Helmet>\r\n                <title>404 NOT FOUND</title>\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Sides {...{size}}>\r\n                <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            </Trans>\r\n        </>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC,useEffect, useMemo, useRef} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useView} from 'use-grid'\r\nexport type Grow = FC<BasedProps>\r\nexport const Grow:Grow = ({\r\n    onView=null, role=\"status\",\r\n    size=1, className=\"spinner-grow\", ...props\r\n}) => {\r\n    const fn = useRef()\r\n    const ref = useRef(null)\r\n    useEffect(()=>{fn.current = onView}, [onView])\r\n    useView(ref, (e:any) => 1\r\n        && e.isIntersecting\r\n        && typeof fn.current===\"function\"\r\n        && (fn.current as any)())\r\n    const style = useMemo<CSS>(()=>({\r\n        position:\"relative\",display:\"grid\",margin:`${size*50}px auto 0 auto`,\r\n        width:size*250,height:size*250,...(props.style||{})\r\n    }), [size, props.style])\r\n    return <div  {...props} {...{ref,role,className,style}} />\r\n}\r\n","import React, {FC,Children,CSSProperties,useMemo,useState,useRef,/*useEffect*/} from 'react'\r\nimport { useSprings, animated/*, config*/ } from 'react-spring'\r\n//import { useGesture, } from 'react-use-gesture'\r\nexport type Pills = FC<any>\r\nexport const Pills:Pills = ({\r\n    position={x:0,y:0,r:Math.PI/4}, depth=0, rate=1.414,\r\n    size=1, isOpen=true, ...props}) => {\r\n    const length = useMemo( () => props?.children?.length||1, [props] )\r\n    const childPos = useRef( Array(length).fill(position) )\r\n    const [childHub, setChildHub] = useState( Array(length).fill(false) )\r\n    // depth>0 && console.log(`Render Pills:${depth} isOpen:${isOpen} childHub:${childHub}`);\r\n    const fn = () => (i:number) => {\r\n        //depth>1 && console.log(`\\tfn:${depth}-${i} ${isOpen?'':'no '}open`);\r\n        const r = position.r/2 + (Math.PI/2) * ((length-i-1)*10+1)/((length-1)*10+2)-Math.PI/8\r\n        const x = isOpen ?  50*rate*size*Math.cos(r) : 0\r\n        const y = isOpen ? -50*rate*size*Math.sin(r) : 0\r\n        childPos.current[i] = {x,y:-y,r}\r\n        return {x, y, scale:isOpen?1:0 }\r\n    }\r\n    const [springs, set] = useSprings( length, fn() )\r\n    const setHub=(key=0,isopen=true)=>setChildHub(pre => Object.assign([],pre,{[key]:isopen}))\r\n    const children = Children.map( props.children, (child,key) => {\r\n        set(fn())\r\n        return child?.props?.children\r\n          ? React.cloneElement(child, {children:\r\n                <Pills {...{key, isOpen:isOpen&&childHub[key],\r\n                    depth:depth+1, position:childPos.current[key],\r\n                    rate:rate*(1+(depth+1)*0.2),\r\n                    fontSize:50*size/(1+(depth+1)*0.2),\r\n                    ...child.props}}/>\r\n            })\r\n          : child\r\n    })//), [props.children, isOpen, childHub, dark,depth,pso])\r\n    const styles = useMemo<CSSProperties[]>(()=>[\r\n        {position:\"fixed\",left:position.x,bottom:position.y},\r\n        {position:\"absolute\",padding:\"0px\",zIndex:1,transform:`translate(-50%,-50%)`,}\r\n    ], [position])\r\n    return (\r\n        <div style={styles[0]}>\r\n            {springs.map((spring, key) =>\r\n                <animated.div key={`${depth}-${key}`} style={{...spring, ...styles[1]}}\r\n                    onClick={e=>1&&(setHub(key, !childHub[key]),e.stopPropagation())}>\r\n                    {children[key]}\r\n                </animated.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {unregister} from './serviceWorker';\nimport {HelmetProvider} from 'react-helmet-async';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\nimport {Hook} from './Hook';\n//import {Home} from './Home';\nimport {Mesh} from './Mesh';\nimport {None} from './None';\nimport {Note} from './Note';\n\nimport './styles.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App = (\n    <HelmetProvider>\n        <BrowserRouter>\n            <Switch>\n                <Route    path=\"/\"     component={Mesh} exact/>//Home TODO\n                <Route    path='/mesh' component={Mesh}/>\n                <Route    path=\"/note\" component={Note}/>\n                <Route    path='/none' component={None}/>\n                <Route    path='/hook' component={Hook}/>\n                <Redirect path=\"/home\" to='/' />\n                <Redirect              to='/none' />\n            </Switch>\n        </BrowserRouter>\n    </HelmetProvider>\n)\n\nReactDOM.render( App , document.getElementById('root'));\nunregister();\n","import React, {FC, useState, useMemo} from 'react'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { MDBInput, MDBBtn } from 'mdbreact'\r\nimport { Mdmd } from '@tsei/mdmd'\r\nimport { useGrid } from 'use-grid'\r\nimport { Card, Grow, Head, Icon } from '../src/components'\r\nimport { useNote, usePage, useUser } from '../src/hooks'\r\nimport { Modal, Notes, Pills, Sides, Trans } from '../src/containers'\r\nimport { customPage, CustomPage, pageConfig, fetcher, signin, scrollTop } from './utils'\r\n\r\nexport const Note :FC = () => {\r\n    // ******************** FOR FETCH ******************** //\r\n    const [page, setPage] = usePage<CustomPage>(customPage, pageConfig)\r\n    const [note, setNote] = useNote(page.urls[1], fetcher)\r\n    const [user, setUser] = useUser(page.urls[2], signin, {onSign:()=>setPage({status:\"\"})})\r\n    // ******************** FOR DESIGN ******************** //\r\n    const [lang, setLang] = useState<string>(page.language)\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    // ******************** FOR RENDER ******************** //\r\n    const onView       = useMemo(()=>()=>setNote(p=>p?.next),[setNote])\r\n    const onClick      = useMemo(()=>()=>setPage({id:\"\"})   ,[setPage])\r\n    const onSignin     = useMemo(()=>()=>setPage(p=>({status:p.status===  \"\"?\"IN\":\"\"  })),[setPage])\r\n    const onMouseEnter = useMemo(()=>()=>setPage(p=>({status:p.status===\"UP\"?\"IN\":\"UP\"})),[setPage])\r\n    const [left,right] = useMemo(()=>{\r\n        const style = {transform:\"translate(-50%)\",left:\"50%\",marginTop:size*50}\r\n        return [\"cooment\",\"arrow-left\"].map(fa => (<Icon {...{fa,size,style,onClick}}/>))\r\n    }, [size,onClick])\r\n    return (\r\n        <div style={{background:dark?\"#000\":\"#f1f1f1\",minHeight:\"100%\",paddingTop:size*100,overflow:\"hidden\"}}>\r\n            <Helmet>\r\n                <title>{note?\"note\":\"Loading...\"}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Head {...{dark,size,onClick,}}>Note</Head>\r\n            { note && note.results instanceof Array &&\r\n            <Notes {...(page.isHome?{}:{size,left,right})}>{note.results.map(({\r\n                ja_text=\"\",//note_id=\"\",author_name=null, //,posted_time=null,\r\n                en_text=\"\",     id=\"\" }) =>\r\n                <div key={id}>\r\n                    <Card {...{...page.isHome?{maxHeight:500,onClick:()=>setPage({id:id+\"\"})}:{size},dark}}>\r\n                        <Mdmd color={dark?\"dark\":\"elegant\"} style={{fontSize:\"1.2rem\"}}\r\n                             source={lang===\"ja\"?ja_text:en_text}/>\r\n                    </Card>\r\n                </div> )}\r\n            </Notes> } { (!note || note.next) &&\r\n            <Grow {...{size,onView,onClick:()=>setNote(p=>p?p?.next||p?.now:null )}} /> }\r\n            {/******************** Modals ********************/}\r\n            <Modal {...{dark,size,open:!!page.status,onClose:()=>setPage({status:\"\"})}}>\r\n                <Card {...{dark,size,style:{maxHeight:\"100vh\"}}}>\r\n                    <Head {...{dark,size,onMouseEnter}}>SIGN {user.isAuth?\"OUT\":page.status}</Head>\r\n                    {!user.isAuth && user.input.map((v,k)=>v.name===\"email\"&&page.status!==\"UP\"?null:\r\n                    <MDBInput {...v} key={k}/> )}\r\n                    <MDBBtn color=\"elegant\"\r\n                        style={{width:\"100%\",borderRadus:size*50}}\r\n                        onClick={()=>setUser(page.urls[2])}\r\n                        children={user.isAuth?\"Signout\":\"Get!\"}/>\r\n                </Card>\r\n            </Modal>\r\n            {/******************** FANTASTIC UI ********************/}\r\n            <Sides {...{size}}>\r\n                <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'ja':'en')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size>1?'':''}</div>\r\n            </Trans>\r\n            <Pills {...{size}}>\r\n                <Icon fa=\"ellipsis-h\"        {...{dark,size}} onClick={()=>null}>\r\n                    <Icon fa=\"arrow-left\"    {...{dark,size}} onClick={onClick}/>\r\n                    <Icon fa=\"location-arrow\"{...{dark,size}} onClick={scrollTop}/>\r\n                    <Icon fa=\"sign-in-alt\"   {...{dark,size}} onClick={onSignin}/>\r\n                </Icon>\r\n            </Pills>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TODO : make in last of note\r\n// !isHome && (note.children||[]).map((child:any,i:number) =>\r\n//     <Card {...{key:i,dark,size,style:{fontSize:\"1.2rem\"}}}>\r\n//         <Mdmd source={child[`${lang}_text`]}/>\r\n//     </Card>)\r\n","import { useEffect, useCallback, useState, useRef } from 'react'\r\nimport { None, NoteNode as NN, NoteGetter, NotePoster, NoteConfig, URLType, BasicProps } from '../types'\r\nimport { is, equalPathname } from '../utils'\r\n//import useSWR from 'swr'\r\nexport const useNote = (\r\n    initGetURL: BasicProps<URLType|string>,\r\n    initGetter: NoteGetter|null=null,\r\n    initPoster: NotePoster|null=null,\r\n    initNoteConfig: Partial<NoteConfig>={}\r\n) : [ NN, (\r\n        updateGetURL: ((pre:NN)=>None<URLType|string>)|None<URLType|string>,\r\n        updateGetter?: NoteGetter|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void, (\r\n        updatePoster?: NotePoster|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void\r\n] => {\r\n    if (is.fun(initGetURL)) initGetURL = initGetURL()\r\n    if (is.str(initGetURL)) initGetURL = new URL(initGetURL)\r\n    const getURLRef  = useRef<URLType>()\r\n    const getterRef  = useRef(initGetter)\r\n    const posterRef  = useRef(initPoster)\r\n    const configRef  = useRef(initNoteConfig)\r\n    const isFetching = useRef<boolean>(false)\r\n    const [note,set] = useState<NN>(null)\r\n    //  *************************  useEffect  *************************  //\r\n    useEffect(() => {\r\n        if (equalPathname(getURLRef.current, initGetURL as URLType)) return\r\n        getURLRef.current = initGetURL as URLType\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (getterRef.current)\r\n            getterRef.current(getURLRef.current).then((res:any) => {\r\n                setTimeout(() => void (isFetching.current = false), 1000)\r\n                set(pre => res || pre)\r\n            })\r\n    }, [initGetURL])\r\n    //  *************************  getNote  *************************  //\r\n    //  * getNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * getNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    const getNote = useCallback((updateURL,updateGetter=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.fun(updateURL   )) updateURL = updateURL(note);\r\n        if (is.str(updateURL   )) updateURL = new URL(updateURL);\r\n        if (is.nul(updateGetter)) updateGetter = getterRef.current;\r\n        const previousURL = getURLRef.current\r\n        getURLRef.current = updateURL\r\n        getterRef.current = updateGetter\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        if (getterRef.current)\r\n            getterRef.current(updateURL).then((res:any) => {\r\n                setTimeout(() => (isFetching.current = false), 1000)\r\n                set(pre => {\r\n                    console.log(\"update\");\r\n                    if (!equalPathname(previousURL, getURLRef.current)) return res\r\n                    const {onChange=null} = configRef.current\r\n                    typeof onChange===\"function\" && onChange()\r\n                    const diff = pre\r\n                      ? (pre.results||[]).filter((p:any) =>\r\n                      ! (res.results||[]).find((r:any) => r.id===p.id)\r\n                    ) : []\r\n                    return {...res, results:[...diff, ...res.results]}\r\n                })\r\n            })\r\n    }, [note])\r\n    //  *************************  postNote  *************************  //\r\n    //  ************************* ************** *************************  //\r\n    const postNote = useCallback((updatePoster=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.nul(updatePoster)) updatePoster = posterRef.current;\r\n        posterRef.current = updatePoster\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        return\r\n        // TODO\r\n        // posterRef.current().then(res => {\r\n        //     setTimeout\r\n        // })\r\n    }, [])\r\n    return [note, getNote, postNote]\r\n}\r\n","/** *************************  USE USER  *************************\r\n *  This is a hook to manage user info and API\r\n *    - const [user, set] = useUser(url, fetcher)\r\n *    - ```\r\n *      ```\r\n *  # ***** useUser API Configs *****\r\n *  ## Props Values\r\n *    - `const _ = usePage(@initURL, @initFetcher, @initConifg)`\r\n *    - @initURL:string\r\n *    - @initFetcher:function\r\n *    - @initConfig : {\r\n *        @\r\n *      }\r\n *  ## Return Values\r\n *    - `const [user, setUser] = useUser(...)`\r\n *    - @user : {\r\n *        @username : user name from fetched API e.g. tseijp\r\n *        @authtoken: user token from cookie\r\n *        @input    : for input Components\r\n *       ~@credit   : the value to send at fetching~\r\n *        @status   : the acton at fetch e.g. IN, UP, OUT or \"\"\r\n *        @userlang : user language from window.navigator.language e.g. ja, en\r\n *      }\r\n *    - @setUser\r\n *      `setUser()`       : Toggle fetching\r\n *      ~`setUser(null)`   : switch status IN->UP or UP->IN~\r\n *      ~`setUser(boolean)`: switch status '' or IN|UP|OUT~\r\n *  # TODO : from usePages : add following keys\r\n ** ************************* ************** *************************/\r\nimport {useCallback, useState, useMemo, useRef} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport {URLType,User,UserConfig,UserSignin} from '../types'\r\nimport {defaultUserConfig} from '../utils'\r\nexport const useUser = (\r\n    initURL :URLType,\r\n    initSign:UserSignin,\r\n    initConfig:Partial<UserConfig>=defaultUserConfig // TODO to config.keys.map\r\n) : [ User, {(\r\n    updateURL ?:URLType|null,\r\n    updateSignin?:UserSignin|null,\r\n    updateConfig?:Partial<UserConfig>,\r\n) : void } ] => {\r\n    const urlRef    = useRef<URLType>(initURL)\r\n    const signinRef = useRef<UserSignin>(initSign)\r\n    const configRef = useRef<UserConfig>({...defaultUserConfig,...initConfig})\r\n    const [cookies, set, del] = useCookies(configRef.current.keys)\r\n    const [credit, setCredit] = useState({username:cookies.username||'',password:'',email:''})\r\n    // *************************  For setUser  ************************* //\r\n    const setUser = useCallback((\r\n        updateURL    = null,\r\n        updateSignin = null,\r\n        updateConfig = {}\r\n    ) => {\r\n        const {onSign=null,onSignin=null,onSignout=null,onError=null} = initConfig\r\n        if (updateURL)       urlRef.current = updateURL\r\n        if (updateSignin) signinRef.current = updateSignin\r\n        if (updateConfig) configRef.current = updateConfig\r\n        return (cookies.authtoken)\r\n          ? (del('authtoken',{path:'/'}), onSign&&onSign(), onSignout&&onSignout())\r\n          : signinRef\r\n            .current(urlRef.current, credit)\r\n            .then( (user:{[K in 'username'|'authtoken']:string}) => {\r\n                if (!user.username || !user.authtoken)\r\n                    throw new Error()\r\n                onSign   && onSign()  ; set(\"username\" ,user.username ,{path:'/'});\r\n                onSignin && onSignin(); set(\"authtoken\",user.authtoken,{path:'/'});\r\n            })\r\n            .catch((_:any)=>onError&&onError())\r\n    }, [cookies,set,del,credit,initConfig] )\r\n    // *************************  For Render  ************************* //\r\n    const onChange = useCallback(({target}:any) => {\r\n        setCredit(p => ({...p, [target.name]:target.value}) )\r\n    }, [])\r\n    const user = useMemo<User>(() => ({\r\n        username :cookies.username ||'', isAuth:!!cookies.authtoken,\r\n        authtoken:cookies.authtoken||'', input: Object\r\n            .entries({username:'user',password:'lock',email:'envelope'})\r\n            .map(([name,icon]) => ({\r\n                label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n                group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n                ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"})\r\n            }))\r\n    }), [cookies, credit, onChange])\r\n    return [user, setUser]\r\n}\r\n    /*const input = useMemo<User[\"input\"]>(() => Object\r\n        .entries({username:'user',password:'lock',email:'envelope'})\r\n        .map(([name,icon]) => ({\r\n            label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n            group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n            ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"}),\r\n    })), [credit, onChange])\r\n    return [useMemo(() => ({\r\n        username :cookies.username ||'',\r\n        authtoken:cookies.authtoken||'', input,\r\n        //status : sign?\"\":cookies.authtoken?\"OUT\":inup\r\n    }), [cookies, input]), setUser]\r\n}*/\r\n"],"sourceRoot":""}