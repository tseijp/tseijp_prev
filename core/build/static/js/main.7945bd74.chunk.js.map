{"version":3,"sources":["page/serviceWorker.ts","src/components/Icon.tsx","src/containers/Sides.tsx","src/containers/Trans.tsx","page/meshs/Model.tsx","page/meshs/Swarm.tsx","page/meshs/Kinect.tsx","src/components/Head.tsx","src/components/Card.tsx","src/components/Grow.tsx","src/utils.ts","src/hooks/usePage.ts","src/containers/Notes.tsx","src/containers/Modal.tsx","src/containers/Pills.tsx","page/utils.ts","page/index.tsx","page/Home.tsx","page/Note.tsx","src/hooks/useNote.ts","src/hooks/useUser.ts","page/None.tsx"],"names":["Boolean","window","location","hostname","match","Icon","fa","dark","circ","size","children","onOpen","className","style","props","fontSize","useMemo","useSpring","xys","set","bind","useGesture","onMove","vxvy","vx","vy","last","color","styles","padding","top","right","textAlign","userSelect","borderRadius","background","height","width","div","x","interpolate","y","s","filter","join","transform","SidesArea","spring","to","scale","rate","animation","innerWidth","position","left","zIndex","overflow","SidesContainer","margin","backgroundColor","SidesIcon","SidesItem","display","transition","Sides","opened","useRef","setOpened","useCallback","bool","current","open","velocity","config","wobbly","slow","close","stiff","onHover","hovering","onDrag","down","movement","mx","my","cancel","React","Children","map","child","key","TransArea","r","Math","cos","PI","TransContainer","TransIcon","rotateZ","TransItem","alignItems","Trans","getr","pre","unit","v","onBind","onPinch","offset","a","Model","mouse","useLoader","GLTFLoader","animations","nodes","group","actions","useState","THREE","undefined","mixer","modelPos","useFrame","delta","camera","update","z","updateProjectionMatrix","lookAt","useEffect","actionNum","idle","clipAction","play","weight","timeScale","forEach","clip","uncacheClip","ref","dispose","rotation","object","geometry","skeleton","attach","depthWrite","skinning","Swarm","count","mesh","dummy","random","mul","add","particles","Array","t","xFactor","factor","yFactor","speed","zFactor","particle","i","sin","b","max","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","args","Kinect","url","nearClipping","pointSize","farClipping","zOffset","material","texture","video","document","createElement","src","loop","load","muted","Float32Array","j","l","length","floor","setAttribute","dir","uniforms","Object","assign","keys","value","console","log","fragmentShader","vertexShader","depthTest","blending","transparent","Head","Card","minHeight","maxHeight","min","calc","clientX","clientY","innerHeight","onMouseMove","e","onMouseLeave","boxShadow","Grow","onView","role","fn","useView","isIntersecting","equalPathname","urls","u","URL","joinURL","pathname","every","_","self","defaultPageConfig","onChange","defaultPage","id","split","find","isHome","isLocal","protocol","portname","port","search","language","navigator","href","normPage","page","state","entries","sort","val","arr","getp","geti","n","maxLength","reduce","joinPage","defaultUserConfig","user","onSign","onSignin","onSignout","strArray","resultArray","TypeError","shift","replace","str","String","push","parts","Notes","order","grandren","depth","setLength","setHeight","fill","isOpen","setIsOpen","orderRef","containerRef","childHeight","setPosition","childs","from","c","clientHeight","newLength","getY","slice","getG","indexOf","useSprings","springs","startTime","timeStamp","row","clamp","round","ind","ret","swap","op","p","setTimeout","getF","marginTop","grand","toArray","cloneElement","px","Modal","onClose","root","getElementById","justifyContent","createPortal","onClick","stopPropagation","Pills","childPos","childHub","setChildHub","bottom","isopen","setHub","customPage","isSign","status","scrollTop","scroll","behavior","pageConfig","fetcher","headers","axios","get","then","res","Error","data","signin","cred","post","token","username","authtoken","App","path","component","lang","setLang","useGrid","md","lg","setDark","setSize","xs","gl","antialias","logarithmicDepthBuffer","pixelRatio","devicePixelRatio","onCreated","outputEncoding","intensity","castShadow","fallback","toUpperCase","rel","exact","pageRef","confRef","defaultConf","setPage","newPage","history","pushState","usePage","initURL","initFetcher","initNoteConfig","urlRef","fetcherRef","isFetching","configRef","note","preURL","setNote","updateURL","updateFetcher","updateConfig","results","diff","useNote","initSign","initConfig","signinRef","useCookies","cookies","del","password","email","credit","setCredit","setUser","updateSignin","onError","catch","target","name","isAuth","input","icon","label","validate","type","autoComplete","error","success","useUser","next","onMouseEnter","paddingTop","charSet","content","ja_text","en_text","source","now","k","borderRadus","alpha","far","toneMapping","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.7945bd74.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, {FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\n\r\nexport const Icon :FC<BasedProps> = ({\r\n    fa=\"\",dark=false,circ=true,size=1,onOpen=null, //onClose=null,\r\n    children,className='',style={},...props//,color=''\r\n}) => {\r\n    const fontSize = useMemo(()=>size*50, [size])\r\n    const [{xys}, set] = useSpring(() => ({xys:[0,0,0]}))\r\n    const bind = useGesture({\r\n        onMove : ({vxvy:[vx,vy],last}) => set({xys:[vx,vy,last?0:1]})\r\n    })\r\n    //  ************************* RENDER *************************  //\r\n    const color = useMemo(()=>props.color||circ\r\n      ? dark?\"#818181\":\"#fff\"\r\n      : \"#212121\",[props.color,circ,dark])\r\n    const styles = useMemo<React.CSSProperties[]>(() => [\r\n          { padding:\"0px\",top:0,right:0,textAlign:\"center\",userSelect:\"none\",\r\n            ...(circ?{borderRadius:fontSize,background:\"#212121\"}:{}),\r\n            ...style,color,height:fontSize,width:fontSize,fontSize},\r\n    ], [fontSize,circ,color,style] )\r\n    return <a.div style={{\r\n                x : xys.interpolate((x,y,s) => x*fontSize+y*s),\r\n                y : xys.interpolate((x,y,s) => y*fontSize+x*s),\r\n                filter : xys.interpolate((x,y,s) => [\r\n                    `drop-shadow(${0.1+x}rem`, // -x~0.5~x\r\n                                `${0.5+y}rem`, // -y~1.5~y\r\n                                `${1-s/2}rem`, // 1 =hover=> 0.5\r\n                    `rgba(0,0,0, ${0.5+s/20}))`// 0.50 =hover=> 0.55\r\n                ].join(' ')),\r\n                transform : xys.interpolate((x,y,s) => [\r\n                    `perspective(${fontSize}px)`,\r\n                    `rotateX(${-y}deg)`,//-1 ~ 1\r\n                    `rotateY(${x}deg)` ,//-1 ~ 1\r\n                    `scale(${1+s/10})` ,// 1 ~ 1.1\r\n                ].join(' ')),\r\n            ...styles[0]}}\r\n           {...{children,className:className+fa?` fas fa-${fa}`:\"\"}}\r\n           {...bind()} {...props} />\r\n}\r\n","import React, {FC,CSSProperties,useCallback,useMemo,useRef} from 'react';\r\nimport { useSpring, animated as a, config } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nimport { BindsProps, BasedProps } from'../types'\r\nimport { Icon } from '../components'\r\n\r\nexport const SidesArea :FC<BindsProps> = ({spring, bind, size=1}) => {\r\n    const width = spring.x.to((x:number)=>x>1?\"100%\":`${size*50/2}px`)\r\n    const background = spring.scale.to((s:number)=>{\r\n        const rate  = spring.x.animation.to/window.innerWidth //0 ~ 0.5\r\n        return `linear-gradient(90deg,rgba(0,0,0,${rate+s-1}),rgba(0,0,0,0))`\r\n    })\r\n    const style = {position:\"fixed\",top:0,left:0,height:\"100%\",zIndex:1,overflow:\"hidden\"}\r\n    return <a.div style={{...style,width,background}} {...bind()} />\r\n}\r\n\r\nexport const SidesContainer : FC<BindsProps> = ({size=1, spring, children}) => {\r\n    const styles = useMemo<CSSProperties[]>(()=>[\r\n      { margin:`${50*size}px 0px 0px 0px`, position:\"absolute\",},\r\n      { position:\"fixed\",top:\"2%\",left:0,zIndex:1,overflow:\"hidden\",\r\n        borderRadius:`0px ${50*size}px ${50*size}px 0px`,\r\n        height:`96%`, backgroundColor:\"#212121\" }\r\n    ], [size])\r\n    return (\r\n        <a.div style={{...styles[1],width:spring.x.interpolate((x:number)=>x>0?x:0)}}>\r\n            <div style={styles[0]}>{children}</div>\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const SidesIcon : FC<BindsProps> = ({spring, bind, circ=false, size=1}) => {\r\n    return (\r\n        <a.div {...bind()} style={{\r\n            position:\"absolute\",top:size*50,left:size*50,\r\n            transform:`translate(-50%,-50%)`,...spring}}>\r\n            <Icon fa=\"align-left\" {...{circ,size}} />\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const SidesItem :FC<BindsProps> = ({children, size=1}) => {\r\n    return <a.div {...{children, style:{\r\n        //x:spring.x.interpolate((x:any)=>(x-width)), // BAD DESIGN\r\n        padding:\"10px 10px 10px 32px\",color:\"#818181\",\r\n        display:\"block\",transition:\"0.75s\",fontSize:50*size}}} />\r\n}\r\n\r\nexport const Sides : FC<BasedProps> = ({children, width=window.innerWidth/2, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool=true)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring( () => ({x:0,y:0,scale:1}) )\r\n    const open  =(velocity=0)=>1&&(setOpened(true),set({x:width,y:0,config:velocity!==0?config.wobbly:config.slow}))\r\n    const close =(velocity=0)=>1&&(setOpened(false),set({x:0    ,y:0,config:{...config.stiff,velocity }}))\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:(opened.current?width:0)+(down?mx:0),y:down?my:0})\r\n            if(!opened.current) return (mx===0||mx> width*0.5||vx> 0.5) ? open(vx) : close(vx)\r\n            if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ? close(vx): open(vx)\r\n        },\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\", top:0,left:0,zIndex:100}}>\r\n            <SidesIcon   {...{size, spring, bind, }} />\r\n            <SidesArea     {...{size, spring, bind, }} />\r\n            <SidesContainer{...{size, spring, bind, }}>\r\n            {React.Children.map(children, ((child, key)=>\r\n                <SidesItem {...{size, key}}>{child}</SidesItem>\r\n            ))}\r\n            </SidesContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,CSSProperties,useCallback,useMemo,useRef} from 'react';\r\nimport { useSpring, animated as a, config, UseSpringProps } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nimport {BindsProps, BasedProps} from '../types'\r\nimport { Icon } from '../components'\r\n\r\nexport const TransArea :FC<BindsProps> = ({size=1, spring, bind}) => {\r\n    const style = {position:\"fixed\",top:0,right:0,height:\"100%\",zIndex:1,overflow:\"hidden\"}\r\n    return <a.div style={{\r\n                width   :spring.r.interpolate((r:number)=>`${\r\n                    50*size*( Math.cos(r/90*Math.PI)+1.5)\r\n                }px`),\r\n                background:spring.scale.interpolate((s:number)=>[\r\n                    `linear-gradient(90deg`,\r\n                    `rgba(0,0,0,0)`,\r\n                    `rgba(0,0,0,${s-1}))`\r\n                ].join(',')),\r\n                ...style}}\r\n               {...bind()} />\r\n}\r\n\r\nexport const TransContainer : FC<BindsProps> = ({children, size=1, spring, bind}) => {\r\n    const styles = useMemo<CSSProperties[]>(()=>[\r\n      { margin:`calc(${50*size*2}px - 2%) 0px 0px 0px` }, //`calc(${size}*2 - 4%) 0px 0px 0px`\r\n      { position:\"fixed\",height:`96%`,top:\"2%\",right:0,zIndex:1,overflow:\"hidden\", } ], [size])\r\n    return (\r\n        <a.div {...bind()} style={{...styles[1],width:spring.r.interpolate(\r\n            (r:number) => `${ 50*size*(Math.cos(r/90*Math.PI)+1) }px` )}}>\r\n            <div style={styles[0]}>{children}</div>\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const TransIcon : FC<BindsProps> = ({size=1, spring, bind, circ=false}) => {\r\n    return (\r\n        <a.div {...bind()} style={{\r\n            position:\"absolute\",top:50*size,right:0,\r\n            transform:`translate(-50%,-50%)`,rotateZ:spring.r}}>\r\n            <Icon fa=\"align-justify\" {...{circ,size}} />\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const TransItem :FC<BindsProps> = ({children, size=1}) => {\r\n    const styles = useMemo<CSSProperties[]>( () => [\r\n        { margin:`${50*size/4}px 0px`, borderRadius:`${50*size}px 0px  0px ${50*size}px`,\r\n          backgroundColor:\"#212121\",color:\"#818181\", display:\"inline-block\" },\r\n        { margin:`auto ${50*size/2}px`,height:`${50*size}px`, fontSize:`${50*size}px`,\r\n          display:\"flex\",alignItems:\"center\", zIndex:1} ], [size])\r\n    return (\r\n        <a.div style={styles[0]}>\r\n            <div style={styles[1]}>{children}</div>\r\n        </a.div>\r\n    )\r\n}\r\n\r\nexport const Trans : FC<BasedProps> = ({children, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool:boolean)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring<UseSpringProps>( () => ({x:0, y:0, r:90, scale:1,}) )\r\n    const getr = (velocity=0) => {\r\n        const pre  = ~~(spring.r.animation.to/90) //  Math.round( spring.r.animation.to/90 || 0 ) //\r\n        const unit = ((opened.current?1:0) === (pre%2)?0:1) ? 0:1 //to change:1 no diff:0\r\n        return 90 * ( pre + unit * (velocity<0?-1:1) )\r\n    }\r\n    const width = useMemo(()=>500*size, [size])\r\n    const open  =(v:number)=>1&&(setOpened(true) ,set({r:getr(v),config:v!==0?config.wobbly:config.slow}))\r\n    const close =(v:number)=>1&&(setOpened(false),set({r:getr(v),config:{...config.stiff }}))\r\n    const onBind = ({mx=0,vx=0,down=false,last=false}) => {\r\n        if (!last) return set({r:spring.r.animation.to+(down?2*(-mx)/width:0)})\r\n        if(!opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ?  open(-vx) : close(-vx)\r\n        if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5||0.5<vx) ? close(-vx) :  open(-vx)\r\n    }\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onPinch : ({last,down,offset :[_,a]})  => onBind({down,last,vx:0,mx:a}),\r\n        onDrag  : ({last,down,vxvy:[vx,],movement:[mx,],}) => onBind({down,last,vx,mx:mx})\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\",top:0,right:0,zIndex:100}}>\r\n            <TransIcon      {...{size, spring, bind, }} />\r\n            <TransArea      {...{size, spring, bind, }} />\r\n            <TransContainer {...{size, spring, bind, }} >\r\n            {React.Children.map(children, ((child, key:number)=>\r\n                <TransItem {...{size/*, spring, width*/, key}} >{child}</TransItem>\r\n            ))}\r\n            </TransContainer>\r\n        </div>\r\n    )\r\n}\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n//import { draco } from 'drei'\r\n\r\n\r\nexport const Model = ({dark=true, size=50, mouse={current:[0,0]}, position=[0,-11,0],scale=[7,7,7]}:any) => {\r\n    const url = \"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb\"\r\n    const {animations, nodes}:any = useLoader(GLTFLoader, url, )\r\n    const group = useRef<any>(null)\r\n    const actions = useRef<any>(null)\r\n    //const [action] = useState(3)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(undefined as any))\r\n    const modelPos  = {x:0,y:0}\r\n    useFrame(({camera}:any, delta)=>{\r\n        mixer.update(delta)\r\n        if(! group?.current?.position) return\r\n        group.current.position.x = modelPos.x\r\n        group.current.position.z = modelPos.y\r\n        camera.updateProjectionMatrix(void (\r\n            camera.lookAt(new THREE.Vector3(modelPos.x/2,0,modelPos.y/2))))\r\n    })\r\n    useEffect(() => {\r\n        const actionNum = size > 50 ? 3 : 1\r\n        actions.current = { idle: mixer.clipAction(animations[actionNum], group.current) }\r\n        actions.current.idle.play()\r\n        actions.current.idle.weight = 1\r\n        actions.current.idle.timeScale = 1\r\n        return () => animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [animations,mixer,size])\r\n    if (!nodes)\r\n        return null\r\n    return (\r\n        <group ref={group} {...{position, scale}} dispose={null}>\r\n          <group rotation={[Math.PI/2,0,0]} scale={[0.01,0.01,0.01]}>\r\n            <primitive object={nodes[\"mixamorigHips\"]} />\r\n            <skinnedMesh geometry={nodes[\"Beta_Joints\"].geometry}\r\n                skeleton={nodes[\"Beta_Joints\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x212121:0x000000}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n            <skinnedMesh geometry={nodes[\"Beta_Surface\"].geometry}\r\n                skeleton={nodes[\"Beta_Surface\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x000000:0xffffff}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n          </group>\r\n        </group>\r\n    )\r\n}\r\n","import React, {useCallback, useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const Swarm = ({ dark=false, size=50, count=100}:any) => {\r\n    const mesh = useRef<any>(null)\r\n    const dummy = useMemo(() => new THREE.Object3D(), [])\r\n    const random = useCallback((mul=1,add=0)=>add+Math.random()*mul, [])\r\n    const particles = useMemo(() => [...Array(count)].map(()=>({\r\n        t     :random(100),       xFactor:random(40,-20), mx:0,\r\n        factor:random(100,2),     yFactor:random(40,-20), my:0,\r\n        speed :random(1/200,0.01),zFactor:random(40,-20),})), [random,count])\r\n    useFrame(() => {\r\n        particles.forEach((particle, i) => {\r\n            let { t, factor, speed, xFactor, yFactor, zFactor } = particle\r\n            t = particle.t += speed / 2\r\n            const a = Math.cos(t) + Math.sin(t * 1) / 10\r\n            const b = Math.sin(t) + Math.cos(t * 2) / 10\r\n            const s = Math.max(1.5, Math.cos(t) * size / 10)\r\n            dummy.position.set(\r\n                (particle.mx/10)*a + xFactor + Math.cos((t/10)*factor) + (Math.sin(t*1)*factor)/10,\r\n                (particle.my/10)*b + yFactor + Math.sin((t/10)*factor) + (Math.cos(t*2)*factor)/10,\r\n                (particle.my/10)*b + zFactor + Math.cos((t/10)*factor) + (Math.sin(t*3)*factor)/10,\r\n            )\r\n            dummy.scale.set(s, s, s)\r\n            dummy.updateMatrix()\r\n            mesh.current.setMatrixAt(i, dummy.matrix)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <>\r\n            <instancedMesh ref={mesh} args={[null,null,count] as [any,any,number]}>\r\n                <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                <meshPhongMaterial attach=\"material\" color={dark?0x000000:0xffffff} />\r\n            </instancedMesh>\r\n        </>\r\n    )\r\n}\r\n","import React, { useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nconst cropValue=(dir:any)=>Object.assign({},...Object.keys(dir).map(key=>({[key]:{value:dir[key]}})))\r\n\r\n\r\nconst vertexShader = `\r\nvarying vec2 vUv;\r\nuniform sampler2D map;\r\nuniform float width, height, pointSize, zOffset, nearClipping, farClipping;\r\nconst float XtoZ = 1.11146; // tan( 1.0144686 / 2.0 ) * 2.0;\r\nconst float YtoZ = 0.83359; // tan( 0.7898090 / 2.0 ) * 2.0;\r\n\r\nvoid main() {\r\n    vUv = vec2( position.x / width, position.y / height );\r\n    vec4 color = texture2D( map, vUv );\r\n    float depth = ( color.r + color.g + color.b ) / 3.0;\r\n\r\n    // Projection code by @kcmic\r\n    float z = ( 1.0 - depth ) * (farClipping - nearClipping) + nearClipping;\r\n    vec4 pos = vec4(\r\n        ( position.x / width - 0.5 ) * z * XtoZ,\r\n        ( position.y / height - 0.5 ) * z * YtoZ,\r\n        - z + zOffset,\r\n        1.0\r\n    );\r\n\r\n    gl_PointSize = pointSize;\r\n    gl_Position = projectionMatrix * modelViewMatrix * pos;\r\n}\r\n`\r\nconst fragmentShader = `\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    vec4 color = texture2D( map, vUv );\r\n    gl_FragColor = vec4( color.r, color.g, color.b, 0.2 );\r\n}\r\n`\r\n\r\nexport const Kinect = ({ url, /*center=[0,0,-1000],*/\r\n        width=640, nearClipping=850, pointSize=2,\r\n        height=850, farClipping=4000, zOffset=1000,\r\n    }:any) => {\r\n    // ******************** Mount ******************** //\r\n    const geometry = useRef<any>()\r\n    const material = useRef<any>()\r\n    const texture = useMemo<any>(()=>{\r\n        const video = document.createElement('video', )\r\n        video.src = url\r\n        video.loop  = true; video.load();\r\n        video.muted = true; video.play();\r\n        return new THREE.VideoTexture( video )\r\n    }, [url])\r\n    // ******************** Render ******************** //\r\n    useFrame((/*{camera, mouse}*/)=>{\r\n        const position = new Float32Array( width*height*3 )\r\n        for ( var i=0, j=0, l=position.length; i<l; i+=3, j++ ) {\r\n            position[i]   = j % width;\r\n            position[i+1] = Math.floor( j/width );\r\n        }\r\n        geometry.current?.setAttribute( 'position', new THREE.BufferAttribute(position,3) );\r\n    })\r\n    const uniforms = cropValue({\r\n        map:texture,width,height,nearClipping,farClipping,pointSize,zOffset\r\n    })\r\n    console.log('Render Kinect');\r\n    return (\r\n        <>\r\n            <points position={[0,0,500]} >\r\n                <bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n                <shaderMaterial ref={material} attach=\"material\"\r\n                    {...{uniforms,fragmentShader,vertexShader}}\r\n                    depthTest ={false} blending={THREE.AdditiveBlending}\r\n                    depthWrite={false} transparent />\r\n            </points>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\n\r\nexport const Head :FC<BasedProps> = ({\r\n    children, color=\"\", dark=false,size=50, style={}, ...props\r\n}) => {\r\n    style = useMemo<React.CSSProperties>(()=>(\r\n        {//position:\"relative\",\r\n        color:color||dark?\"#818181\":\"#000\",\r\n        fontSize:size*50,\r\n        width:`max(70vw, 100vw - ${size*200}px)`,height:\"auto\",\r\n        margin:\"auto\",\r\n        ///*dev*/background:\"rgba(0,0,255,0.5)\", \r\n        ...style}\r\n    ), [color,dark,size,style])\r\n    return <div {...{children,style,...props}}/>\r\n}\r\n","/***Card\r\n  *     Ref : https://codesandbox.io/embed/rj998k4vmm\r\n  *           https://coliss.com/articles/build-websites/operation/css/\r\n ***/\r\nimport React, {FC, useCallback, useMemo} from 'react'\r\nimport { BasedProps } from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\n//import { useGesture } from 'react-use-gesture'\r\nexport const Card :FC<BasedProps> = ({\r\n    dark=false, size=1, children, color=\"\",\r\n    minHeight=null, maxHeight=null, ...props\r\n}) => {\r\n    const [{xys}, set] = useSpring(()=>({xys:[0,0,0]}))\r\n    const style = useMemo(() => {\r\n        const [width,fontSize] = [`min(80vw,${size*500}px)`,size*50]\r\n        const min = minHeight||size*500\r\n        const max = maxHeight||null//size*500\r\n        return {margin:\"auto\", overflow:\"hidden\", borderRadius:fontSize/2,\r\n                background : dark?\"#212121\":\"#fff\", minHeight:min, fontSize,\r\n                color:color||dark?\"#818181\":\"#000\", maxHeight:max, width, ...props.style}\r\n    }, [dark, color, size, props.style, maxHeight, minHeight])\r\n    const calc = useCallback(({clientX:x, clientY:y})=>[\r\n       (x - window.innerWidth  / 2) / size / 250, // -1 ~ 1\r\n       (y - window.innerHeight / 2) / size / 250, // -1 ~ 1\r\n        1], [size])\r\n    const onMouseMove = useCallback((e) => set({xys:calc(e)}), [set,calc])\r\n    const onMouseLeave = useCallback(() => set({xys:[0,0,0]}), [set,])\r\n    return useMemo(()=>\r\n        <a.div style={{\r\n            boxShadow:xys.interpolate((x,y,s) => [\r\n                `${0.5-x*2}rem`,//offset-x     : -1.5 ~ 0.5 ~ 2.5\r\n                `${1.5-y*2}rem`,//offset-y     : -0.5 ~ 1.5 ~ 3.5\r\n                `${1.5 + s}rem`,//blur-radius  : 1.5 =hover=> 2.5\r\n                `${s - 0.5}rem`,//spread-radius:-0.5 =hover=> 0.5\r\n                `hsl(200 50% 20% / ${15+s*5}%)`].join(' ')),\r\n            transform:xys.interpolate((x,y,s) => [\r\n                `perspective(${size*50}px)`,\r\n                `rotateX(${-y/10}deg)`,//-0.1 ~ 0.1\r\n                `rotateY(${ x/10}deg)`,//-0.1 ~ 0.1\r\n                `scale(${1+s/10})` ,].join(' ')),\r\n            ...style }}\r\n           {...{...props,onMouseMove,onMouseLeave,children}}/>\r\n        , [style,xys,onMouseMove,onMouseLeave,children,props,size])\r\n}\r\n","import React, {FC,useEffect, useMemo, useRef} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useView} from 'use-grid'\r\nexport const Grow:FC<BasedProps> = ({\r\n    onView=null, role=\"status\",\r\n    size=1, className=\"spinner-grow\", ...props\r\n}) => {\r\n    const fn = useRef()\r\n    const ref = useRef(null)\r\n    useEffect(()=>{fn.current = onView}, [onView])\r\n    useView(ref, (e:any) => 1\r\n        && e.isIntersecting\r\n        && typeof fn.current===\"function\"\r\n        && (fn.current as any)())\r\n    const style = useMemo<React.CSSProperties>(()=>({\r\n        position:\"relative\",display:\"grid\",margin:`${size*50}px auto 0 auto`,\r\n        width:size*250,height:size*250,...(props.style||{})\r\n    }), [size, props.style])\r\n    return <div  {...props} {...{ref,role,className,style}} />\r\n}\r\n","import {Page, PageConfig, URLType, UserConfig} from './types'\r\n\r\nexport const clamp = (x:number, min=0, max=1) :number  => (x<min)?min:(x>max)?max:x\r\nexport const swap=(arr:number[],ind:number,row:number) => {\r\n    const ret = [...arr.slice(0, ind), ...arr.slice(ind+1, arr.length)]\r\n    return [...ret.slice(0, row), ...arr.slice(ind, ind+1), ...ret.slice(row)]\r\n}\r\nexport const equalPathname = (...urls:(URLType|string|undefined|null|false)[]) =>\r\n    urls.map(u => typeof u===\"string\"? new URL(u) : u)\r\n        .map(u => u && joinURL(u.pathname, \"/\"))\r\n        .every((u, _, self) => u===self[0])\r\n\r\n// ************************* 👌 use-page 👌 ************************* //\r\nexport const defaultPageConfig:PageConfig = {\r\n    onChange:null,\r\n}\r\nexport const defaultPage = {\r\n    id      :window.location.pathname.split('/').filter(v=>v).find((_,i)=>i===1)||\"\",\r\n    isHome  :window.location.pathname.split('/').filter(v=>v).length > 1,\r\n    isLocal :window.location.hostname===\"localhost\",\r\n    protocol:window.location.protocol ||\"\",\r\n    hostname:window.location.hostname ||\"\",\r\n    portname:window.location.port     ||\"\",\r\n    pathname:window.location.pathname ||\"\",\r\n    search  :window.location.search   ||\"\",\r\n    language:window.navigator.language||\"ja\",\r\n    urls    :[new URL(window.location.href)],\r\n}\r\nexport const joinPage = <T={}>(page:Page<T>):string|string[] => {\r\n    const {protocol,hostname,portname,pathname=\"\",search=\"\"} = page;\r\n    const arr = [protocol,hostname,portname,pathname,search]\r\n    const getp =(port:any)=>port?`:${port}`:\"\"\r\n    const geti =(i=0,n:any)=>n instanceof Array?(i<n.length?n[i]:n[n.length-1]):n\r\n    if ( arr.every(v=>typeof v===\"string\") )\r\n        return joinURL(`${protocol}//${hostname}${getp(portname)}/`,pathname as any, search as any)\r\n    const maxLength = arr.map(v=>v instanceof Array?v.length:1).reduce((a,b)=>a>b?a:b)\r\n    return [...Array(maxLength)].map((_,i) =>\r\n        joinURL( `${geti(i,protocol)}//${geti(i,hostname)\r\n            }${getp(geti(i,portname))}/`,geti(i,pathname),geti(i,search) )\r\n    ) as string[]\r\n}\r\nexport const normPage = <T extends {}={}>(page:Page<T>) => {\r\n    const state = {...page} as any//Page<T>\r\n    Object.entries(state).sort(([_,val]) => typeof val===\"function\"?1:-1)\r\n    .forEach(([key,val]:any) => (state[key]=typeof val===\"function\"?val(state):val))\r\n    const urls = joinPage<T>(state as Page<T>)\r\n    return {...state, urls:urls instanceof Array\r\n      ? urls.map((u:any) => typeof u===\"string\" ? new URL(u) : u) as URLType[]\r\n      : [typeof urls===\"string\" ? new URL(urls) : urls] as URLType[] } as Page<T>\r\n}\r\n\r\n// ************************* 🙍‍♂️ For useUser 🙍 ************************* //\r\nexport const defaultUserConfig:UserConfig = {\r\n    keys:['username','authtoken'],\r\n    user:null,\r\n    onSign:null,\r\n    onSignin:null,\r\n    onSignout:null\r\n}\r\n\r\n// ************************* 🍡 join-url 🍡 ************************* //\r\n// * This function is fork of join-url/urljoin\r\n// * Code : https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\r\n// ************************* *************** ************************* //\r\nexport function joinURL (...strArray:(string|number)[]) : string {\r\n    var resultArray = [];\r\n    if (strArray.length === 0)\r\n        return ''\r\n    if (typeof strArray[0] !== 'string')\r\n        throw new TypeError('Url must be a string. Received ' + strArray[0]);\r\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1)\r\n        strArray[0] = strArray.shift() + strArray[0];\r\n    if (strArray[0].match(/^file:\\/\\/\\//))\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\r\n    else\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\r\n    strArray = strArray.filter(str=>str!==\"\")\r\n    for (var i = 0; i < strArray.length; i++) {\r\n        let str = strArray[i];\r\n        if (typeof str === 'number')\r\n            str = String(str)\r\n        if (typeof str !== 'string')\r\n            throw new TypeError(`${str} must be a string. Received ${typeof str}`);\r\n        if (str === '')\r\n            continue;\r\n        if (i > 0)\r\n            //eslint-disable-next-line\r\n            str = str.replace(/^[\\/]+/, '');\r\n        if (i < strArray.length - 1)\r\n            //eslint-disable-next-line\r\n            str = str.replace(/[\\/]+$/, '');\r\n        else\r\n            //eslint-disable-next-line\r\n            str = str.replace(/[\\/]+$/, '/');\r\n        resultArray.push(str);\r\n    }\r\n    let str = (resultArray as string[]).join('/');\r\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\r\n    let parts = str.split('?');\r\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\r\n    return str;\r\n}\r\n/*\r\nexport function normURL (\r\n    url: BasicProps<NoteURL> | BasicState<NoteURL>,\r\n    ref: NoteURL\r\n) : string {\r\n    if (typeof url===\"string\")\r\n        return url\r\n    if (typeof url===\"function\")\r\n        return ref ? url(ref) : (url as any)()\r\n    if (url instanceof Array)\r\n        return joinURL(...url)\r\n    return ''\r\n}\r\n*/\r\n","/** ************************* USE PAGE *************************\r\n * This is a hook to record the URL of the Restfl API\r\n *   - `const [page, set] = usePage({id:null,home:({id})=>!id}, config)`\r\n *   - `const onClick=()=>set({id:90}, config)`\r\n *   - ```\r\n *     {Page, id:null}  <=data=> (DB1 : URL1 by id), (DB2 : URL2 by id)\r\n *          | change id\r\n *          |  => change URLs by id (e.g. /api to /api/90)\r\n *          v  => change user state (e.g. home:true to home:false)\r\n *     {New Page, id:90}\r\n *     ```\r\n * # ***** usePage API Configs *****\r\n * ## Props Values\r\n *   - `const _ = usePage(@initPage, @config)`\r\n *   - @initPage = {\r\n *         @isHome  :boolean\r\n *         @isLocal :boolean\r\n *         @id      :string e.g. 2\r\n *         @protocol:string e.g. \"https:\"\r\n *         @hostname:string e.g. \"localhost\"\r\n *         @portname:string e.g. \"3000\"   or [\"3000\"(npm), \"8000\"(django)]\r\n *         @pathname:string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @search  :string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *   - @config = {TODO}\r\n *   - type MultiPage<T=any> = T|T[]|((p:Page)=>T|T[])\r\n * ## Return Values\r\n *   - @page : {...@initPage(as T|T[]),\r\n *         @url ?: from initPage parameters    e.g. \"http...\" or [\"http...\", ...more]\r\n *         @XXX ?: any value you set when init e.g. @home:true\r\n *   - @set   : (args) => void ( setState )\r\n ** ************************* ********* *************************/\r\n\r\nimport {useEffect, useState, useCallback, useRef} from 'react'\r\nimport {defaultPageConfig as defaultConf, defaultPage, normPage} from '../utils'\r\nimport {Page , PageConfig as Conf, BasicProps, BasicState, BasicAction} from '../types'\r\nexport const usePage = <T extends {}={}>(\r\n    props :BasicProps<Partial<Page<T>>>,//BasicProps<Page<T>>,\r\n    config:BasicProps<Partial<Conf<T>>>={},\r\n) : [Page<T>, BasicAction<Partial<Page<T>>>] => {\r\n    if (typeof props===\"function\") props  = props()\r\n    if (typeof config===\"function\")config = config()\r\n    const pageRef = useRef<Page<T>>({...defaultPage, ...props } as Page<T>)\r\n    const confRef = useRef<Conf<T>>({...defaultConf, ...config} as Conf<T>)\r\n    const [page,set] = useState<Page<T>>( normPage(pageRef.current) )\r\n    //  ************************* setPage *************************  //\r\n    const setPage = useCallback((state:BasicState<Partial<Page<T>>>) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current as Partial<Page<T>>)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n        //window.scrollTo(0, 0)\r\n    }, [page.id])\r\n    return [page, setPage]\r\n}\r\n","import React, {FC, CSSProperties, Children,useCallback,useMemo,useEffect,useState,useRef} from 'react'\r\nimport { useSprings, animated as a } from 'react-spring'\r\nimport { useGesture, } from 'react-use-gesture'\r\nimport { clamp, swap } from '../utils'\r\nimport { NotesProps } from '../types'\r\nexport const Notes:FC<NotesProps> = ({\r\n    order=null,\r\n    grandren=null, right=null, left=null, depth=0,\r\n    children, size=1, style={},...props\r\n}) => {\r\n    const [width,fontSize] = useMemo(()=>[size*500,size*50],[size])\r\n    //const length = useMemo(()=>(children as any)?.length || 1, [children])\r\n    const [length, setLength] = useState<number>((children as any)?.length||1)\r\n    const [height, setHeight] = useState<number>(width*length)\r\n    const [isOpen, setIsOpen] = useState<boolean[]>(Array(length).fill(false))\r\n    const orderRef    = useRef<number[]>(order||[...Array(length)].map((_,i:number)=>i))\r\n    const containerRef= useRef<HTMLDivElement|null>(null)\r\n    const childHeight = useRef( Array(length).fill(width) )\r\n    const setPosition = useCallback(() => {\r\n        const childs  = Array.from(containerRef?.current?.children||[])\r\n        childHeight.current = [...childs].map((c:any)=>c.clientHeight)\r\n        children && setHeight(childHeight.current.reduce((a,b)=>a+b) || width*length)\r\n    }, [width, length, children])\r\n    useEffect(()=>{\r\n        const newLength = (children as any)?.length||1\r\n        setLength(newLength)\r\n        setIsOpen(Array(newLength).fill(false))\r\n        if (orderRef.current.length !== newLength)\r\n            orderRef.current = order||[...Array(newLength)].map((_,i:number)=>i)\r\n            childHeight.current = Array(newLength).fill(width)\r\n    }, [width,order,children])\r\n    //  *************************  ➊ React Springs  *************************  //\r\n    const getY =({pre=0,arr=orderRef.current})=>pre<1?0:arr.slice(0,pre).map(i=>childHeight.current[i]).reduce((a,b)=>a+b)\r\n    const getF =({i=-1,x=0,s=1.0})=>(j:number)=>({x:j===i?x:0,y:getY({pre:orderRef.current.indexOf(j)}),scale:j===i?s:1})\r\n    const getG = useCallback(({i=-1,arr=orderRef.current,pre=-1,mx=0,my=0,down=false}) =>\r\n        (j:number) => (down&&j===i)\r\n            ? {scale:0.9, x:mx, y:getY({pre})+my}\r\n            : {scale:1.0, x:0 , y:getY({pre:arr.indexOf(j),arr})}, [])\r\n    const [springs, set] = useSprings(length, getG({}))\r\n    const bind = useGesture({\r\n        onDrag : ({ down,cancel,movement:[mx,my],startTime,\r\n                    last, args:[i], vxvy:[vx,vy],timeStamp, }) => {\r\n            if(!isOpen[i] && cancel && timeStamp-startTime<1000) cancel()\r\n            const pre = orderRef.current.indexOf(i)\r\n            const row = clamp( Math.round(pre+my/width), 0, length-1 )\r\n            const arr = swap(orderRef.current, pre, row)\r\n            if(!down) orderRef.current = arr\r\n            if(!last) return set( getG({i,arr,pre,mx,my,down}) )\r\n            const x = (mx<0?-1:1) * fontSize// * 2 // window.innerWidth/2 -\r\n            const op = (mx**2<.1||x**2<mx**2*2||vx**2+vy**2>1) ? !isOpen[i] : isOpen[i]\r\n            setIsOpen(p=>[...Object.assign([],{[i]:!p[i]})])\r\n            setTimeout(()=>{setPosition();set(getF({i,x:op?x:0,s:op?.9:1}))},1)\r\n        }\r\n    })\r\n    //  *************************  ➋ Child Render  *************************  //\r\n    const styles = useMemo<CSSProperties[]>( () => [\r\n        {width:`min(95vw,${width}px)`,position:\"relative\",margin:`auto`,...style,height     },//*DEV*/,background:\"rgba(100,0,0,0.5)\"},\r\n        {width:`min(95vw,${width}px)`,position:\"relative\",marginTop:fontSize,minHeight:width},//*DEV*/,background:\"rgba(0,100,0,0.5)\"},\r\n        {position:\"absolute\",top:0,left:0,right:0,margin:\"auto\"                             },//*DEV*/,background:\"rgba(0,0,100,0.5)\"},\r\n        {position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translate(-50%,-50%)\",fontSize },\r\n    ], [width,height,fontSize,style] )\r\n    children = Children.map(children, (child) => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []//count(child.props.children) || 0\r\n        return (grand.length>1 && depth===0) // TODO for depth > 0\r\n            ? React.cloneElement(child as any, {children:grand[0], grandren:(\r\n                <Notes {...{...props, depth:depth+1,children:grand.slice(1)}}/> )})\r\n            : child\r\n    })\r\n    useEffect(()=>{ setPosition(); set(getG({})) }, [setPosition, set, getG] )\r\n    //!depth&&console.log(`Render Notes:${depth} height:${height} length:${length} orderRef:`,orderRef.current);\r\n    return (\r\n        <div ref={containerRef} style={{...styles[0]}}>\r\n            {springs.map( ({x,y,scale}, key) =>\r\n                <a.div {...{key}} style={{x,y,position:\"absolute\"}}>\r\n                    <a.div {...bind(key)} style={{scale,...styles[1]}}>\r\n                        {(children as any)[key]}\r\n                    </a.div>\r\n                    { x.interpolate((px:number)=>px**2>0 ) &&\r\n                    <a.div style={{height:childHeight.current[key],...styles[2],\r\n                        y:0,  x:x.to((px:number)=> -px+(px>0?-.5:.5)*(width)),\r\n                        scale  :x.to((px:number)=>px**2/4>size**2?1:(px>0?px:-px)/(size)),\r\n                        width  :x.to((px:number)=>px>0?px*2:-px*2),\r\n                        display:x.to((px:number)=>px?\"inline\":\"none\")\r\n                    }}>\r\n                        { right&& <a.div style={{display:x.to((px:number)=>px>0?\"inline\":\"none\"),...styles[3]}}>\r\n                        { right } </a.div> }\r\n                        { left && <a.div style={{display:x.to((px:number)=>px<0?\"inline\":\"none\"),...styles[3]}}>\r\n                        { left  } </a.div> }\r\n                    </a.div>\r\n                    }\r\n                    { isOpen[key] && /* TODO grand child*/\r\n                        ( (children as any)[key].props?.grandren || '' )\r\n                    }\r\n                </a.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,useEffect,useCallback,useMemo} from 'react';\r\nimport { useSpring, animated as a } from 'react-spring';\r\nimport { useGesture } from 'react-use-gesture';\r\nimport {createPortal} from 'react-dom';\r\nimport { ModalProps } from '../types';\r\nexport const Modal:FC<ModalProps> = ({\r\n        open=false, onClose=null, dark=false, size=1, //onOpen=null,\r\n        children, color=\"\", style={},\r\n    }) => {\r\n    const width = useMemo(()=>500 * size,[size])\r\n    const [spring, set] = useSpring<any>(()=>({x:0,y:-width,scale:0}))\r\n    useEffect(()=>{open&&set({x:0,y:0,scale:1})}, [open, set])\r\n    const close=useCallback( (vx=0,vy=0) => {\r\n        set({x:vx*width, y:(vy-1)*width, scale:0})\r\n        onClose && setTimeout(()=>onClose(), vx**2+vy**2)\r\n    }, [onClose, width, set] )\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?0.9:1}),\r\n        onDrag : ({last,down,vxvy:[vx,vy],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:down?mx:0,y:down?my:0})\r\n            return (mx**2>width**2/4||vx**2+vy**2>10)\r\n                ? close(vx,vy)\r\n                : set({x:0,y:0,scale:1})\r\n        },\r\n    })\r\n    const root = useMemo<HTMLElement|null>(()=>document.getElementById('root'),[])\r\n    const styles = useMemo<React.CSSProperties[]>(()=>[\r\n          { left:0, width:\"100%\", display:\"flex\",justifyContent:\"center\",\r\n             top:0,height:\"100%\",position:\"fixed\",   alignItems:\"center\",\r\n            transition:\"1s\", color:color||dark?\"#212121\":\"#000\",\r\n            zIndex:200,background:`rgba(${dark?\"80,80,80\":\"0,0,0\"},.5)`, ...style},\r\n        ], [dark, color, style])\r\n    return open ? createPortal(\r\n        <div style={styles[0]} onClick={()=>onClose&&onClose()}>\r\n            <a.div style={{position:\"relative\",...spring}} {...bind()}\r\n                onClick={e=>e.stopPropagation()}>\r\n                {children}\r\n            </a.div>\r\n        </div>\r\n    , root as HTMLElement) : null\r\n}\r\n","import React, {FC,Children,CSSProperties,useMemo,useState,useRef,/*useEffect*/} from 'react'\r\nimport { useSprings, animated/*, config*/ } from 'react-spring'\r\n//import { useGesture, } from 'react-use-gesture'\r\n\r\nexport const Pills:FC<any> = ({\r\n    position={x:0,y:0,r:Math.PI/4}, depth=0, rate=1.414,\r\n    size=1, isOpen=true, ...props}) => {\r\n    const length = useMemo( () => props?.children?.length||1, [props] )\r\n    const childPos = useRef( Array(length).fill(position) )\r\n    const [childHub, setChildHub] = useState( Array(length).fill(false) )\r\n    // depth>0 && console.log(`Render Pills:${depth} isOpen:${isOpen} childHub:${childHub}`);\r\n    const fn = () => (i:number) => {\r\n        //depth>1 && console.log(`\\tfn:${depth}-${i} ${isOpen?'':'no '}open`);\r\n        const r = position.r/2 + (Math.PI/2) * ((length-i-1)*10+1)/((length-1)*10+2)-Math.PI/8\r\n        const x = isOpen ?  50*rate*size*Math.cos(r) : 0\r\n        const y = isOpen ? -50*rate*size*Math.sin(r) : 0\r\n        childPos.current[i] = {x,y:-y,r}\r\n        return {x, y, scale:isOpen?1:0 }\r\n    }\r\n    const [springs, set] = useSprings( length, fn() )\r\n    const setHub=(key=0,isopen=true)=>setChildHub(pre => Object.assign([],pre,{[key]:isopen}))\r\n    const children = Children.map( props.children, (child,key) => {\r\n        //depth>1 && console.log(`\\tChildren useMemo:${depth}`);\r\n        set(fn())\r\n        return child?.props?.children\r\n          ? React.cloneElement(child, {children:\r\n                <Pills {...{key, isOpen:isOpen&&childHub[key],\r\n                    depth:depth+1, position:childPos.current[key],\r\n                    rate:rate*(1+(depth+1)*0.2),\r\n                    fontSize:50*size/(1+(depth+1)*0.2),\r\n                    ...child.props}}/>\r\n            })\r\n          : child\r\n    })//), [props.children, isOpen, childHub, dark,depth,pso])\r\n    const styles = useMemo<CSSProperties[]>(()=>[\r\n        {position:\"fixed\",left:position.x,bottom:position.y},\r\n        {position:\"absolute\",padding:\"0px\",zIndex:1,transform:`translate(-50%,-50%)`,}\r\n    ], [position])\r\n    return (\r\n        <div style={styles[0]}>\r\n            {springs.map((spring, key) =>\r\n                <animated.div key={`${depth}-${key}`} style={{...spring, ...styles[1]}}\r\n                    onClick={e=>1&&(setHub(key, !childHub[key]),e.stopPropagation())}>\r\n                    {children[key]}\r\n                </animated.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import axios  from 'axios'\r\nimport {Credit} from '../src'\r\nimport {URLType, Page} from '../src/types'\r\n//const  {animateScroll} = require('react-scroll');\r\n\r\nexport type CustomPage = {\r\n    portname:string[], isHome:boolean,\r\n    pathname:string[], status:string,}\r\nexport const customPage : Partial<Page<CustomPage>> = {\r\n    isSign:false,status:\"\", portname: ({isLocal}) => isLocal?[\"3000\",\"8000\",\"8000\"]:[],\r\n    isHome:({id}) => !id  , pathname: ({id,status}) => [\r\n            `/note/${ id?id+'/':'' }`,\r\n        `/api/note/${ id?id+'/':'' }`,\r\n        status!==\"UP\"? `/auth/`: `/api/user/`\r\n    ]\r\n}\r\nexport const scrollTop = () => document.getElementById('root')?.scroll({top:0,left:0,behavior: 'smooth',});\r\nexport const pageConfig = {\r\n    onChange:() => {\r\n        scrollTop()\r\n        //setTimeout(() => {\r\n            /*\r\n            animateScroll.scrollToTop({\r\n                duration: 800,\r\n                delay: 1000,\r\n                smooth: 'easeInOutQuart'\r\n            })\r\n            */\r\n        //}, 1)\r\n    }\r\n}\r\nexport const fetcher = async (\r\n    url:URLType,\r\n    headers:any={'Content-Type':'application/json'}\r\n) =>  {\r\n    return axios\r\n        .get(url.href, headers)\r\n        .then(res => {\r\n            if(!res || res.status!==200)\r\n                throw new Error('Bad Request')\r\n            return res.data\r\n        })\r\n}\r\nexport const signin = async (\r\n    url:URLType,\r\n    cred:Credit,\r\n    headers:any={'Content-Type':'application/json'}\r\n) => {\r\n    return axios\r\n        .post(url.href, cred, {headers})\r\n        .then((res:any) => {\r\n            if (res.status>201 || !res.data.token)\r\n                throw new Error('Bad Request')\r\n            return {username:cred.username, authtoken:res.data.token}\r\n    })\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { unregister } from './serviceWorker';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom'\nimport { Home } from './Home';\nimport { None } from './None';\nimport { Note } from './Note';\n\nimport './styles.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App = (\n    <HelmetProvider>\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\"     component={Home} exact/>\n                <Route path=\"/note\" component={Note}/>\n                <Route path='/none' component={None}/>\n                <Redirect to='/none' />\n            </Switch>\n        </BrowserRouter>\n    </HelmetProvider>\n)\n\nReactDOM.render( App , document.getElementById('root'));\nunregister();\n","import React, {FC, Suspense, useState, useMemo} from 'react'\r\nimport { Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { OrbitControls, StandardEffects } from 'drei'\r\nimport * as THREE from 'three'\r\n\r\nimport { Canvas } from \"react-three-fiber\"\r\nimport { Model, Swarm } from \"./meshs\"\r\n\r\nexport const Home :FC = () => {\r\n    /* state */\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1   , lg:1.5  })\r\n    const [count] = useGrid<number>({xs:25, md:50, lg:100})\r\n    const styles = useMemo<React.CSSProperties[]>(()=>[\r\n      { position:\"relative\", transition:\"1s\", minHeight:\"100vw\", padding:size*2 },\r\n      { padding:`${size}px`, color:dark?\"#818181\":\"#000\",background:dark?\"#212121\":\"#fff\" },\r\n    ], [size, dark])\r\n    return (\r\n    <div style={{...styles[0],background:dark?\"#000\":\"#fff\",minHeight:\"100%\"}}>\r\n        <Canvas\r\n            gl={{antialias:false, logarithmicDepthBuffer:true}}\r\n            pixelRatio={window.devicePixelRatio}\r\n            camera={{position:[0,-2,3]}}\r\n            style={{position:\"fixed\",width:\"100%\",height:\"100%\",top:0,left:0}}\r\n            onCreated={({gl})=>{gl.outputEncoding=THREE.sRGBEncoding}}>\r\n            <fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <Model {...{dark,size,count}}/>\r\n                <StandardEffects />\r\n                <Swarm {...{dark,size}}/>\r\n            </Suspense>\r\n            <OrbitControls />\r\n        </Canvas>\r\n        <Sides {...{size}}>\r\n            <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n            <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'🌞':'🌛'}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'👨':'👶'}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","import React, {FC, useState, useMemo} from 'react'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { MDBInput, MDBBtn } from 'mdbreact'\r\nimport { Mdmd } from '@tsei/mdmd'\r\nimport { useGrid } from 'use-grid'\r\nimport { Card, Grow, Head, Icon } from '../src/components'\r\nimport { useNote, usePage, useUser } from '../src/hooks'\r\nimport { Modal, Notes, Pills, Sides, Trans } from '../src/containers'\r\nimport { customPage, CustomPage, pageConfig, fetcher, signin, scrollTop } from './utils'\r\n\r\nexport const Note :FC = () => {\r\n    // ******************** FOR FETCH ******************** //\r\n    const [page, setPage] = usePage<CustomPage>(customPage, pageConfig)\r\n    const [note, setNote] = useNote(page.urls[1], fetcher)\r\n    const [user, setUser] = useUser(page.urls[2], signin, {onSign:()=>setPage({status:\"\"})})\r\n    // ******************** FOR DESIGN ******************** //\r\n    const [lang, setLang] = useState<string>(page.language)\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    // ******************** FOR RENDER ******************** //\r\n    const onView       = useMemo(()=>()=>setNote(p=>p?.next),[setNote])\r\n    const onClick      = useMemo(()=>()=>setPage({id:\"\"})   ,[setPage])\r\n    const onSignin     = useMemo(()=>()=>setPage(p=>({status:p.status===  \"\"?\"IN\":\"\"  })),[setPage])\r\n    const onMouseEnter = useMemo(()=>()=>setPage(p=>({status:p.status===\"UP\"?\"IN\":\"UP\"})),[setPage])\r\n    const [left,right] = useMemo(()=>{\r\n        const style = {transform:\"translate(-50%)\",left:\"50%\",marginTop:size*50}\r\n        return [\"cooment\",\"arrow-left\"].map(fa => (<Icon {...{fa,size,style,onClick}}/>))\r\n    }, [size,onClick])\r\n    return (\r\n        <div style={{background:dark?\"#000\":\"#f1f1f1\",minHeight:\"100%\",paddingTop:size*100,overflow:\"hidden\"}}>\r\n            <Helmet>\r\n                <title>{note?\"note\":\"Loading...\"}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Head {...{dark,size,onClick,}}>Note</Head>\r\n            { note && note.results instanceof Array &&\r\n            <Notes {...(page.isHome?{}:{size,left,right})}>{note.results.map(({\r\n                ja_text=\"\",//note_id=\"\",author_name=null, //,posted_time=null,\r\n                en_text=\"\",     id=\"\" }) =>\r\n                <div key={id}>\r\n                    <Card {...{...page.isHome?{maxHeight:500,onClick:()=>setPage({id})}:{size},dark}}>\r\n                        <Mdmd color={dark?\"dark\":\"elegant\"} style={{fontSize:\"1.2rem\"}}\r\n                             source={lang===\"ja\"?ja_text:en_text}/>\r\n                    </Card>\r\n                </div> )}\r\n            </Notes> } { (!note || note.next) &&\r\n            <Grow {...{size,onView,onClick:()=>setNote(p=>p?p?.next||p?.now:null )}} /> }\r\n            {/******************** Modals ********************/}\r\n            <Modal {...{dark,size,open:!!page.status,onClose:()=>setPage({status:\"\"})}}>\r\n                <Card {...{dark,size,style:{maxHeight:\"100vh\"}}}>\r\n                    <Head {...{dark,size,onMouseEnter}}>SIGN {user.isAuth?\"OUT\":page.status}</Head>\r\n                    {!user.isAuth && user.input.map((v,k)=>v.name===\"email\"&&page.status!==\"UP\"?null:\r\n                    <MDBInput {...v} key={k}/> )}\r\n                    <MDBBtn color=\"elegant\"\r\n                        style={{width:\"100%\",borderRadus:size*50}}\r\n                        onClick={()=>setUser(page.urls[2])}\r\n                        children={user.isAuth?\"Signout\":\"Get!\"}/>\r\n                </Card>\r\n            </Modal>\r\n            {/******************** FANTASTIC UI ********************/}\r\n            <Sides {...{size}}>\r\n                <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'ja':'en')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'🌞':'🌛'}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size>1?'👶':'👨'}</div>\r\n            </Trans>\r\n            <Pills {...{size}}>\r\n                <Icon fa=\"ellipsis-h\"        {...{dark,size}} onClick={()=>null}>\r\n                    <Icon fa=\"arrow-left\"    {...{dark,size}} onClick={onClick}/>\r\n                    <Icon fa=\"location-arrow\"{...{dark,size}} onClick={scrollTop}/>\r\n                    <Icon fa=\"sign-in-alt\"   {...{dark,size}} onClick={onSignin}/>\r\n                </Icon>\r\n            </Pills>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TODO : make in last of note\r\n// !isHome && (note.children||[]).map((child:any,i:number) =>\r\n//     <Card {...{key:i,dark,size,style:{fontSize:\"1.2rem\"}}}>\r\n//         <Mdmd source={child[`${lang}_text`]}/>\r\n//     </Card>)\r\n","import { useEffect, useCallback, useState, useRef } from 'react'\r\nimport { None, NoteNode, NoteFetcher, NoteConfig, URLType, BasicProps } from '../types'\r\nimport { equalPathname } from '../utils'\r\n//import useSWR from 'swr'\r\n//import { AxiosResponse } from 'axios'\r\nexport const useNote = (\r\n    initURL:BasicProps<URLType|string>,\r\n    initFetcher:NoteFetcher<NoteNode>,\r\n    initNoteConfig:Partial<NoteConfig>={}\r\n) : [ NoteNode, (\r\n        updateUrl:((pre:NoteNode)=>None<URLType|string>)|None<URLType|string>,\r\n        updateFetcher?:NoteFetcher<NoteNode>|null,\r\n        updateConfig ?:Partial<NoteConfig>\r\n    ) => void\r\n] => {\r\n    if (typeof initURL===\"function\")initURL = initURL()\r\n    if (typeof initURL===\"string\")  initURL = new URL(initURL)\r\n    const urlRef     = useRef<URLType>()\r\n    const fetcherRef = useRef(initFetcher)\r\n    const isFetching = useRef<boolean>(false)\r\n    const configRef  = useRef(initNoteConfig)\r\n    const [note,set] = useState<NoteNode>(null) // TODO useSWR(urlRef.current,isFetching)\r\n    //  ************************* 📋 useEffect 📋 *************************  //\r\n    //  * setNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * setNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    useEffect(() => {\r\n        const preURL = urlRef.current\r\n        urlRef.current = initURL as URLType\r\n        if (equalPathname(preURL, urlRef.current))\r\n            return\r\n        isFetching.current = true\r\n        fetcherRef.current(urlRef.current).then((res:any) => {\r\n            //console.log ('\\t\\tinit fetting !!!!', res.results.map((p:any)=>p.id))\r\n            set(pre => res || pre)\r\n            setTimeout(() => void (isFetching.current = false), 1000)\r\n        })\r\n    }, [initURL])//[initURL])\r\n    //  ************************* 📋 SetNote 📋 *************************  //\r\n    //  * setNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * setNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    const setNote = useCallback((updateURL,updateFetcher=null,updateConfig={}) => {\r\n        // ********** FOR REF ********** //\r\n        if (isFetching.current)\r\n            return\r\n        isFetching.current = true\r\n        if (typeof updateURL === \"function\")\r\n            updateURL = updateURL(note)\r\n        if (updateFetcher === null)\r\n            updateFetcher  = fetcherRef.current\r\n        fetcherRef.current = updateFetcher\r\n        configRef.current  = {...configRef.current, ...updateConfig}\r\n        if (!updateURL || !updateFetcher)\r\n            return void (isFetching.current = false)\r\n        const preURL = urlRef.current\r\n        if (typeof updateURL===\"string\")\r\n            updateURL = new URL(updateURL)\r\n        urlRef.current = updateURL\r\n        // ********** FOR FETCHING ********** //\r\n        updateFetcher(updateURL).then((res:any) => {\r\n            //console.log(`\\t\\t update fetting !!!`, res.results.map((p:any)=>p.id))\r\n            setTimeout(() => (isFetching.current = false), 1000)\r\n            return (res && res.results) && set(pre => {\r\n                if (!equalPathname(preURL, urlRef.current))\r\n                    return res\r\n                const {onChange=null} = configRef.current\r\n                const diff = pre\r\n                  ? (pre.results||[]).filter((p:any) =>\r\n                  ! (res.results||[]).find((r:any) => r.id===p.id)\r\n                ) : []\r\n                onChange && onChange()\r\n                return {...res, results:[...diff, ...res.results]}\r\n            })\r\n        })\r\n    }, [note])\r\n    return [note, setNote]\r\n}\r\n","/** ************************* 🙍‍♂️ USE USER 🙍 *************************\r\n *  This is a hook to manage user info and API\r\n *    - const [user, set] = useUser(url, fetcher)\r\n *    - ```\r\n *      ```\r\n *  # ***** useUser API Configs *****\r\n *  ## Props Values\r\n *    - `const _ = usePage(@initURL, @initFetcher, @initConifg)`\r\n *    - @initURL:string\r\n *    - @initFetcher:function\r\n *    - @initConfig : {\r\n *        @\r\n *      }\r\n *  ## Return Values\r\n *    - `const [user, setUser] = useUser(...)`\r\n *    - @user : {\r\n *        @username : user name from fetched API e.g. tseijp\r\n *        @authtoken: user token from cookie\r\n *        @input    : for input Components\r\n *       ~@credit   : the value to send at fetching~\r\n *        @status   : the acton at fetch e.g. IN, UP, OUT or \"\"\r\n *        @userlang : user language from window.navigator.language e.g. ja, en\r\n *      }\r\n *    - @setUser\r\n *      `setUser()`       : Toggle fetching\r\n *      ~`setUser(null)`   : switch status IN->UP or UP->IN~\r\n *      ~`setUser(boolean)`: switch status '' or IN|UP|OUT~\r\n *  # TODO : from usePages : add following keys\r\n ** ************************* ************** *************************/\r\nimport {useCallback, useState, useMemo, useRef} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport {URLType,User,UserConfig,UserSignin} from '../types'\r\nimport {defaultUserConfig} from '../utils'\r\nexport const useUser = (\r\n    initURL :URLType,\r\n    initSign:UserSignin,\r\n    initConfig:Partial<UserConfig>=defaultUserConfig // TODO to config.keys.map\r\n) : [ User, {(\r\n    updateURL ?:URLType|null,\r\n    updateSignin?:UserSignin|null,\r\n    updateConfig?:Partial<UserConfig>,\r\n) : void } ] => {\r\n    const urlRef    = useRef<URLType>(initURL)\r\n    const signinRef = useRef<UserSignin>(initSign)\r\n    const configRef = useRef<UserConfig>({...defaultUserConfig,...initConfig})\r\n    const [cookies, set, del] = useCookies(configRef.current.keys)\r\n    const [credit, setCredit] = useState({username:cookies.username||'',password:'',email:''})\r\n    // ************************* 🙍‍♂️ For setUser 🙍 ************************* //\r\n    const setUser = useCallback((\r\n        updateURL    = null,\r\n        updateSignin = null,\r\n        updateConfig = {}\r\n    ) => {\r\n        const {onSign=null,onSignin=null,onSignout=null,onError=null} = initConfig\r\n        if (updateURL)       urlRef.current = updateURL\r\n        if (updateSignin) signinRef.current = updateSignin\r\n        if (updateConfig) configRef.current = updateConfig\r\n        return (cookies.authtoken)\r\n          ? (del('authtoken',{path:'/'}), onSign&&onSign(), onSignout&&onSignout())\r\n          : signinRef\r\n            .current(urlRef.current, credit)\r\n            .then( (user:{[K in 'username'|'authtoken']:string}) => {\r\n                if (!user.username || !user.authtoken)\r\n                    throw new Error()\r\n                onSign   && onSign()  ; set(\"username\" ,user.username ,{path:'/'});\r\n                onSignin && onSignin(); set(\"authtoken\",user.authtoken,{path:'/'});\r\n            })\r\n            .catch((_:any)=>onError&&onError())\r\n    }, [cookies,set,del,credit,initConfig] )\r\n    // ************************* 🙍‍♂️ For Render 🙍 ************************* //\r\n    const onChange = useCallback(({target}:any) => {\r\n        setCredit(p => ({...p, [target.name]:target.value}) )\r\n    }, [])\r\n    const user = useMemo<User>(() => ({\r\n        username :cookies.username ||'', isAuth:!!cookies.authtoken,\r\n        authtoken:cookies.authtoken||'', input: Object\r\n            .entries({username:'user',password:'lock',email:'envelope'})\r\n            .map(([name,icon]) => ({\r\n                label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n                group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n                ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"})\r\n            }))\r\n    }), [cookies, credit, onChange])\r\n    return [user, setUser]\r\n}\r\n    /*const input = useMemo<User[\"input\"]>(() => Object\r\n        .entries({username:'user',password:'lock',email:'envelope'})\r\n        .map(([name,icon]) => ({\r\n            label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n            group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n            ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"}),\r\n    })), [credit, onChange])\r\n    return [useMemo(() => ({\r\n        username :cookies.username ||'',\r\n        authtoken:cookies.authtoken||'', input,\r\n        //status : sign?\"\":cookies.authtoken?\"OUT\":inup\r\n    }), [cookies, input]), setUser]\r\n}*/\r\n","import React, {FC, Suspense, useState, useMemo} from 'react'\r\n//import { Card, Foot, Head } from '../src/components'\r\nimport { /*Modal, Pills, */Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { OrbitControls, StandardEffects } from 'drei'\r\nimport { Kinect } from './meshs'\r\nimport * as THREE from 'three'\r\nexport const None :FC = () => {\r\n    /* state */\r\n    const url = '/static/core/kinect.mp4'\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1    , lg:1.5 })\r\n    const styles = useMemo<React.CSSProperties[]>(()=>[\r\n      { position:\"relative\", height:\"100vw\", padding:size*2, background:dark?\"#000\":\"#fff\"},\r\n      { padding:`${size}px`, color:dark?\"#818181\":\"#000\", background:dark?\"#212121\":\"#fff\" },\r\n    ], [size, dark])\r\n    return (\r\n        <div style={{...styles[0]}}>\r\n            <Helmet>\r\n                <title>404 NOT FOUND</title>\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <div style={{position:\"fixed\",top:0,left:0,width:'100%',height:'100%'}}>\r\n                <Canvas gl={{ alpha: false, antialias: false, logarithmicDepthBuffer: true }}\r\n                        camera={{ position:[0,0,500], far:2000 }}\r\n                        pixelRatio={window.devicePixelRatio}\r\n                        onCreated={({gl}:any) => {\r\n                            gl.toneMapping    = THREE.ACESFilmicToneMapping\r\n                            gl.outputEncoding = THREE.sRGBEncoding}}>\r\n                    <ambientLight intensity={1.1} />\r\n                    <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                    <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                    <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n                    <Kinect {...{url}}/>\r\n                    <Suspense fallback={null}>\r\n                      <StandardEffects />\r\n                    </Suspense>\r\n                    <OrbitControls />\r\n                </Canvas>\r\n            </div>\r\n            <Sides {...{size}}>\r\n                <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'🌞':'🌛'}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'👨':'👶'}</div>\r\n            </Trans>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}