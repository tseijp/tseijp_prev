{"version":3,"sources":["page/serviceWorker.ts","src/components/Card.tsx","page/codes/core/Card.tsx","src/components/Code.tsx","page/codes/core/Code.tsx","src/components/Grow.tsx","page/codes/core/Grow.tsx","src/utils.ts","src/containers/Notes.tsx","page/codes/core/Notes.tsx","src/containers/Split.tsx","page/codes/core/Split.tsx","src/components/Head.tsx","src/containers/Trees.tsx","page/codes/core/Trees.tsx","src/meshs/Kinect.tsx","page/codes/mesh/Kinect.tsx","src/meshs/Model.tsx","src/meshs/Swarm.tsx","page/codes/mesh/Model.tsx","page/utils.ts","src/hooks/usePage.ts","src/components/Icon.tsx","src/containers/Sides.tsx","src/containers/Trans.tsx","page/Hook.tsx","page/None.tsx","src/containers/Modal.tsx","src/containers/Pills.tsx","page/Note.tsx","page/index.tsx","src/hooks/useNote.ts","src/hooks/useUser.ts"],"names":["Boolean","window","location","hostname","match","Card","children","size","rate","space","style","dark","color","max","min","props","useSpring","xys","set","styleCard","useMemo","minHeight","maxHeight","margin","padding","position","width","borderRadius","overflow","background","calc","useCallback","x","y","innerWidth","innerHeight","bind","useGesture","onDrag","event","stopPropagation","onHover","hovering","onMove","xy","div","boxShadow","interpolate","s","join","transform","textAlign","verticalAlign","fontSize","colors","childs","useControl","type","value","items","codeCard","require","atomOneLight","atomOneDark","Light","Code","code","language","inline","onDoubleClick","_","navigator","clipboard","writeText","customStyle","display","PreTag","useInlineStyles","showLineNumbers","codes","codeCode","Grow","onView","role","className","fn","useRef","ref","useEffect","current","useView","e","isIntersecting","height","codeGrow","topUp","text","charAt","toUpperCase","slice","toLowerCase","clamp","range","sign","num","samp","a","l","d","length","Array","fill","getWRate","o","w","map","v","filter","reduce","b","equalPathname","urls","u","URL","joinURL","pathname","every","self","defaultPageConfig","onChange","defaultPage","id","split","find","i","isHome","isLocal","protocol","portname","port","search","hash","href","normPage","page","state","Object","entries","sort","forEach","key","val","arr","getp","geti","n","maxLength","joinPage","defaultUserConfig","keys","user","onSign","onSignin","onSignout","strArray","resultArray","TypeError","shift","replace","str","String","push","parts","is","isArray","obj","prototype","toString","call","fun","und","nul","Set","Map","equ","r","g","debug","styles","top","left","right","NotesSide","px","to","scale","NotesItem","Notes","order","grandren","depth","useState","setLength","setHeight","isOpen","setIsOpen","orderRef","heightRef","targetRef","setPosition","from","c","clientHeight","len","getY","pre","getG","mx","my","down","j","indexOf","useSprings","springs","onClick","setTimeout","cancel","movement","startTime","last","args","vxvy","vx","vy","timeStamp","row","Math","round","ind","ret","swap","p","assign","getF","Children","child","grand","toArray","React","cloneElement","codeNotes","whiteSpace","Split","styleItem","sRef","lRef","hRef","wRef","h","spring","setH","z","setW","first","dir","direction","k","m","W","move","animation","drag","lockDirection","codeSplit","Head","defaultConfig","restSpeedThreshold","restDisplacementThreshold","textOverflow","cursor","marginRight","fontFamily","textTransform","willChange","marginLeft","paths","TreeIcon","CloseSquareO","viewBox","MinusSquareO","PlusSquareO","EyeO","TreesContent","content","canHide","icon","opacity","Icon","iconClick","open","immediate","eyeClick","EyeOstyle","Trees","visible","root","springConfig","topStyle","config","default","zIndex","borderLeft","codeTrees","Kinect","url","nearClipping","depthWrite","pointSize","farClipping","depthTest","zOffset","geometry","material","video","document","createElement","src","loop","load","muted","play","THREE","useFrame","Float32Array","floor","setAttribute","uniforms","attach","fragmentShader","vertexShader","blending","transparent","use","gl","antialias","logarithmicDepthBuffer","camera","far","pixelRatio","devicePixelRatio","onCreated","outputEncoding","toneMapping","intensity","codeKinect","Model","useLoader","GLTFLoader","animations","nodes","group","actions","undefined","mixer","modelPos","delta","update","updateProjectionMatrix","lookAt","actionNum","idle","clipAction","weight","timeScale","clip","uncacheClip","dispose","rotation","PI","object","skeleton","skinning","Swarm","count","mesh","dummy","random","mul","add","particles","t","xFactor","factor","yFactor","speed","zFactor","particle","cos","sin","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","scl","pos","scrub","distance","castShadow","fallback","scrollTop","getElementById","scroll","behavior","pageConfig","customPage","isSign","status","fetcher","headers","axios","get","then","res","Error","data","signin","cred","post","token","username","authtoken","hookTree","getval","hookPage","Hook","CODES","usePage","pageRef","confRef","defaultConf","setPage","newPage","history","pushState","fa","circ","onOpen","userSelect","overflowX","SidesArea","SidesContainer","backgroundColor","SidesIcon","Sides","opened","setOpened","bool","wobbly","slow","close","stiff","velocity","TransArea","TransIcon","rotateZ","TransContainer","TransItem","alignItems","Trans","getr","unit","onBind","onPinch","offset","transition","item","overflowY","card","ctrl","CardHook","None","lang","setLang","useGrid","md","lg","setDark","setSize","alpha","rel","Modal","onClose","justifyContent","createPortal","Pills","childPos","childHub","setChildHub","setHub","bottom","App","path","component","exact","initGetURL","initGetter","initPoster","initNoteConfig","getURLRef","getterRef","posterRef","configRef","isFetching","note","getNote","updateURL","updateGetter","updateConfig","previousURL","console","log","diff","results","postNote","updatePoster","useNote","setNote","initURL","initSign","initConfig","urlRef","signinRef","useCookies","cookies","del","password","email","credit","setCredit","setUser","updateSignin","onError","catch","target","name","isAuth","input","label","validate","autoComplete","error","success","useUser","next","onMouseEnter","marginTop","paddingTop","ja_text","en_text","source","now","borderRadus","charSet","init","xs","sm","side","setSide","title","anchor","collapsed","ids","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.98fba0f5.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/***Card\r\n  *     Ref : https://codesandbox.io/embed/rj998k4vmm\r\n  *           https://coliss.com/articles/build-websites/operation/css/\r\n ***/\r\nimport React, {CSSProperties as CSS, FC, useCallback, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {useSpring, animated as a} from 'react-spring'\r\nexport type Card = FC<BasedProps<{\r\n    max:number,\r\n    min:number,\r\n    rate:number,\r\n    space:number,\r\n}>>\r\nexport const Card:Card = ({\r\n    children, size=1, rate=1, space=0, style={},\r\n    dark=false, color=\"\",max=0, min=0, ...props\r\n}) => {\r\n    const [{xys}, set] = useSpring(()=>({xys:[0,0,0]}))\r\n    const styleCard = useMemo<CSS>(() => {\r\n        const minHeight = min||size*500\r\n        const maxHeight = max||null//size*500\r\n        return {margin:`${space}px auto ${space}px auto`, padding:0,position:\"relative\",\r\n                width:`min(80%,${size*500}px)`,borderRadius:size*25,overflow:\"hidden\",\r\n            ...(minHeight&&{minHeight}),background : dark?\"#212121\":\"#fff\",\r\n            ...(maxHeight&&{maxHeight}),color:color||dark?\"#818181\":\"#000\",}\r\n    }, [size, space, color, dark, max, min])\r\n    const calc = useCallback((x, y)=>[\r\n       (x - window.innerWidth  / 2) / size / 250, // -1 ~ 1\r\n       (y - window.innerHeight / 2) / size / 250, // -1 ~ 1\r\n        rate], [size, rate])\r\n    const bind = useGesture({\r\n        onDrag : ({event})    => event?.stopPropagation(),\r\n        onHover: ({hovering}) => !hovering && set({xys:[0,0,0]}),\r\n        onMove : ({xy:[x,y]}) => set({xys:calc(x,y)}),\r\n    })\r\n    return <a.div style={{\r\n            boxShadow:xys.interpolate((x,y,s) => [\r\n                `${0.5-x*2}rem`,//offset-x     : -1.5 ~ 0.5 ~ 2.5\r\n                `${1.5-y*2}rem`,//offset-y     : -0.5 ~ 1.5 ~ 3.5\r\n                `${1.5 + s}rem`,//blur-radius  : 1.5 =hover=> 2.5\r\n                `${s - 0.5}rem`,//spread-radius:-0.5 =hover=> 0.5\r\n                `hsl(200 50% 20% / ${15+s*5}%)`].join(' ')),\r\n            transform:xys.interpolate((x,y,s) => [\r\n                `perspective(${size*50}px)`,\r\n                `rotateX(${-y/10}deg)`     ,//-0.1 ~ 0.1\r\n                `rotateY(${ x/10}deg)`     ,//-0.1 ~ 0.1\r\n                `scale(${1+s/10})` ,].join(' ')),\r\n            ...styleCard, ...style }}\r\n           {...bind()}\r\n           {...{...props,children}}/>\r\n}\r\n","import React, {\r\n    FC, CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Card as Target} from '../../../src'\r\nconst style:CSS = {textAlign:\"center\", verticalAlign:\"middle\", padding:\"auto auto\", fontSize:100}\r\nconst colors = [\"white\", \"black\", ]\r\nconst childs = [\"white\", \"black\", ]\r\nexport const Card:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const min   = useControl('min'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const max   = useControl('max'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const color    = useControl('color'   , {type: 'select' , value: colors[0], items: colors})\r\n    const children = useControl('children', {type: 'select' , value: childs[0], items: childs})\r\n    return (\r\n        <Target {...{dark,size,min,max,children}}\r\n            style={{...style,color,margin:`${size*100}px auto ${size*100}px auto`}}/>\r\n    )\r\n}\r\nexport const codeCard =\r\n`import {Card} from '@tsei/core'\r\nconst App =  => (\r\n    <Card\r\n        dark={false}\r\n        size={1}\r\n        min ={0}\r\n        max ={0}\r\n        color=\"\"/>\r\n)`\r\n","import React, {FC, useCallback, useMemo} from \"react\";\r\nimport {BasedProps} from '../types'\r\nconst {atomOneLight, atomOneDark} = require('react-syntax-highlighter/dist/esm/styles/hljs');\r\nconst {Light} = require('react-syntax-highlighter');\r\n\r\nexport type Code = FC<BasedProps<{\r\n    code:string, language:string, inline:boolean\r\n}>>\r\nexport const Code:Code = ({\r\n    code='', language=\"javascript\", inline=false, dark=false, size=1, style={}, ...props//children,\r\n}) => {\r\n    const onDoubleClick = useCallback((_:any)=>navigator.clipboard.writeText(code),[code])\r\n    const customStyle = useMemo(()=>{\r\n        return {...(inline?{verticalAlign:\"top\",padding:0}:{}),padding:\"1rem\",\r\n            display:inline?\"inline-block\":\"fixed\", position:'relative', margin:0,}\r\n    }, [inline])\r\n    return <Light   {...props} PreTag={inline?\"span\":\"pre\"}    useInlineStyles={true}\r\n                    {...{customStyle, onDoubleClick, language}}showLineNumbers={!inline}\r\n             style={{...(dark?atomOneDark:atomOneLight),fontSize:`${size}rem`,...style}}>\r\n                    {code}</Light>\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Code as Target} from '../../../src'\r\nconst items = ['javascript', 'python']\r\nconst codes = [\r\n`import React from 'react'\r\n\r\nexport const usePage = (props, config) => {\r\n    if (typeof props ===\"function\")  props = props()\r\n    if (typeof config===\"function\") config = config()\r\n    const pageRef = React.useRef({...defaultPage, ...props })\r\n    const confRef = React.useRef({...defaultConf, ...config})\r\n    const [p,set] = React.useState( normPage(pageRef.current) )\r\n    const setPage = React.useCallback((state) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    React.useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [p.id])\r\n    return [p, setPage]\r\n}`,]\r\nexport const Code:FC = () => {\r\n    const dark  = useControl('dark'   , {type: 'boolean', value: false})\r\n    const inline= useControl('inline' , {type: 'boolean', value: false})\r\n    const size  = useControl('size'   , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const code     = useControl('code'    , {type: 'string', value:codes[0]})\r\n    const language = useControl('language', {type: 'select', value:items[0], items})\r\n    return (\r\n        <Target {...{dark,inline,size,code,language}} />\r\n    )\r\n}\r\nexport const codeCode =\r\n`import {Code} from '@tsei/core'\r\nconst codeCode = \"hello\"\r\nconst App =  => (\r\n    <Code\r\n        dark    = {false}\r\n        inline  = {false}\r\n        size    = {1}\r\n        code    = {\"javascript\"}\r\n        language= {\"...\"}/>\r\n)`\r\n","import React, {CSSProperties as CSS, FC,useEffect, useMemo, useRef} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useView} from 'use-grid'\r\nexport type Grow = FC<BasedProps>\r\nexport const Grow:Grow = ({\r\n    onView=null, role=\"status\",\r\n    size=1, className=\"spinner-grow\", ...props\r\n}) => {\r\n    const fn = useRef()\r\n    const ref = useRef(null)\r\n    useEffect(()=>{fn.current = onView}, [onView])\r\n    useView(ref, (e:any) => 1\r\n        && e.isIntersecting\r\n        && typeof fn.current===\"function\"\r\n        && (fn.current as any)())\r\n    const style = useMemo<CSS>(()=>({\r\n        position:\"relative\",display:\"grid\",margin:`${size*50}px auto 0 auto`,\r\n        width:size*250,height:size*250,...(props.style||{})\r\n    }), [size, props.style])\r\n    return <div  {...props} {...{ref,role,className,style}} />\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Grow as Target} from '../../../src'\r\nexport const Grow:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    return (\r\n        <Target {...{dark, size}}/>\r\n    )\r\n}\r\nexport const codeGrow =\r\n`import {Grow} from '@tsei/core'\r\nconst App =  => (\r\n    <Grow\r\n        dark={true}\r\n        size={1}/>\r\n)`\r\n","import {Page, PageConfig, URLType, UserConfig} from './types'\r\n// *************************  FOR Components  ************************* //\r\n\r\nexport const topUp = (text=\"\"):string => \"\"+text.charAt(0).toUpperCase()+\"\"+text.slice(1).toLowerCase()\r\nexport const clamp = (x:number, min=0, max=1) :number  => (x<min)?min:(x>max)?max:x\r\nexport const range = (x:number, min=0, max=1) :boolean => min < x && x < max\r\nexport const swap  = (arr:number[],ind:number,row:number) => {\r\n    const ret = [...arr.slice(0, ind), ...arr.slice(ind+1, arr.length)]\r\n    return [...ret.slice(0, row), ...arr.slice(ind, ind+1), ...ret.slice(row)]\r\n}\r\nexport const sign =(num=0):number=> 0\r\n    ||  (num < 0 &&-1)\r\n    ||  (num > 0 && 1)\r\n    ||  (num===0 && 0)\r\n    ||  0\r\nexport const samp = <T extends any>(a:T[], l:number, d?:T):T[] => [\r\n    ...a.slice(0,l),\r\n    ...(l-a.length>0? Array(l-a.length).fill(d||a[0]) : [])\r\n]\r\nexport const getWRate = (o=[] as number[],l=0,w=0,width=window.innerWidth) =>\r\n    o instanceof Array && o.length > 0\r\n        ? samp(o, l, -1)\r\n            .map((v=0) => 0\r\n                || (w > 0 && (w <= 1 ? w : w/width))\r\n                || (v > 0 && (v <= 1 ? v : v/width))\r\n                || (v < 0 && -1)\r\n                || 0)\r\n            .map((v,_,s) => v>=0? v : 1 - [...s.filter(v=>v>0),0].reduce((a,b)=>a+b)/s.filter(v=>v<0).length)\r\n        : Array(l).fill(l>0?1/l:l)\r\n\r\n// *************************  use-page  ************************* //\r\nexport const equalPathname = (...urls:(URLType|string|undefined|null|false)[]) =>\r\n    urls.map(u => typeof u===\"string\"? new URL(u) : u)\r\n        .map(u => u && joinURL(u.pathname, \"/\"))\r\n        .every((u, _, self) => u===self[0])\r\n\r\nexport const defaultPageConfig:PageConfig = {\r\n    onChange:null,\r\n}\r\nexport const defaultPage = {\r\n    id      :window.location.pathname.split('/').filter(v=>v).find((_,i)=>i===1)||\"\",\r\n    isHome  :window.location.pathname.split('/').filter(v=>v).length > 1,\r\n    isLocal :window.location.hostname===\"localhost\",\r\n    protocol:window.location.protocol ||\"\",\r\n    hostname:window.location.hostname ||\"\",\r\n    portname:window.location.port     ||\"\",\r\n    pathname:window.location.pathname ||\"\",\r\n    search  :window.location.search   ||\"\",\r\n    hash    :window.location.hash     ||\"\",\r\n    language:window.navigator.language||\"ja\",\r\n    urls    :[new URL(window.location.href)],\r\n}\r\nexport const joinPage = <T={}>(page:Page<T>):string|string[] => {\r\n    const {protocol,hostname,portname,pathname=\"\",search=\"\",hash=\"\"} = page;\r\n    const arr  =[protocol,hostname,portname,pathname,search,hash]\r\n    const getp =(port:any)=>port?`:${port}`:\"\"\r\n    const geti =(i=0,n:any)=>n instanceof Array?(i<n.length?n[i]:n[n.length-1]):n\r\n    if (arr.every(v=>typeof v===\"string\"))\r\n        return joinURL(`${protocol}//${hostname}${getp(portname)}/`,pathname as any, search as any)\r\n    const maxLength = arr.map(v=>v instanceof Array?v.length:1).reduce((a,b)=>a>b?a:b)\r\n    return [...Array(maxLength)].map((_,i) =>\r\n        joinURL( `${geti(i,protocol)}//${geti(i,hostname)\r\n            }${getp(geti(i,portname))}/`,geti(i,pathname),geti(i,search) )\r\n    ) as string[]\r\n}\r\nexport const normPage = <T extends {}={}>(page:Page<T>) => {\r\n    const state = {...page} as any//Page<T>\r\n    Object.entries(state).sort(([_,val]) => typeof val===\"function\"?1:-1)\r\n    .forEach(([key,val]:any) => (state[key]=typeof val===\"function\"?val(state):val))\r\n    const urls = joinPage<T>(state as Page<T>)\r\n    return {...state, urls:urls instanceof Array\r\n      ? urls.map((u:any) => typeof u===\"string\" ? new URL(u) : u) as URLType[]\r\n      : [typeof urls===\"string\" ? new URL(urls) : urls] as URLType[] } as Page<T>\r\n}\r\n\r\n// *************************  For useUser  ************************* //\r\nexport const defaultUserConfig:UserConfig = {\r\n    keys:['username','authtoken'],\r\n    user:null,\r\n    onSign:null,\r\n    onSignin:null,\r\n    onSignout:null\r\n}\r\n// *************************  join-url  ************************* //\r\n// * This function is fork of join-url/urljoin\r\n// * Code : https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\r\n// ************************* *************** ************************* //\r\nexport function joinURL (...strArray:(string|number)[]) : string {\r\n    var resultArray = [];\r\n    if (strArray.length === 0) return ''\r\n    if (typeof strArray[0] !== 'string') throw new TypeError('Url must be string.');\r\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1)\r\n        strArray[0] = strArray.shift() + strArray[0];\r\n    if (strArray[0].match(/^file:\\/\\/\\//))\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\r\n    else\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\r\n    strArray = strArray.filter(str=>str!==\"\")\r\n    for (var i = 0; i < strArray.length; i++) {\r\n        let str = strArray[i];\r\n        if (typeof str === 'number') str = String(str)\r\n        if (typeof str !== 'string') throw new TypeError(`${str} must be a string. Received ${typeof str}`);\r\n        if (str === '') continue;\r\n        if (i > 0) str = str.replace(/^[\\/]+/, '');                   //eslint-disable-line\r\n        if (i < strArray.length - 1) str = str.replace(/[\\/]+$/, ''); //eslint-disable-line\r\n        else str = str.replace(/[\\/]+$/, '/');                        //eslint-disable-line\r\n        resultArray.push(str);\r\n    }\r\n    let str = (resultArray as string[]).join('/');\r\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\r\n    let parts = str.split('?');\r\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\r\n    return str;\r\n}\r\n// *************************  helpers  ************************* //\r\n// * This function is fork of react-spring\r\n// * Code : https://github.com/pmndrs/react-spring/blob/master/src/shared/helpers.ts\r\n// ************************* *************** ************************* //\r\nexport const is = {\r\n    arr: Array.isArray,\r\n    obj: (a: unknown): a is object    => Object.prototype.toString.call(a) === '[object Object]',\r\n    fun: (a: unknown): a is Function  => typeof a === 'function',\r\n    str: (a: unknown): a is string    => typeof a === 'string',\r\n    num: (a: unknown): a is number    => typeof a === 'number',\r\n    und: (a: unknown): a is undefined => a === void 0,\r\n    nul: (a: unknown): a is null      => a === null,\r\n    set: (a: unknown): a is Set<any>  => a instanceof Set,\r\n    map: (a: unknown): a is Map<any, any> => a instanceof Map,\r\n    equ(a: any, b: any) {\r\n    if (typeof a !== typeof b) return false\r\n        if (is.str(a) || is.num(a)) return a === b\r\n        if (is.obj(a) &&\r\n            is.obj(b) &&\r\n            Object.keys(a).length + Object.keys(b).length === 0)\r\n            return true\r\n        let i\r\n        for (i in a) if (!(i in b))     return false\r\n        for (i in b) if (a[i] !== b[i]) return false\r\n        return is.und(i) ? a === b : true\r\n    },\r\n}\r\n\r\nexport function merge(target: any, lowercase: boolean = true) {\r\n  return (object: object) =>\r\n    (is.arr(object) ? object : Object.keys(object)).reduce(\r\n        (acc: any, element) => {\r\n            const key = lowercase\r\n              ? element[0].toLowerCase() + element.substring(1)\r\n              : element\r\n            acc[key] = target(key)\r\n            return acc\r\n        },\r\n        target\r\n    )\r\n}\r\n","import React, {ReactChild as RC, FC, CSSProperties as CSS, Children,useCallback,useEffect,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated as a} from 'react-spring'\r\nimport {useGesture,} from 'react-use-gesture'\r\nimport {clamp, swap} from '../utils'\r\nimport {BasedProps} from '../types'\r\nconst background = ({r=0,g=0,b=0,a=.1,debug=true}:any) => debug?{background:`rgba(${[r,g,b,a].join(',')})`}:{}\r\nconst styles:{[key:string]:CSS} = {\r\n    cont: {position:\"relative\",width:\"100%\",margin:`auto`        },\r\n    main: {position:\"relative\",width:\"100%\"                      },\r\n    side: {position:\"absolute\",top:0,left:0,right:0,margin:\"auto\"},\r\n    btn : {position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translate(-50%,-50%)\" },\r\n}\r\nexport const NotesSide:FC<BasedProps> = ({\r\n    children,size=1,height=0,x, debug=false,\r\n}) => x.interpolate((px:number)=>px**2<=0 ) ? null :\r\n    <a.div children={children} style={{...styles.side, height, ...background({b:255,debug}),\r\n        y:0,  x:x.to((px:number)=> -px+(px>0?-.5:.5)*(size*500)),\r\n        scale  :x.to((px:number)=>px**2/4>size**2?1:(px>0?px:-px)/(size)),\r\n        width  :x.to((px:number)=>px>0?px*2:-px*2),\r\n        display:x.to((px:number)=>px?\"inline\":\"none\") }}/>\r\nexport const NotesItem:FC<BasedProps> = ({children,x}) => !children ? null :\r\n    <a.div style={{...styles.btn,display:x.to((px:number)=>px<0?\"inline\":\"none\")}}>\r\n        {children} </a.div>\r\nexport type Notes = FC<BasedProps<{\r\n    grandren:any,right:RC,left:RC, depth:number, space:number|string,\r\n}>>\r\nexport const Notes:Notes = ({\r\n    order=null, grandren=null, debug=false,\r\n    right=null, left=null, depth=0, space=0,\r\n    size=1, style={}, ...props\r\n}) => {\r\n    const [length, setLength] = useState<number>((props?.children as any)?.length||1)\r\n    const [height, setHeight] = useState<number>(props.height || size*500*length)\r\n    const [isOpen, setIsOpen] = useState<boolean[]>(Array(length).fill(false))\r\n    const orderRef    = useRef<number[]>(order||[...Array(length)].map((_,i:number)=>i))\r\n    const heightRef   = useRef( Array(length).fill(size*500) )\r\n    const targetRef   = useRef<HTMLDivElement|null>(null)\r\n    const setPosition = useCallback(() => {\r\n        if (props.height) return setHeight(props.height)\r\n        const childs  = Array.from(targetRef?.current?.children||[])\r\n        heightRef.current = [...childs].map((c:any)=>c.clientHeight||0)\r\n        props.children && setHeight([...heightRef.current,0].reduce((a,b)=>a+b) || size*500*length)\r\n    }, [size, length, props.height, props.children])\r\n    useEffect(()=>{\r\n        const len = (props.children as any)?.length||1\r\n        setLength(len)\r\n        setIsOpen(Array(len).fill(false))\r\n        if (orderRef.current.length === len) return\r\n         orderRef.current = order||[...Array(len)].map((_,i:number)=>i)\r\n        heightRef.current = Array(len).fill(size*500)\r\n    }, [size,order, props.children])\r\n    //  *************************   React Springs  *************************  //\r\n    const getY = ({pre=0,arr=orderRef.current})=>pre<1?0:[...arr.slice(0,pre).map(i=>heightRef.current[i]),0].reduce((a,b)=>a+b)\r\n    const getF = ({i=-1,x=0,s=1.0})=>(j=0)=>({x:j===i?x:0,y:getY({pre:orderRef.current.indexOf(j)}),scale:j===i?s:1})\r\n    const getG = useCallback(({i=-1,arr=orderRef.current,pre=-1,mx=0,my=0,down=false}) =>\r\n        (j:number) => (down&&j===i)\r\n            ? {scale:0.9, x:mx, y:getY({pre})+my}\r\n            : {scale:1.0, x:0 , y:getY({pre:arr.indexOf(j),arr})}, [])\r\n    const [springs, set] = useSprings(length, getG({}))\r\n    const bind = useGesture({\r\n        onClick:()=>setTimeout(()=>{setPosition();set(getG({})) },1),\r\n        onDrag : ({ down,cancel,movement:[mx,my],startTime,\r\n                    last, args:[i], vxvy:[vx,vy],timeStamp, }) => {\r\n            if(!last && cancel && timeStamp-startTime<1) cancel()\r\n            const pre = orderRef.current.indexOf(i)\r\n            const row = clamp( Math.round(pre+my/size*500), 0, length-1 )\r\n            const arr = swap(orderRef.current, pre, row)\r\n            if(!down) orderRef.current = arr\r\n            if(!last) return set( getG({i,arr,pre,mx,my,down}) )\r\n            const x = (mx<0?-1:1) * size*50// * 2 // window.innerWidth/2 -\r\n            const op = (mx**2<.1||x**2<mx**2*2||vx**2+vy**2>1) ? !isOpen[i] : isOpen[i]\r\n            setIsOpen(p=>[...Object.assign([],{[i]:!p[i]})])\r\n            setTimeout(()=>{setPosition();set(getF({i,s:op?1:1}))},1)//TODO: s is .9?\r\n        }\r\n    })\r\n    //  *************************   Child Render  *************************  //\r\n    const children = useMemo(() => Children.map(props.children, (child) => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []//count(child.props.children) || 0\r\n        return (grand.length>1 && depth===0) // TODO for depth > 0\r\n            ? React.cloneElement(child as any, {children:grand[0], grandren:(\r\n                <Notes {...{...props, depth:depth+1,children:grand.slice(1)}}/> )})\r\n            : child\r\n    }), [depth, props])\r\n    useEffect(()=>{ setPosition(); set(getG({})) }, [setPosition, set, getG] )\r\n    return (\r\n        <div ref={targetRef} style={{...styles.cont,height,...style, ...background({r:255,debug})}}>\r\n            {springs.map( ({x,y,scale}, key) =>\r\n                <a.div {...{key}} {...bind(key)} style={{x,y,position:\"absolute\",width:\"100%\"}}>\r\n                    <a.div style={{...styles.main,scale,padding:space, ...background({g:255,debug})}}>\r\n                        {(children as any)[key]}\r\n                    </a.div>\r\n                    <NotesSide {...{x,size,debug,height:heightRef.current[key]}}>\r\n                        <NotesItem x={x}>{right}</NotesItem>\r\n                        <NotesItem x={x}>{left}</NotesItem>\r\n                    </NotesSide>\r\n                    { isOpen[key] ? (children as any)[key]?.props?.grandren||'':'' }\r\n                </a.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Notes as Target, Card} from '../../../src'\r\nexport const Notes:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const debug = useControl('debug', {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const space = useControl('space', {type: 'number' , value:50, min: 0, max:100})\r\n    const depth = useControl('depth', {type: 'number' , value: 0, min: 0, max: 2})\r\n    const child = useControl('child', {type: 'number' , value: 3, min: 0, max: 10})\r\n    return (\r\n        <Target {...{dark, debug, size, space, depth:~~depth}}>\r\n        {[...Array(~~child)].map((_,i) =>\r\n            <Card min={1} key={i} style={{\r\n                height:size*100,\r\n                background:`rgba(255,0,0,0.1)`}}>{i}</Card>\r\n        )}\r\n        </Target>\r\n    )\r\n}\r\nexport const codeNotes =\r\n`import {Notes} from '@tsei/core'\r\nconst App =()=> (\r\n    <Notes\r\n        dark={true}\r\n        size={1}>\r\n        <div style={{height:size*100,background:\"rgba(255,0,0,0,1)\"}}>1</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>2</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>3</div>\r\n    </Notes>\r\n)`\r\n","import React, {CSSProperties as CSS,FC,Children,useMemo,useEffect,useRef} from 'react'\r\nimport {useSpring, useSprings, animated as a} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {clamp,range,sign,getWRate,} from '../utils'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    cont: {position:\"relative\",overflow:\"visible\",width:\"100%\" ,whiteSpace:\"nowrap\",},\r\n    item: {position:\"relative\",overflow:\"visible\",height:\"100%\",display:\"inline-block\",verticalAlign:\"top\"},\r\n}\r\nexport type Split = FC<BasedProps<{\r\n    order :number[]|[], styleItem:CSS,\r\n    width :number, height:number, min:number\r\n}>>\r\nexport const Split:Split = ({\r\n    order=[], width=0, height=0, min=.1,\r\n    dark=false,size=1, style={}, styleItem={}, ...props\r\n}) => {\r\n    const sRef = useRef<number>(0)\r\n    const lRef = useRef<number>((props as any)?.children?.length||1)\r\n    const hRef = useRef<number>(height||1)\r\n    const wRef = useRef<number[]>(getWRate(order, lRef.current, width,))\r\n    const [spring,  setH] = useSpring(() => ({h:hRef.current}))\r\n    const [springs, setW] = useSprings(wRef.current.length, i=>({w:wRef.current[i],z:0}))\r\n    const move = (mx=0, k=0, s=1, m=0, w=wRef.current, W=window.innerWidth) => (i=0) =>\r\n        [k,k+s].every(e => range(e, -1, lRef.current))\r\n        ? (i===k||i===k+s) && range(w[i]+mx*s*(i===k?1:-1)/W, m, w[k]+w[k+s]-m)? {w:w[i]+mx*s*(i===k?1:-1)/W}:null\r\n        : (i===k||i===k-s) && range(w[i]-mx*s*(i===k?1:-1)/W, m, w[k]+w[k-s]-m)? {w:w[i]-mx*s*(i===k?1:-1)/W}:null\r\n    const bind = useGesture({\r\n        onDrag:({first, last, args:[key], movement:[mx,my], direction:[dir]}) => {\r\n            if (sRef.current===0||first) sRef.current = sign(dir);\r\n            sign(dir) && sign(dir)===sRef.current &&\r\n            setW(move(mx,key,sign(dir),min))\r\n            setH({h:clamp(hRef.current+my/window.innerHeight, min, 1)})\r\n            if (!last) return\r\n            wRef.current = springs.map((s:any) => s.w.animation.to || 0)\r\n            hRef.current = spring.h.animation.to as number || 0\r\n        }\r\n    }, {drag:{lockDirection :true}})\r\n    const children = useMemo(() => Children.map(props.children, c=>c), [props.children])\r\n    useEffect(() => {\r\n        const len = (props as any)?.children?.length||0\r\n        if (len===lRef.current) return\r\n        lRef.current = len\r\n        wRef.current = [...wRef.current.map(v=>v-1/len/wRef.current.length), 1/len]\r\n        setW((i) => ({w:wRef.current[i]}))\r\n    },  [props, setW])\r\n    useEffect(() => {\r\n        wRef.current = getWRate(order,lRef.current,width)\r\n        setW(i=>({w:wRef.current[i]}))\r\n    }, [width, setW, order])\r\n    useEffect(() => {\r\n        hRef.current = height||1\r\n        setH({h:hRef.current})\r\n    }, [height, setH])\r\n    return (\r\n        <a.div style={{...styles.cont, height:spring.h.interpolate(v=>`${v*100}%`),\r\n                       ...style}} {...props}>\r\n            {springs.map(({w},key) =>\r\n                <a.div {...bind(key)} {...{key}} style={{\r\n                        ...styles.item, ...styleItem,\r\n                        width:w.interpolate(v => `${100*v}%`),\r\n                        //zIndex:z.interpolate(v => ~~(v*10))\r\n                    }}>\r\n                    {(children as any)[key]}\r\n                </a.div>\r\n            )}\r\n        </a.div>\r\n    )\r\n}\r\n\r\n//https://github.com/gregberge/react-merge-refs/blob/master/src/index.tsx\r\n// export default function mergeRefs<T = any>(\r\n//     refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\r\n// ): React.RefCallback<T> {\r\n//     return (value) => {\r\n//         refs.forEach((ref) => {\r\n//             if (typeof ref === \"function\") {\r\n//                 ref(value);\r\n//             } else if (ref != null) {\r\n//                 (ref as React.MutableRefObject<T | null>).current = value;\r\n//             }\r\n//         });\r\n//     };\r\n// }\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Split as Target} from '../../../src'\r\n\r\nexport const Split:FC = () => {\r\n    const dark  = useControl('dark'  , {type: 'boolean', value: false})\r\n    const size  = useControl('size'  , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const min   = useControl('min'   , {type: 'number' , value:.5, min: 0, max: 1})\r\n    const width = useControl('width' , {type: 'number' , value: 0, min: 0, max: 1})\r\n    const height= useControl('height', {type: 'number' , value: 0, min: 0, max: 1})\r\n    return (\r\n        <div style={{height:\"50vh\"}}>\r\n            <Target {...{dark,size,min,width,height}}>\r\n                <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n                <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n                <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n            </Target>\r\n        </div>\r\n    )\r\n}\r\nexport const codeSplit =\r\n`import {Split} from '@tsei/core'\r\nexport const Split = (\r\n        <Target\r\n            dark  ={false}\r\n            size  ={1}\r\n            min   ={}\r\n            width ={0}\r\n            height={0}>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n        </Target>\r\n)`\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\n\r\nexport type Head = FC<BasedProps>\r\nexport const Head:Head = ({\r\n    children, color=\"\", dark=false,size=1, style={}, ...props\r\n}) => {\r\n    style = useMemo<CSS>(()=>({\r\n        fontSize:size*50,\r\n        color:color||dark?\"#818181\":\"#000\",\r\n        width:`max(70vw, 100vw - ${size*200}px)`,\r\n        height:\"auto\",\r\n        margin:\"auto\",\r\n        ...style\r\n    }), [color,dark,size,style])\r\n    return <div {...{children,style,...props}}/>\r\n}\r\n","// This is a fork of\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/index.js\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/icons.js\r\n// demo: https://codesandbox.io/embed/rrw7mrknyp\r\n//     @content, Name of the node (string or React-component)\r\n//     @type   , optional description, good for displaying icons, too (string or React-component)\r\n//     @open   , optional: default open state\r\n//     @canHide, optional: when set true displays an eye icon\r\n//     @visible, optional: default visible state\r\n//     @onClick, optional: click events on the eye\r\n//     @springConfig, optional: react-spring animation config\r\nimport React, {\r\n    CSSProperties as CSS, FC, Children,\r\n    useCallback,useMemo, useState, useEffect, //useRef\r\n} from 'react'\r\nimport {useSpring, config, animated as a} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst defaultConfig = {restSpeedThreshold: 1,restDisplacementThreshold: 0.01}\r\nconst styles:{[key:string]:CSS} = {\r\n    tree: {padding:'4px 0px 0px 0px',overflow:'hidden',verticalAlign:'middle',\r\n           position:'relative',whiteSpace:'nowrap',textOverflow: 'ellipsis',},\r\n    tggl: {width:'1em',height:'1em',cursor:'pointer',verticalAlign:'middle',marginRight:10,},\r\n    type: {fontSize:'0.6em',fontFamily:'monospace',verticalAlign:'middle',textTransform:'uppercase',},\r\n    cont: {willChange:'transform, opacity, height',marginLeft:6,},\r\n}\r\nconst paths = {\r\n    close:\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155 q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\",\r\n    minus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0 q0 -15 -11 -25.5t-25 -10.5z\",\r\n    plus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184 q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\",\r\n    eye: \"M963 384q0 14 -21 62q-26 65 -61 109q-57 71 -139 112q-99 50 -230 50t-231 -50q-80 -41 -138 -112q-34 -43 -61 -109q-21 -48 -21 -62v0v0v0v0q0 -14 21 -62q27 -66 61 -109q57 -71 139 -112q100 -50 230 -50t230 50q81 41 139 112q35 44 62 109q20 48 20 62v0v0v0v0z M889 384q-25 -77 -64 -126h-1q-46 -59 -114 -93q-85 -42 -198.5 -42t-198.5 42q-67 34 -114 93q-40 49 -65 126q25 77 65 126q47 59 114 93q85 43 199 43t198 -43q67 -33 114 -93q40 -49 65 -126zM512 558q-72 0 -122.5 -50.5t-50.5 -122.5t50.5 -122.5t122.5 -50.5 t122.5 50.5t50.5 122.5t-50.5 122.5t-122.5 50.5zM614 385q0 -42 -30 -72t-72 -30t-72 30t-30 72t30 72t72 30t72 -30t30 -72z\",\r\n}\r\nexport type TreeIcon = {[key:string]:FC<{style:CSS,onClick:()=>void,className?:string}>}\r\nexport const TreeIcon:TreeIcon = {\r\n    CloseSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.close}/></g></svg>,\r\n    MinusSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.minus}/></g></svg>,\r\n    PlusSquareO : props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.plus}/></g></svg>,\r\n    EyeO        : props => <svg {...props} viewBox=\"61  51 902 666\"><g><path d={paths.eye}/></g></svg>,\r\n}\r\nexport type TreeContent = FC<BasedProps<{\r\n    [key:string]:any, set:any, content:any, type:any,\r\n    canHide:boolean, opacity:number, root:number, icon:\"Minus\"|\"Plus\"|\"Close\"\r\n}>>\r\nexport const TreesContent:TreeContent = ({\r\n    content,type,set,canHide=false,icon=\"Close\",opacity=1,dark=false,//size=1,\r\n}) => {\r\n    const Icon = useMemo(() => TreeIcon[`${icon}SquareO`], [icon])\r\n    const color = useMemo(() => dark?\"#818181\":\"#212121\", [dark])\r\n    const iconClick = useCallback(() => set&&set((p:any) => ({open:!p.open,immediate:false})), [set])\r\n    const eyeClick  = useCallback(() => set&&set((p:any) => ({...p        ,immediate:true })), [set])\r\n    return !content ? null : (\r\n        <>\r\n            <Icon style={{...styles.tggl, opacity, color}} onClick={iconClick}/>\r\n            <span style={{...styles.type, marginRight:type?10:0,color}}>{type}</span>\r\n            { canHide &&\r\n            <TreeIcon.EyeOstyle style={{...styles.tggl}} onClick={eyeClick}/> }\r\n            <span style={{verticalAlign:'middle',color}}>{content}</span>\r\n        </>\r\n    )\r\n}\r\nexport type Trees = FC<BasedProps<{\r\n    open:boolean, visible:boolean, immediate:boolean, springConfig:any,\r\n    canHide:boolean, topStyle:CSS, depth:number, type:any, content:any,\r\n}>>\r\nexport const Trees:Trees = ({\r\n    open=true, visible=true, immediate=true, depth=0, root=1, springConfig=defaultConfig,\r\n    dark=false, size=1, style={}, topStyle={}, ...props\r\n}) =>  {\r\n    const [state, set] = useState<{[key:string]:boolean}>({open,visible,immediate})\r\n    const spring = useSpring<any>({\r\n        immediate:state.immediate,\r\n        config: {...config.default,...springConfig},\r\n        from: {height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\r\n        to: {  height: state.open ? 'auto' : 0,\r\n              opacity: state.open ? 1      : 0,\r\n            transform: state.open ? 'translate3d(0px,0,0)' : 'translate3d(20px,0,0)'},\r\n    })\r\n    const children = useMemo(() => Children.map(props.children, child => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []\r\n        return props.children &&\r\n            <Trees {...{...props,\r\n                dark, size, style, depth:depth+1, topStyle:{},\r\n                open:depth<root, children:grand.length>1 ? grand.slice(1) : null,\r\n                immediate:false, content:grand.length>1 ? grand[0] : child,}}/>\r\n    }), [props, dark, size, style, depth, root])\r\n    const icon = useMemo(() => children instanceof Array && children.length>0\r\n        ? (state.open ? 'Minus' : 'Plus')\r\n        : 'Close', [children, state.open])\r\n    useEffect(() => void (set(p => visible!==p.visible? {...p, visible} : p)), [visible])\r\n    return (\r\n        <div style={{...styles.tree, fontSize:size*50, zIndex:-depth, ...style, ...topStyle}}>\r\n            <TreesContent{...{...props, dark, size, icon, set, opacity:children?.length?1:.3}}/>\r\n            <a.div style={{\r\n                ...(depth>0?{borderLeft:`1px dashed #${dark?818181:212121}`}:{}),\r\n                ...styles.cont, padding:`4px 0px 0px ${size*25}px`,\r\n                ...spring, }}>{children}</a.div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Trees as TREES, Head} from '../../../src'\r\nconst items = ['0', '1', '2', '3']\r\nexport const Trees:FC = () => {\r\n    const dark     = useControl('dark'     , {type: 'boolean', value: false})\r\n    const open     = useControl('open'     , {type: 'boolean', value: true })\r\n    const visible  = useControl('visible'  , {type: 'boolean', value: true })\r\n    const immediate= useControl('immediate', {type: 'boolean', value: true })\r\n    const canHide  = useControl('canHide'  , {type: 'boolean', value: false})\r\n    const depth    = useControl('depth'    , {type: 'number' , value: 0, min: 0, max: 2})\r\n    const root     = useControl('root'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const size     = useControl('size'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const icon     = useControl('icon'     , {type: 'select' , value: 'Close' , items:['Minus','Plus','Close']})\r\n    const content  = useControl('content'  , {type: 'select' , value: items[0], items})\r\n    return (\r\n        <Head {...{dark,open,visible,immediate,canHide,depth,root,size,icon,content}}>\r\n            <TREES>\r\n                <>\r\n                    <>1</>\r\n                    <>1 - 1</>\r\n                    <>1 - 2</>\r\n                </>\r\n                <>\r\n                    <>2</>\r\n                    <>2 - 1</>\r\n                    <>2 - 2</>\r\n                </>\r\n            </TREES>\r\n        </Head>\r\n    )\r\n}\r\nexport const codeTrees =\r\n`import {Trees} from '@tsei/core'\r\nconst App = () => (\r\n    <Trees\r\n        dark = {false}\r\n        open = {true}\r\n        visible = {true}\r\n        immediate = {true}\r\n        canHide = {false}\r\n        depth = {0}\r\n        root = {1}\r\n        size = {1}\r\n        icon = {\"Close\"}\r\n        content={\"0\"}>\r\n        <>\r\n            <>1</>\r\n            <>1 - 1</>\r\n            <>1 - 2</>\r\n        </>\r\n        <>\r\n            <>2</>\r\n            <>2 - 1</>\r\n            <>2 - 2</>\r\n        </>\r\n    </Trees>\r\n)\r\n`\r\n\r\n// const bind = (background=\"\") => ({\r\n//     style: {background},\r\n//     onClick: () => console.log('HI')\r\n// })\r\n// export const Trees:FC = () => {\r\n//     return (\r\n//         <Head {...{dark:0,size:1}}>\r\n//             <TREES content=\"Hook\">\r\n//                 <>\r\n//                     <span {...bind(\"rgba(255,0,0,.1)\")}>Components</span>\r\n//                     <span {...bind(\"rgba(0,255,0,.1)\")}>Card</span>\r\n//                     <span {...bind(\"rgba(0,0,255,.1)\")}>Modal</span>\r\n//                 </>\r\n//                 <span {...bind(\"rgba(0,0,0,.1)\")}>_</span>\r\n//             </TREES>\r\n//         </Head>\r\n//     )\r\n// }\r\n","import React, { useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nconst cropValue=(dir:any)=>Object.assign({},...Object.keys(dir).map(key=>({[key]:{value:dir[key]}})))\r\n\r\nconst vertexShader = `\r\nvarying vec2 vUv;\r\nuniform sampler2D map;\r\nuniform float width, height, space, pointSize, zOffset, nearClipping, farClipping;\r\nconst float XtoZ = 1.11146; // tan( 1.0144686 / space ) * space;\r\nconst float YtoZ = 0.83359; // tan( 0.7898090 / space ) * space;\r\n\r\nvoid main() {\r\n    vUv = vec2( position.x / width, position.y / height );\r\n    vec4 color = texture2D( map, vUv );\r\n    float depth = ( color.r + color.g + color.b ) / 3.0;\r\n    float z = ( 1.0 - depth ) * (farClipping - nearClipping) + nearClipping;\r\n    vec4 pos = vec4(\r\n        ( position.x / width - 0.5 ) * z * XtoZ,\r\n        ( position.y / height - 0.5 ) * z * YtoZ,\r\n        - z + zOffset,\r\n        1.0\r\n    );\r\n\r\n    gl_PointSize = pointSize;\r\n    gl_Position = projectionMatrix * modelViewMatrix * pos;\r\n}\r\n`\r\nconst fragmentShader = `\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    vec4 color = texture2D( map, vUv );\r\n    gl_FragColor = vec4( color.r, color.g, color.b, .5);\r\n}\r\n`\r\n\r\nexport const Kinect = ({ url, /*center=[0,0,-1000],*/\r\n        width=640, nearClipping=850, depthWrite=false,  pointSize=2, space=2,\r\n        height=850, farClipping=4000, depthTest=false, zOffset=1000,\r\n    }:any) => {\r\n    // ******************** Mount ******************** //\r\n    const geometry = useRef<any>()\r\n    const material = useRef<any>()\r\n    const map = useMemo<any>(()=>{\r\n        const video = document.createElement('video');\r\n        video.src   = url;\r\n        video.loop  = true; video.load();\r\n        video.muted = true; video.play();\r\n        return new THREE.VideoTexture(video)\r\n    }, [url])\r\n    // ******************** Render ******************** //\r\n    useFrame(()=>{\r\n        const position = new Float32Array( width*height*3 )\r\n        for ( var i=0, j=0, l=position.length; i<l; i+=3, j++ ) {\r\n            position[ i ] = j % width;\r\n            position[i+1] = Math.floor( j/width );\r\n        }\r\n        geometry.current?.setAttribute('position', new THREE.BufferAttribute(position,3));\r\n    })\r\n    const uniforms = cropValue({\r\n        width, nearClipping, map, space,\r\n        height, farClipping, pointSize, zOffset\r\n    })\r\n    return (\r\n        <>\r\n            <points position={[0,0,500]} >\r\n                <bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n                <shaderMaterial ref={material} attach=\"material\"\r\n                    {...{uniforms,\r\n                        depthTest, fragmentShader,\r\n                        depthWrite, vertexShader,\r\n                    }}\r\n                    blending={THREE.AdditiveBlending} transparent />\r\n            </points>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas, } from 'react-three-fiber'\r\nimport {useControl as use} from 'react-three-gui';\r\nimport {TransformControls} from 'drei'\r\nimport {Kinect as Target} from '../../../src'\r\n\r\nexport const Kinect :FC = () => {\r\n    const depthTest = use('depthTest', {type:'boolean', value:\"false\"})\r\n    const depthWrite = use('depthWrite', {type:'boolean', value:\"false\"})\r\n    const nearClipping = use('nearClipping', {type:'number', value:850, min:0, max:2000})\r\n    const farClipping = use('farClipping', {type:'number', value:4000, min:0, max:8000})\r\n    const pointSize = use('pointSize', {type:'number', value:2, min:0, max:10})\r\n    const zOffset = use('zOffset', {type:'number', value:1000, min:0, max:2000})\r\n    const space = use('space', {type:'number', value:2, min:0, max:10})\r\n    const url = use('url', {type: \"select\", items: [\"/static/core/kinect.mp4\", \"\"]})\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer: true}}\r\n                style={{width:'100%',height:'calc(100vh - 2rem)'}}\r\n                camera={{position:[0,0,500], far:2000}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated ={({gl}:any) => {\r\n                    gl.outputEncoding = THREE.sRGBEncoding\r\n                    gl.toneMapping    = THREE.ACESFilmicToneMapping\r\n                }}>\r\n            <ambientLight intensity={1.1} />\r\n            <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n            <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n            <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n            <TransformControls>\r\n                <Target {...{\r\n                    nearClipping,\r\n                    farClipping,\r\n                    depthTest,\r\n                    depthWrite,\r\n                    pointSize,\r\n                    zOffset,\r\n                    space,\r\n                    url,\r\n                }}/>\r\n            </TransformControls>\r\n        </Canvas>\r\n    )\r\n}\r\nexport const codeKinect =\r\n`\r\nimport {Kienct} from '@tsei/core'\r\nimport {Canvas} from 'react-three-fiber'\r\nconst MyCanvas = () =>\r\n    <Canvas>\r\n        <Kinect />\r\n    </Canvas\r\n`\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n//import { draco } from 'drei'\r\n\r\n\r\nexport const Model = ({dark=true, size=50, position=[0,-11,0],scale=[7,7,7]}:any) => {\r\n    const url = \"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb\"\r\n    const {animations, nodes}:any = useLoader(GLTFLoader, url, )\r\n    const group = useRef<any>(null)\r\n    const actions = useRef<any>(null)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(undefined as any))\r\n    const modelPos  = {x:position[0],y:position[2]}\r\n    useFrame(({camera}:any, delta)=>{\r\n        mixer.update(delta)\r\n        if(! group?.current?.position) return\r\n        group.current.position.x = modelPos.x\r\n        group.current.position.z = modelPos.y\r\n        camera.updateProjectionMatrix(void (\r\n            camera.lookAt(new THREE.Vector3(modelPos.x/2,0,modelPos.y/2))))\r\n    })\r\n    useEffect(() => {\r\n        const actionNum = size > 50 ? 3 : 1\r\n        actions.current = { idle: mixer.clipAction(animations[actionNum], group.current) }\r\n        actions.current.idle.play()\r\n        actions.current.idle.weight = 1\r\n        actions.current.idle.timeScale = 1\r\n        return () => animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [animations,mixer,size])\r\n    if (!nodes)\r\n        return null\r\n    return (\r\n        <group ref={group} {...{position, scale}} dispose={null}>\r\n          <group rotation={[Math.PI/2,0,0]} scale={[0.01,0.01,0.01]}>\r\n            <primitive object={nodes[\"mixamorigHips\"]} />\r\n            <skinnedMesh geometry={nodes[\"Beta_Joints\"].geometry}\r\n                skeleton={nodes[\"Beta_Joints\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x212121:0x000000}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n            <skinnedMesh geometry={nodes[\"Beta_Surface\"].geometry}\r\n                skeleton={nodes[\"Beta_Surface\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x000000:0xffffff}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n          </group>\r\n        </group>\r\n    )\r\n}\r\n","import React, {useCallback, useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const Swarm = ({ dark=false, size=50, count=25}:any) => {\r\n    const mesh = useRef<any>(null)\r\n    const dummy = useMemo(() => new THREE.Object3D(), [])\r\n    const random = useCallback((mul=1,add=0)=>add+Math.random()*mul, [])\r\n    const particles = useMemo(() => [...Array(count)].map(()=>({\r\n        t     :random(100),       xFactor:random(40,-20), mx:0,\r\n        factor:random(100,2),     yFactor:random(40,-20), my:0,\r\n        speed :random(1/200,0.01),zFactor:random(40,-20),})), [random,count])\r\n    useFrame(() => {\r\n        particles.forEach((particle, i) => {\r\n            let { t, factor, speed, xFactor, yFactor, zFactor } = particle\r\n            t = particle.t += speed / 2\r\n            const a = Math.cos(t) + Math.sin(t * 1) / 10\r\n            const b = Math.sin(t) + Math.cos(t * 2) / 10\r\n            const s = Math.max(1.5, Math.cos(t) * size / 10)\r\n            dummy.position.set(\r\n                (particle.mx/10)*a + xFactor + Math.cos((t/10)*factor) + (Math.sin(t*1)*factor)/10,\r\n                (particle.my/10)*b + yFactor + Math.sin((t/10)*factor) + (Math.cos(t*2)*factor)/10,\r\n                (particle.my/10)*b + zFactor + Math.cos((t/10)*factor) + (Math.sin(t*3)*factor)/10,\r\n            )\r\n            dummy.scale.set(s, s, s)\r\n            dummy.updateMatrix()\r\n            mesh.current.setMatrixAt(i, dummy.matrix)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <>\r\n            <instancedMesh ref={mesh} args={[null,null,count] as [any,any,number]}>\r\n                <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                <meshPhongMaterial attach=\"material\" color={dark?0x000000:0xffffff} />\r\n            </instancedMesh>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC, Suspense, } from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {useControl} from 'react-three-gui'\r\nimport {Model as Target, Swarm} from \"../../../src\"\r\nexport const Model :FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max:  2})\r\n    const scl   = useControl('scale', {type: 'number' , value: 7, min: 0, max: 15})\r\n    const pos   = useControl('position', {type:'xypad', value: {x:0,y:0}, scrub:true, distance:10})\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer:true}}\r\n                style={{width:\"100%\", height:\"calc(100vh - 2rem)\"}}\r\n                camera={{position:[0,-2,3]}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated={({gl})=>{gl.outputEncoding=THREE.sRGBEncoding}}>\r\n            <fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <Target {...{dark,size,position:[pos.x,-11,pos.y],scale:[scl,scl,scl]}}/>\r\n                <Swarm  {...{dark,size}}/>\r\n            </Suspense>\r\n        </Canvas>\r\n    )\r\n}\r\n","import axios  from 'axios'\r\nimport * as CODES from './codes'\r\nimport {Credit, URLType, Page, topUp} from '../src'\r\n// ************************* FOR NOTE ************************* //\r\nexport const scrollTop=()=>document.getElementById('root')?.scroll({top:0,left:0,behavior:'smooth',});\r\nexport const pageConfig = { onChange:() => scrollTop() }\r\nexport type CustomPage =\r\n   {portname:string[], isHome:boolean,\r\n    pathname:string[], status:string, }\r\nexport const customPage : Partial<Page<CustomPage>> = {\r\n    isSign:false,status:\"\", portname: ({isLocal}) => isLocal?[\"3000\",\"8000\",\"8000\"]:[],\r\n    isHome:({id}) => !id  , pathname: ({id,status}) =>\r\n        [   `/note/${ id?id+'/':'' }`,\r\n        `/api/note/${ id?id+'/':'' }`,\r\n        status!==\"UP\"? `/auth/`: `/api/user/`]\r\n}\r\nexport const fetcher = async (url:URLType,headers={'Content-Type':'application/json'}) =>\r\n   axios.get(url.href, {headers})\r\n        .then(res => {\r\n            if(!res || res.status!==200)\r\n                throw new Error('Bad Request')\r\n            return res.data\r\n        })\r\nexport const signin = async (url:URLType, cred:Credit, headers={'Content-Type':'application/json'}) =>\r\n   axios.post(url.href, cred, {headers})\r\n        .then((res) => {\r\n            if (res.status>201 || !res.data.token)\r\n                throw new Error('Bad Request')\r\n            return {username:cred.username, authtoken:res.data.token}\r\n        })\r\n\r\n// ************************* FOR HOOK ************************* //\r\nexport const hookTree = [\r\n    [\"Components\",\"Card\",\"Code\",\"Grow\",],//\"Head\",\"Icon\"],\r\n    [\"Containers\",\"Notes\",\"Split\",\"Trees\"],\r\n    [\"Mesh\",\"Kinect\",\"Model\",\"Swarm\"],\r\n]\r\nexport type  HookPage = {pathname:string, Hook:any, code:any, codes:any}\r\nconst getval = (obj={},key='') => key in obj ? (obj as any)[key] : \"\"\r\nexport const hookPage = {\r\n    pathname: ({id=\"\"}) => `/hook/${id}`,\r\n    Hook : ({id=\"\",codes={}}) => getval(codes,          topUp(id)),\r\n    code : ({id=\"\",codes={}}) => getval(codes, 'code' + topUp(id)),\r\n    codes: Object.assign({}, ...Object.entries(CODES).map(([k,v])=>({[k]:v})))\r\n}\r\n","/** ************************* USE PAGE *************************\r\n * This is a hook to record the URL of the Restfl API\r\n *   - `const [page, set] = usePage({id:null,home:({id})=>!id}, config)`\r\n *   - `const onClick=()=>set({id:90}, config)`\r\n *   - ```\r\n *     {Page, id:null}  <=data=> (DB1 : URL1 by id), (DB2 : URL2 by id)\r\n *          | change id\r\n *          |  => change URLs by id (e.g. /api to /api/90)\r\n *          v  => change user state (e.g. home:true to home:false)\r\n *     {New Page, id:90}\r\n *     ```\r\n * # ***** usePage API Configs *****\r\n * ## Props Values\r\n *   - `const _ = usePage(@initPage, @config)`\r\n *   - @initPage = {\r\n *         @isHome  :boolean\r\n *         @isLocal :boolean\r\n *         @id      :string e.g. 2\r\n *         @protocol:string e.g. \"https:\"\r\n *         @hostname:string e.g. \"localhost\"\r\n *         @portname:string e.g. \"3000\"   or [\"3000\"(npm), \"8000\"(django)]\r\n *         @pathname:string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @search  :string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @hash    :string e.g. \"#note\"  or [\"#note\"]\r\n *   - @config = {TODO}\r\n *   - type MultiPage<T=any> = T|T[]|((p:Page)=>T|T[])\r\n * ## Return Values\r\n *   - @page : {...@initPage(as T|T[]),\r\n *         @url ?: from initPage parameters    e.g. \"http...\" or [\"http...\", ...more]\r\n *         @XXX ?: any value you set when init e.g. @home:true\r\n *   - @set   : (args) => void ( setState )\r\n ** ************************* ********* *************************/\r\n\r\nimport {useEffect, useState, useCallback, useRef} from 'react'\r\nimport {defaultPageConfig as defaultConf, defaultPage, normPage} from '../utils'\r\nimport {Page , PageConfig as Conf, BasicProps, BasicState, BasicAction} from '../types'\r\nexport const usePage = <T extends {}={}>(\r\n    props :BasicProps<Partial<Page<T>>>,//BasicProps<Page<T>>,\r\n    config:BasicProps<Partial<Conf<T>>>={},\r\n) : [Page<T>, BasicAction<Partial<Page<T>>>] => {\r\n    if (typeof props===\"function\") props  = props()\r\n    if (typeof config===\"function\")config = config()\r\n    const pageRef = useRef<Page<T>>({...defaultPage, ...props } as Page<T>)\r\n    const confRef = useRef<Conf<T>>({...defaultConf, ...config} as Conf<T>)\r\n    const [page,set] = useState<Page<T>>( normPage(pageRef.current) )\r\n    const setPage = useCallback((state:BasicState<Partial<Page<T>>>) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current as Partial<Page<T>>)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [page.id])\r\n    return [page, setPage]\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nexport type Icon = FC<BasedProps>\r\nexport const Icon:Icon = ({\r\n    fa=\"\",dark=false,circ=true,size=1,onOpen=null, //onClose=null,\r\n    children,className='',...props//,color=''\r\n}) => {\r\n    const [{xys}, set] = useSpring(() => ({xys:[0,0,0]}))\r\n    const bind = useGesture({\r\n        onMove : ({vxvy:[vx,vy],last}) => set({xys:[vx,vy,last?0:1]})\r\n    })\r\n    const color = useMemo(()=>props.color||circ\r\n      ? dark?\"#818181\":\"#fff\"\r\n      : \"#212121\",[props.color,circ,dark])\r\n    const style = useMemo<CSS>(() => ({\r\n        padding:\"0px\",top:0,right:0,textAlign:\"center\",userSelect:\"none\",\r\n        ...(circ?{borderRadius:size*50,background:\"#212121\"}:{}),\r\n        ...props.style,color,height:size*50,width:size*50,fontSize:size*50\r\n    }), [size,circ,color,props.style] )\r\n    return <a.div style={{\r\n                x : xys.interpolate((x,y,s) => x*size*50+y*s),\r\n                y : xys.interpolate((x,y,s) => y*size*50+x*s),\r\n                filter : xys.interpolate((x,y,s) => [\r\n                    `drop-shadow(${0.1+x}rem`, // -x~0.5~x\r\n                                `${0.5+y}rem`, // -y~1.5~y\r\n                                `${1-s/2}rem`, // 1 =hover=> 0.5\r\n                    `rgba(0,0,0, ${0.5+s/20}))`// 0.50 =hover=> 0.55\r\n                ].join(' ')),\r\n                transform : xys.interpolate((x,y,s) => [\r\n                    `perspective(${size*50}px)`,\r\n                    `rotateX(${-y}deg)`,//-1 ~ 1\r\n                    `rotateY(${x}deg)` ,//-1 ~ 1\r\n                    `scale(${1+s/10})` ,// 1 ~ 1.1\r\n                ].join(' ')),\r\n            ...style} as CSS}\r\n           {...{children,className:className+fa?` fas fa-${fa}`:\"\"}}\r\n           {...bind()} {...props} />\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from'../types'\r\nimport {Trees} from '../containers'\r\nimport {Icon} from '../components'\r\nconst styles:{[key:string]:CSS} = {\r\n    area: {position:\"fixed\",top:0,left:0,height:\"100%\",zIndex:1},\r\n    cont: {position:\"fixed\",top:\"2%\",left:0,zIndex:1,overflowX:\"hidden\",height:`96%`},\r\n    icon: {position:\"absolute\",transform:`translate(-50%,-50%)`},\r\n    item: {padding:\"10px 10px 10px 32px\",color:\"#818181\",display:\"block\",}\r\n}\r\nexport const SidesArea :FC<BasedProps> = ({spring, bind, size=1}) =>\r\n    <a.div style={{...styles.area,\r\n        width     : spring.x.to((x:number)=>x>1?\"100%\":`${size*50/2}px`),\r\n        background: spring.scale.to((s:number)=>{\r\n            const rate  = spring.x.animation.to/window.innerWidth //0 ~ 0.5\r\n            return `linear-gradient(90deg,rgba(0,0,0,${rate+s-1}),rgba(0,0,0,0))`})\r\n        }} {...bind()} />\r\n\r\nexport const SidesContainer : FC<BasedProps> = ({size=1, spring, children}) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.x.interpolate((x:number)=>x>0?x:0),\r\n        borderRadius:`0px ${50*size}px ${50*size}px 0px`,\r\n        backgroundColor:\"#212121\"}}>\r\n        <div style={{margin:`${50*size}px 0px 0px 0px`, position:\"absolute\"}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const SidesIcon : FC<BasedProps> = ({spring, bind, circ=false, size=1}) =>\r\n    <a.div {...bind()} style={{...styles.icon,...spring,top:size*50,left:size*50}}>\r\n        <Icon fa=\"align-left\" {...{circ,size}} />\r\n    </a.div>\r\n\r\n// export const SidesItem :FC<BasedProps> = ({children, size=1}) =>\r\n//     <a.div style={{...styles.item,transition:\"0.75s\",fontSize:50*size}}>{children}</a.div>\r\n\r\nexport type Sides = FC<Partial<BasedProps<{}>>>\r\nexport const Sides:Sides = ({children, width=window.innerWidth/2,dark=false,size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool=true)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring( () => ({x:0,y:0,scale:1}) )\r\n    const open =(v=0)=>1&&(setOpened(true),set({x:width,y:0,config:v!==0?config.wobbly:config.slow}))\r\n    const close=(v=0)=>1&&(setOpened(false),set({x:0    ,y:0,config:{...config.stiff,velocity:v }}))\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:(opened.current?width:0)+(down?mx:0),y:down?my:0})\r\n            if(!opened.current) return (mx===0||mx> width*0.5||vx> 0.5) ? open(vx) : close(vx)\r\n            if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ? close(vx): open(vx)\r\n        },\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\", top:0,left:0,zIndex:100}}>\r\n            <SidesIcon   {...{size, spring, bind, }} />\r\n            <SidesArea     {...{size, spring, bind, }} />\r\n            <SidesContainer{...{size, spring, bind, }}>\r\n            <Trees {...{dark:true,size}}>\r\n                {children}\r\n                {/*React.Children.map(children, ((child, key) =>\r\n                    <SidesItem {...{size, key}}>{child}</SidesItem>\r\n                ))*/}\r\n            </Trees>\r\n            </SidesContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config, UseSpringProps} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {Icon} from '../components'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    top : {position:\"fixed\",top:0,right:0,zIndex:100                        },//*dev*/, background:\"rgba(0,0,0,.1)\"},\r\n    area: {position:\"fixed\",top:0,right:0,height:\"100%\"                     },//*dev*/,background:\"rgba(255,0,0,.1)\"},\r\n    cont: {position:\"fixed\",height:`96%`,top:\"2%\",right:0,overflowX:\"hidden\"},//*dev*/,background:\"rgba(0,255,0,.1)\"},\r\n    icon: {position:\"absolute\",right:0,transform:`translate(-50%,-50%)`     },//*dev*/,background:\"rgba(0,0,255,.1)\"},\r\n    item: {backgroundColor:\"#212121\",color:\"#818181\", display:\"inline-block\"},\r\n}\r\nexport const TransArea :FC<BasedProps> = ({size=1, spring}) =>\r\n    <a.div style={{\r\n        width: spring.r.interpolate((r:number)=>`${\r\n            50*size*( Math.cos(r/90*Math.PI)+1.5)\r\n        }px`),\r\n        background: spring.scale.interpolate((s:number)=>[\r\n            `linear-gradient(90deg`,\r\n            `rgba(0,0,0,0)`,\r\n            `rgba(0,0,0,${s-1}))`\r\n        ].join(',')),\r\n        ...styles.area}}\r\n       />\r\n\r\nexport const TransIcon : FC<BasedProps> = ({size=1, spring, circ=false}) =>\r\n    <a.div style={{...styles.icon, top:50*size, rotateZ:spring.r}}>\r\n        <Icon fa=\"align-justify\" {...{circ,size}} />\r\n    </a.div>\r\n\r\nexport const TransContainer : FC<BasedProps> = ({children, size=1, spring, }) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.r.interpolate((r=0) => `${ 50*size*(Math.cos(r/90*Math.PI)+1) }px` )}}>\r\n        <div style={{margin:`calc(${50*size*2}px - 2%) 0px 0px 0px`}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const TransItem :FC<BasedProps> = ({children, size=1}) =>\r\n    <a.div style={{...styles.item,\r\n        margin:`${50*size/4}px 0px`,\r\n        borderRadius:`${50*size}px 0px  0px ${50*size}px`,}}>\r\n        <div onClick={e=>e?.stopPropagation()} style={{\r\n            height:50*size, margin:`auto ${50*size/2}px`,\r\n            fontSize:50*size, zIndex:1, display:\"flex\", alignItems:\"center\",\r\n        }}>{children}</div>\r\n    </a.div>\r\n\r\nexport const Trans : FC<BasedProps> = ({children, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool:boolean)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring<UseSpringProps>( () => ({x:0, y:0, r:90, scale:1,}) )\r\n    const getr = (velocity=0) => {\r\n        const pre  = ~~(spring.r.animation.to/90) //  Math.round( spring.r.animation.to/90 || 0 ) //\r\n        const unit = ((opened.current?1:0) === (pre%2)?0:1) ? 0:1 //to change:1 no diff:0\r\n        return 90 * ( pre + unit * (velocity<0?-1:1) )\r\n    }\r\n    const open  =(v=0)=>1&&(setOpened(true) ,set({r:getr(v),config:v!==0?config.wobbly:config.slow}))\r\n    const close =(v=0)=>1&&(setOpened(false),set({r:getr(v),config:{...config.stiff }}))\r\n    const onBind=({mx=0,vx=0,down=false,last=false}) => {\r\n        if (!last) return set({r:spring.r.animation.to+(down?2*(-mx)/size/500:0)})\r\n        if(!opened.current) return (mx===0||mx<-size*250||vx<-0.5) ?  open(-vx) : close(-vx)\r\n        if( opened.current) return (mx===0||mx<-size*250||vx<-0.5||0.5<vx) ? close(-vx) :  open(-vx)\r\n    }\r\n    const bind = useGesture({\r\n        onHover: ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onPinch: ({last,down,offset :[_,a]})  => onBind({down,last,vx:0,mx:a}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,],}) => onBind({down,last,vx,mx:mx})\r\n    })\r\n    return (\r\n        <a.div {...bind()} style={{...styles.top}}>\r\n            <TransIcon      {...{size, spring, }} />\r\n            <TransArea      {...{size, spring, }} />\r\n            <TransContainer {...{size, spring, }} >\r\n            {React.Children.map(children, ((child, key:number)=>\r\n                <TransItem {...{size/*, spring*/, key}} >{child}</TransItem>\r\n            ))}\r\n            </TransContainer>\r\n        </a.div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC} from 'react';\r\nimport {useGrid}  from 'use-grid';\r\nimport {Controls} from 'react-three-gui';\r\nimport {Helmet}   from 'react-helmet-async';\r\nimport {hookTree,hookPage,HookPage} from './utils';\r\n\r\nimport {is,topUp,usePage,Card,Code,Notes,Sides,Split,Trees,Trans} from '../src'\r\nconst styles:{[key:string]:CSS} = {\r\n    top : {position:\"relative\",overflowX:\"hidden\",transition:\"1s\", minHeight:\"100%\",},\r\n    item: {position:\"relative\",overflowY:\"scroll\",height:\"100vh\",},\r\n    card: {position:\"relative\",overflow:\"hidden\",width:\"100%\",height:\"100%\",},\r\n    ctrl: {position:\"relative\",width:\"100%\",zIndex:1,top:0,left:0,margin:0,padding:0},\r\n}\r\nconst CardHook:FC = (props) => <Card min={-1} style={styles.card} rate={.1} {...props}/>\r\nexport const Hook:FC = () => {\r\n    const [dark, setDark] = useGrid<number>({init:0, md:1, lg:0  })\r\n    const [size, setSize] = useGrid<number>({init:0, md:1, lg:1.5})\r\n    const [page, setPage] = usePage<HookPage>(hookPage)\r\n    const [side, setSide] = useGrid({xs:0,sm:size*100,lg:89/233,init:250})\r\n    return (\r\n    <div style={{...styles.top,background:dark?\"#000\":\"#fff\",}}>\r\n        <Split order={page.Hook?[side,-1]:[1,0]} min={.1} styleItem={styles.item}>\r\n            <Notes {...{dark,size,space:\"1rem\"}}>\r\n                <CardHook {...{dark,size}}>{page.id!==\"\" &&\r\n                    <Controls\r\n                        title={topUp(page.id)} anchor='top_left'\r\n                        style={{background:dark?\"#212121\":\"#fff\",...styles.ctrl,\r\n                                color:dark?\"#818181\":\"#000\",fontSize:size*25,x:0,y:0}}\r\n                        collapsed={true}/>}\r\n                </CardHook>\r\n                <CardHook {...{dark,size}}>\r\n                    <Trees  {...{dark,size:size/2,root:page.id?0:1}}\r\n                            {...(page.id?{fontSize:\"14px\"}:{})}\r\n                           topStyle={{padding:page.Hook?25*size:100*size}}\r\n                           content ={\r\n                            <span onClick={() => setPage({id:\"\"})}>Hook</span>}>\r\n                        { hookTree.map((ids,i) => ids instanceof Array\r\n                        ?   <span key={i}>{ ids.map((id, j) =>\r\n                            <span key={id} onClick={() => j&&setPage({id})}>{id}</span>) }</span>\r\n                        :   <span key={i}  onClick={() =>    setPage({id:ids})}>{ids}</span>) }\r\n                    </Trees>\r\n                </CardHook>\r\n            </Notes>\r\n            <Notes {...{dark,size,space:\"1rem\"}}>\r\n                <CardHook {...{dark,size}}>\r\n                    {page.Hook && <page.Hook />}\r\n                </CardHook>\r\n                { page.code && is.str(page.code) &&\r\n                <CardHook {...{dark,size}}>\r\n                    <Code {...{dark,size,code:page.code}}/>\r\n                </CardHook> }\r\n            </Notes>\r\n        </Split>\r\n        <Sides {...{size}}>\r\n            <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n            <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n            <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            <div onClick={()=>setSide((p:any)=>p.lg?{xs:0,sm:0,lg:0}:{xs:0,sm:250,lg:1/3})}>{side?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {topUp(page.id)}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useState} from 'react'\r\n//import { Card, Foot, Head } from '../src/components'\r\nimport { /*Modal, Pills, */Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { TransformControls } from 'drei'\r\nimport { Kinect } from '../src'\r\nimport * as THREE from 'three'\r\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {position:\"fixed\",top:0,left:0,width:'100%',height:'100%'},\r\n}\r\n\r\nexport const None :FC = () => {\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1    , lg:1.5 })\r\n    return (\r\n        <>\r\n            <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n                <Canvas gl={{ alpha: false, antialias: false, logarithmicDepthBuffer: true }}\r\n                        camera={{ position:[0,0,500], far:2000 }}\r\n                        pixelRatio={window.devicePixelRatio}\r\n                        onCreated ={({gl}:any) => {\r\n                            gl.outputEncoding = THREE.sRGBEncoding\r\n                            gl.toneMapping    = THREE.ACESFilmicToneMapping }}>\r\n                    <ambientLight intensity={1.1} />\r\n                    <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                    <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                    <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n                    <TransformControls>\r\n                        <Kinect url=\"/static/core/kinect.mp4\"/>\r\n                    </TransformControls>\r\n                </Canvas>\r\n            </div>\r\n            <Helmet>\r\n                <title>404 NOT FOUND</title>\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Sides {...{size}}>\r\n                <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n                <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n                <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            </Trans>\r\n        </>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS,FC,useEffect,useCallback,useMemo} from 'react';\r\nimport {useSpring, animated as a} from 'react-spring';\r\nimport {useGesture} from 'react-use-gesture';\r\nimport {createPortal} from 'react-dom';\r\nimport {BasedProps} from '../types';\r\nexport type Modal = FC<BasedProps<{open:boolean}>>\r\nexport const Modal:Modal = ({\r\n        open=false, onClose=null, dark=false, size=1, //onOpen=null,\r\n        children, color=\"\", ...props\r\n    }) => {\r\n    const width = useMemo(()=>500 * size,[size])\r\n    const [spring, set] = useSpring(()=>({x:0,y:-width,scale:0}))\r\n    useEffect(()=>{open&&set({x:0,y:0,scale:1})}, [open, set])\r\n    const close=useCallback( (vx=0,vy=0) => {\r\n        set({x:vx*width, y:(vy-1)*width, scale:0})\r\n        onClose && setTimeout(()=>onClose(), vx**2+vy**2)\r\n    }, [onClose, width, set] )\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?0.9:1}),\r\n        onDrag : ({last,down,vxvy:[vx,vy],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:down?mx:0,y:down?my:0})\r\n            return (mx**2>width**2/4||vx**2+vy**2>10)\r\n                ? close(vx,vy)\r\n                : set({x:0,y:0,scale:1})\r\n        },\r\n    })\r\n    const root = useMemo<HTMLElement|null>(()=>document.getElementById('root'),[])\r\n    const style = useMemo<CSS>(()=>({\r\n        left:0, width:\"100%\",  display:\"flex\",justifyContent:\"center\",\r\n        top:0, height:\"100%\", position:\"fixed\",   alignItems:\"center\",\r\n        transition:\"1s\", color:color||dark?\"#212121\":\"#000\",\r\n        zIndex:200,background:`rgba(${dark?\"80,80,80\":\"0,0,0\"},.5)`, ...props.style\r\n    }), [dark, color, props.style])\r\n    return open ? createPortal(\r\n        <div style={style} onClick={()=>onClose&&onClose()}>\r\n            <a.div style={{position:\"relative\",...spring}} {...bind()}\r\n                onClick={e=>e.stopPropagation()}>\r\n                {children}\r\n            </a.div>\r\n        </div>\r\n    , root as HTMLElement) : null\r\n}\r\n","import React, {FC,Children,CSSProperties as CSS,\r\n    useCallback,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst styles:{[key:string]:CSS} = {\r\n    pill: {position:\"absolute\",padding:\"0px\",zIndex:1,transform:`translate(-50%,-50%)`,}\r\n}\r\nexport type Pills = FC<BasedProps<{\r\n    position: {x:number, y:number, r:number},\r\n    depth:number, rate:number, size:number,\r\n    isOpen:boolean\r\n}>>\r\nexport const Pills:Pills = ({\r\n    position={x:0,y:0,r:Math.PI/4}, depth=0, rate=1.414,\r\n    size=1, isOpen=true, ...props\r\n}) => {\r\n    const length = useMemo( () => (props?.children as any)?.length||1, [props] )\r\n    const childPos = useRef( Array(length).fill(position) )\r\n    const fn = useCallback(() => (i=0) => {\r\n        const r = position.r/2 + (Math.PI/2) * ((length-i-1)*10+1)/((length-1)*10+2)-Math.PI/8\r\n        const x = isOpen ?  50*rate*size*Math.cos(r) : 0\r\n        const y = isOpen ? -50*rate*size*Math.sin(r) : 0\r\n        childPos.current[i] = {x,y:-y,r}\r\n        return {x, y, scale:isOpen?1:0 }\r\n    }, [isOpen, length, position.r, rate, size])\r\n    const [springs, set] = useSprings( length, fn() )\r\n    const [childHub, setChildHub] = useState( Array(length).fill(false) )\r\n    const setHub = useCallback((e, key)=>{\r\n        setChildHub(p => Object.assign([], p, {[key]:!p[key]}))\r\n        e.stopPropagation()\r\n    },[])\r\n    const children = useMemo(() => Children.map( props.children, (child,key) => {\r\n        set(fn())\r\n        return child && (child as any)?.props?.children\r\n          ? React.cloneElement(child as any, {children:\r\n                <Pills {...{key, isOpen:isOpen&&childHub[key],\r\n                    depth:depth+1, position:childPos.current[key],\r\n                    rate:rate*(1+(depth+1)*0.2),\r\n                    fontSize:50*size/(1+(depth+1)*0.2),\r\n                    ...((child as any).props||{})}}/>\r\n            })\r\n          : child\r\n    }), [childHub, depth, fn, isOpen, props.children, rate, set, size])\r\n    return (\r\n        <div style={{position:\"fixed\",left:position.x,bottom:position.y}}>\r\n            {springs.map((spring, key) =>\r\n                <animated.div key={`${depth}-${key}`} style={{...spring, ...styles.pill}}\r\n                    onClick={e=>setHub(e, key)}>\r\n                    {(children as any)[key]}\r\n                </animated.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC, CSSProperties as CSS,useState, useMemo} from 'react'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { MDBInput, MDBBtn } from 'mdbreact'\r\nimport { Mdmd } from '@tsei/mdmd'\r\nimport { useGrid } from 'use-grid'\r\nimport { Card, Grow, Head, Icon } from '../src/components'\r\nimport { useNote, usePage, useUser } from '../src/hooks'\r\nimport { Modal, Notes, Pills, Sides, Trans } from '../src/containers'\r\nimport { customPage, CustomPage, pageConfig, fetcher, signin, scrollTop } from './utils'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {minHeight:\"100%\",overflow:\"hidden\"},\r\n\r\n}\r\nexport const Note :FC = () => {\r\n    // ******************** FOR FETCH ******************** //\r\n    const [page, setPage] = usePage<CustomPage>(customPage, pageConfig)\r\n    const [note, setNote] = useNote(page.urls[1], fetcher)\r\n    const [user, setUser] = useUser(page.urls[2], signin, {onSign:()=>setPage({status:\"\"})})\r\n    // ******************** FOR DESIGN ******************** //\r\n    const [lang, setLang] = useState<string>(page.language)\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    // ******************** FOR RENDER ******************** //\r\n    const onView       = useMemo(()=>()=>setNote(p=>p?.next),[setNote])\r\n    const onClick      = useMemo(()=>()=>setPage({id:\"\"})   ,[setPage])\r\n    const onSignin     = useMemo(()=>()=>setPage(p=>({status:p.status===  \"\"?\"IN\":\"\"  })),[setPage])\r\n    const onMouseEnter = useMemo(()=>()=>setPage(p=>({status:p.status===\"UP\"?\"IN\":\"UP\"})),[setPage])\r\n    const [left,right] = useMemo(()=>{\r\n        const style = {transform:\"translate(-50%)\",left:\"50%\",marginTop:size*50}\r\n        return [\"cooment\",\"arrow-left\"].map(fa => (<Icon {...{fa,size,style,onClick}}/>))\r\n    }, [size,onClick])\r\n    return (\r\n        <div style={{...styles.top, background:dark?\"#000\":\"#f1f1f1\", paddingTop:size*100,}}>\r\n            <Head {...{dark,size,onClick,}}>Note</Head>\r\n            { note && note.results instanceof Array &&\r\n            <Notes {...(page.isHome?{}:{size,left,right})}>{note.results.map(({\r\n                ja_text=\"\",//note_id=\"\",author_name=null, //,posted_time=null,\r\n                en_text=\"\",     id=\"\" }) =>\r\n                <div key={id}>\r\n                    <Card {...{...page.isHome?{max:500,onClick:()=>setPage({id:id+\"\"})}:{size},dark,space:size*25}}>\r\n                        <Mdmd color={dark?\"dark\":\"elegant\"} style={{fontSize:\"1.2rem\"}}\r\n                             source={lang===\"ja\"?ja_text:en_text}/>\r\n                    </Card>\r\n                </div> )}\r\n            </Notes> } { (!note || note.next) &&\r\n            <Grow {...{size,onView,onClick:()=>setNote(p=>p?p?.next||p?.now:null )}} /> }\r\n            {/******************** Modals ********************/}\r\n            <Modal {...{dark,size,open:!!page.status,onClose:()=>setPage({status:\"\"})}}>\r\n                <Card {...{dark,size,style:{max:\"100vh\"},space:size*25}}>\r\n                    <Head {...{dark,size,onMouseEnter}}>SIGN {user.isAuth?\"OUT\":page.status}</Head>\r\n                    {!user.isAuth && user.input.map((v,k)=>v.name===\"email\"&&page.status!==\"UP\"?null:\r\n                    <MDBInput {...v} key={k}/> )}\r\n                    <MDBBtn color=\"elegant\"\r\n                        style={{width:\"100%\",borderRadus:size*50}}\r\n                        onClick={()=>setUser(page.urls[2])}\r\n                        children={user.isAuth?\"Signout\":\"Get!\"}/>\r\n                </Card>\r\n            </Modal>\r\n            {/******************** FANTASTIC UI ********************/}\r\n            <Sides {...{size}}>\r\n                <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n                <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n                <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'ja':'en')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size>1?'':''}</div>\r\n            </Trans>\r\n            <Pills {...{size}}>\r\n                <Icon fa=\"ellipsis-h\"        {...{dark,size}} onClick={()=>null}>\r\n                    <Icon fa=\"arrow-left\"    {...{dark,size}} onClick={onClick}/>\r\n                    <Icon fa=\"location-arrow\"{...{dark,size}} onClick={scrollTop}/>\r\n                    <Icon fa=\"sign-in-alt\"   {...{dark,size}} onClick={onSignin}/>\r\n                </Icon>\r\n            </Pills>\r\n            <Helmet>\r\n                <title>{note?\"note\":\"Loading...\"}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TODO : make in last of note\r\n// !isHome && (note.children||[]).map((child:any,i:number) =>\r\n//     <Card {...{key:i,dark,size,style:{fontSize:\"1.2rem\"}}}>\r\n//         <Mdmd source={child[`${lang}_text`]}/>\r\n//     </Card>)\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {unregister} from './serviceWorker';\nimport {HelmetProvider} from 'react-helmet-async';\nimport {ControlsProvider} from 'react-three-gui';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\n\nimport {Hook} from './Hook';\nimport {None} from './None';\nimport {Note} from './Note';\n\nimport './styles.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App = (\n    <HelmetProvider>\n        <ControlsProvider>\n            <BrowserRouter>\n                <Switch>\n                    <Route    path=\"/\"     component={None} exact/>//Home TODO\n                    <Route    path=\"/note\" component={Note}/>\n                    <Route    path='/none' component={None}/>\n                    <Route    path='/hook' component={Hook}/>\n                    <Redirect path=\"/home\" to='/' />\n                    <Redirect              to='/none' />\n                </Switch>\n            </BrowserRouter>\n        </ControlsProvider>\n    </HelmetProvider>\n)\n\nReactDOM.render( App , document.getElementById('root'));\nunregister();\n","import { useEffect, useCallback, useState, useRef } from 'react'\r\nimport { None, NoteNode as NN, NoteGetter, NotePoster, NoteConfig, URLType, BasicProps } from '../types'\r\nimport { is, equalPathname } from '../utils'\r\n//import useSWR from 'swr'\r\nexport const useNote = (\r\n    initGetURL: BasicProps<URLType|string>,\r\n    initGetter: NoteGetter|null=null,\r\n    initPoster: NotePoster|null=null,\r\n    initNoteConfig: Partial<NoteConfig>={}\r\n) : [ NN, (\r\n        updateGetURL: ((pre:NN)=>None<URLType|string>)|None<URLType|string>,\r\n        updateGetter?: NoteGetter|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void, (\r\n        updatePoster?: NotePoster|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void\r\n] => {\r\n    if (is.fun(initGetURL)) initGetURL = initGetURL()\r\n    if (is.str(initGetURL)) initGetURL = new URL(initGetURL)\r\n    const getURLRef  = useRef<URLType>()\r\n    const getterRef  = useRef(initGetter)\r\n    const posterRef  = useRef(initPoster)\r\n    const configRef  = useRef(initNoteConfig)\r\n    const isFetching = useRef<boolean>(false)\r\n    const [note,set] = useState<NN>(null)\r\n    //  *************************  useEffect  *************************  //\r\n    useEffect(() => {\r\n        if (equalPathname(getURLRef.current, initGetURL as URLType)) return\r\n        getURLRef.current = initGetURL as URLType\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (getterRef.current)\r\n            getterRef.current(getURLRef.current).then((res:any) => {\r\n                setTimeout(() => void (isFetching.current = false), 1000)\r\n                set(pre => res || pre)\r\n            })\r\n    }, [initGetURL])\r\n    //  *************************  getNote  *************************  //\r\n    //  * getNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * getNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    const getNote = useCallback((updateURL,updateGetter=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.fun(updateURL   )) updateURL = updateURL(note);\r\n        if (is.str(updateURL   )) updateURL = new URL(updateURL);\r\n        if (is.nul(updateGetter)) updateGetter = getterRef.current;\r\n        const previousURL = getURLRef.current\r\n        getURLRef.current = updateURL\r\n        getterRef.current = updateGetter\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        if (getterRef.current)\r\n            getterRef.current(updateURL).then((res:any) => {\r\n                setTimeout(() => (isFetching.current = false), 1000)\r\n                set(pre => {\r\n                    console.log(\"update\");\r\n                    if (!equalPathname(previousURL, getURLRef.current)) return res\r\n                    const {onChange=null} = configRef.current\r\n                    typeof onChange===\"function\" && onChange()\r\n                    const diff = pre\r\n                      ? (pre.results||[]).filter((p:any) =>\r\n                      ! (res.results||[]).find((r:any) => r.id===p.id)\r\n                    ) : []\r\n                    return {...res, results:[...diff, ...res.results]}\r\n                })\r\n            })\r\n    }, [note])\r\n    //  *************************  postNote  *************************  //\r\n    //  ************************* ************** *************************  //\r\n    const postNote = useCallback((updatePoster=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.nul(updatePoster)) updatePoster = posterRef.current;\r\n        posterRef.current = updatePoster\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        return\r\n        // TODO\r\n        // posterRef.current().then(res => {\r\n        //     setTimeout\r\n        // })\r\n    }, [])\r\n    return [note, getNote, postNote]\r\n}\r\n","/** *************************  USE USER  *************************\r\n *  This is a hook to manage user info and API\r\n *    - const [user, set] = useUser(url, fetcher)\r\n *    - ```\r\n *      ```\r\n *  # ***** useUser API Configs *****\r\n *  ## Props Values\r\n *    - `const _ = usePage(@initURL, @initFetcher, @initConifg)`\r\n *    - @initURL:string\r\n *    - @initFetcher:function\r\n *    - @initConfig : {\r\n *        @\r\n *      }\r\n *  ## Return Values\r\n *    - `const [user, setUser] = useUser(...)`\r\n *    - @user : {\r\n *        @username : user name from fetched API e.g. tseijp\r\n *        @authtoken: user token from cookie\r\n *        @input    : for input Components\r\n *       ~@credit   : the value to send at fetching~\r\n *        @status   : the acton at fetch e.g. IN, UP, OUT or \"\"\r\n *        @userlang : user language from window.navigator.language e.g. ja, en\r\n *      }\r\n *    - @setUser\r\n *      `setUser()`       : Toggle fetching\r\n *      ~`setUser(null)`   : switch status IN->UP or UP->IN~\r\n *      ~`setUser(boolean)`: switch status '' or IN|UP|OUT~\r\n *  # TODO : from usePages : add following keys\r\n ** ************************* ************** *************************/\r\nimport {useCallback, useState, useMemo, useRef} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport {URLType,User,UserConfig,UserSignin} from '../types'\r\nimport {defaultUserConfig} from '../utils'\r\nexport const useUser = (\r\n    initURL :URLType,\r\n    initSign:UserSignin,\r\n    initConfig:Partial<UserConfig>=defaultUserConfig // TODO to config.keys.map\r\n) : [ User, {(\r\n    updateURL ?:URLType|null,\r\n    updateSignin?:UserSignin|null,\r\n    updateConfig?:Partial<UserConfig>,\r\n) : void } ] => {\r\n    const urlRef    = useRef<URLType>(initURL)\r\n    const signinRef = useRef<UserSignin>(initSign)\r\n    const configRef = useRef<UserConfig>({...defaultUserConfig,...initConfig})\r\n    const [cookies, set, del] = useCookies(configRef.current.keys)\r\n    const [credit, setCredit] = useState({username:cookies.username||'',password:'',email:''})\r\n    // *************************  For setUser  ************************* //\r\n    const setUser = useCallback((\r\n        updateURL    = null,\r\n        updateSignin = null,\r\n        updateConfig = {}\r\n    ) => {\r\n        const {onSign=null,onSignin=null,onSignout=null,onError=null} = initConfig\r\n        if (updateURL)       urlRef.current = updateURL\r\n        if (updateSignin) signinRef.current = updateSignin\r\n        if (updateConfig) configRef.current = updateConfig\r\n        return (cookies.authtoken)\r\n          ? (del('authtoken',{path:'/'}), onSign&&onSign(), onSignout&&onSignout())\r\n          : signinRef\r\n            .current(urlRef.current, credit)\r\n            .then( (user:{[K in 'username'|'authtoken']:string}) => {\r\n                if (!user.username || !user.authtoken)\r\n                    throw new Error()\r\n                onSign   && onSign()  ; set(\"username\" ,user.username ,{path:'/'});\r\n                onSignin && onSignin(); set(\"authtoken\",user.authtoken,{path:'/'});\r\n            })\r\n            .catch((_:any)=>onError&&onError())\r\n    }, [cookies,set,del,credit,initConfig] )\r\n    // *************************  For Render  ************************* //\r\n    const onChange = useCallback(({target}:any) => {\r\n        setCredit(p => ({...p, [target.name]:target.value}) )\r\n    }, [])\r\n    const user = useMemo<User>(() => ({\r\n        username :cookies.username ||'', isAuth:!!cookies.authtoken,\r\n        authtoken:cookies.authtoken||'', input: Object\r\n            .entries({username:'user',password:'lock',email:'envelope'})\r\n            .map(([name,icon]) => ({\r\n                label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n                group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n                ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"})\r\n            }))\r\n    }), [cookies, credit, onChange])\r\n    return [user, setUser]\r\n}\r\n    /*const input = useMemo<User[\"input\"]>(() => Object\r\n        .entries({username:'user',password:'lock',email:'envelope'})\r\n        .map(([name,icon]) => ({\r\n            label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n            group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n            ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"}),\r\n    })), [credit, onChange])\r\n    return [useMemo(() => ({\r\n        username :cookies.username ||'',\r\n        authtoken:cookies.authtoken||'', input,\r\n        //status : sign?\"\":cookies.authtoken?\"OUT\":inup\r\n    }), [cookies, input]), setUser]\r\n}*/\r\n"],"sourceRoot":""}