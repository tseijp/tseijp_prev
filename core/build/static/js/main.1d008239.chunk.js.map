{"version":3,"sources":["page/serviceWorker.ts","page/meshs/Kinect.tsx","page/meshs/Swarm.tsx","page/meshs/Model.tsx","src/components/Card.tsx","page/hooks/core/Card.tsx","src/components/Code.tsx","page/hooks/core/Code.tsx","src/components/Grow.tsx","page/hooks/core/Grow.tsx","src/utils.ts","src/containers/Notes.tsx","page/hooks/core/Notes.tsx","src/containers/Split.tsx","page/hooks/core/Split.tsx","src/components/Head.tsx","src/containers/Trees.tsx","page/hooks/core/Trees.tsx","page/codes/core.ts","page/utils.ts","src/hooks/usePage.ts","src/components/Icon.tsx","src/containers/Sides.tsx","src/containers/Trans.tsx","page/Hook.tsx","page/Mesh.tsx","page/None.tsx","src/containers/Modal.tsx","src/containers/Pills.tsx","page/index.tsx","page/Note.tsx","src/hooks/useNote.ts","src/hooks/useUser.ts"],"names":["Boolean","window","location","hostname","match","Kinect","url","width","nearClipping","pointSize","height","farClipping","zOffset","geometry","useRef","material","texture","useMemo","video","document","createElement","src","loop","load","muted","play","THREE","useFrame","position","Float32Array","i","j","l","length","Math","floor","current","setAttribute","dir","uniforms","map","Object","assign","keys","key","value","console","log","ref","attach","fragmentShader","vertexShader","depthTest","blending","depthWrite","transparent","Swarm","dark","size","count","mesh","dummy","random","useCallback","mul","add","particles","Array","t","xFactor","mx","factor","yFactor","my","speed","zFactor","forEach","particle","a","cos","sin","b","s","max","set","scale","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","args","color","Model","mouse","useLoader","GLTFLoader","animations","nodes","group","actions","useState","undefined","mixer","modelPos","delta","camera","update","x","z","updateProjectionMatrix","lookAt","useEffect","actionNum","idle","clipAction","weight","timeScale","clip","uncacheClip","dispose","rotation","PI","object","skeleton","skinning","Card","children","style","props","useSpring","xys","styleCard","min","minHeight","maxHeight","margin","overflow","borderRadius","background","calc","clientX","y","clientY","innerWidth","innerHeight","onMouseMove","e","onMouseLeave","div","boxShadow","interpolate","join","transform","require","atomOneLight","atomOneDark","Light","Code","code","language","inline","onDoubleClick","_","navigator","clipboard","writeText","customStyle","verticalAlign","padding","display","PreTag","useInlineStyles","showLineNumbers","Grow","onView","role","className","fn","useView","isIntersecting","topUp","text","charAt","toUpperCase","slice","toLowerCase","clamp","equalPathname","urls","u","URL","joinURL","pathname","every","self","defaultPageConfig","onChange","defaultPage","id","split","filter","v","find","isHome","isLocal","protocol","portname","port","search","hash","href","normPage","page","state","entries","sort","val","arr","getp","geti","n","maxLength","reduce","joinPage","defaultUserConfig","user","onSign","onSignin","onSignout","strArray","resultArray","TypeError","shift","replace","str","String","push","parts","is","isArray","obj","prototype","toString","call","fun","num","und","nul","Set","Map","equ","Notes","order","grandren","right","left","depth","fontSize","setLength","setHeight","fill","isOpen","setIsOpen","orderRef","containerRef","childHeight","setPosition","childs","from","c","clientHeight","newLength","getY","pre","getG","down","indexOf","useSprings","springs","bind","useGesture","onDrag","cancel","movement","startTime","last","vxvy","vx","vy","timeStamp","row","round","ind","ret","swap","op","p","setTimeout","getF","styles","marginTop","top","Children","child","grand","toArray","React","cloneElement","px","to","sign","getW","o","w","whiteSpace","Split","minWidth","sRef","lRef","hRef","wRef","h","spring","setH","setW","first","direction","k","ws","mW","iw","move","animation","len","Head","defaultConfig","restSpeedThreshold","restDisplacementThreshold","textOverflow","cursor","marginRight","fontFamily","textTransform","willChange","marginLeft","paths","TreeIcon","CloseSquareO","viewBox","d","MinusSquareO","PlusSquareO","EyeO","TreesContent","content","type","canHide","icon","opacity","Icon","iconClick","open","immediate","eyeClick","onClick","EyeOstyle","Trees","visible","springConfig","topStyle","config","default","zIndex","borderLeft","scrollTop","getElementById","scroll","behavior","pageConfig","customPage","isSign","status","fetcher","headers","axios","get","then","res","Error","data","signin","cred","post","token","username","authtoken","hookTree","hookPage","Hook","hooks","codes","HOOKS","CODES","canvas","gl","antialias","logarithmicDepthBuffer","onCreated","outputEncoding","pixelRatio","devicePixelRatio","meshPage","Mesh","MESHS","Canvas","usePage","pageRef","confRef","defaultConf","setPage","newPage","history","pushState","fa","circ","onOpen","onMove","textAlign","userSelect","overflowX","SidesArea","rate","SidesContainer","backgroundColor","SidesIcon","Sides","opened","setOpened","bool","wobbly","slow","close","stiff","velocity","onHover","hovering","TransArea","r","TransContainer","TransIcon","rotateZ","TransItem","alignItems","Trans","getr","unit","onBind","onPinch","offset","transition","useGrid","md","lg","setDark","setSize","intensity","castShadow","fallback","rel","Modal","onClose","root","justifyContent","createPortal","stopPropagation","Pills","childPos","childHub","setChildHub","setHub","bottom","App","path","component","exact","initGetURL","initGetter","initPoster","initNoteConfig","getURLRef","getterRef","posterRef","configRef","isFetching","note","getNote","updateURL","updateGetter","updateConfig","previousURL","diff","results","postNote","updatePoster","useNote","setNote","initURL","initSign","initConfig","urlRef","signinRef","useCookies","cookies","del","password","email","credit","setCredit","setUser","updateSignin","onError","catch","target","name","isAuth","input","label","validate","autoComplete","error","success","useUser","lang","setLang","next","onMouseEnter","paddingTop","charSet","ja_text","en_text","source","now","borderRadus","alpha","far","toneMapping","xs","sm","side","setSide","ids","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"8xBAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,4HCuBOC,EAAS,SAAC,GAGR,IAHUC,EAGX,EAHWA,IAGX,IAFNC,aAEM,MAFA,IAEA,MAFKC,oBAEL,MAFkB,IAElB,MAFuBC,iBAEvB,MAFiC,EAEjC,MADNC,cACM,MADC,IACD,MADMC,mBACN,MADkB,IAClB,MADwBC,eACxB,MADgC,IAChC,EAEJC,EAAWC,mBACXC,EAAWD,mBACXE,EAAUC,mBAAa,WACzB,IAAMC,EAAQC,SAASC,cAAc,SAIrC,OAHAF,EAAMG,IAAMf,EACZY,EAAMI,MAAQ,EAAMJ,EAAMK,OAC1BL,EAAMM,OAAQ,EAAMN,EAAMO,OACnB,IAAIC,eAAoBR,KAChC,CAACZ,IAEJqB,aAAS,WAEL,IAF6B,IAAD,EACtBC,EAAW,IAAIC,aAActB,EAAMG,EAAO,GACtCoB,EAAE,EAAGC,EAAE,EAAGC,EAAEJ,EAASK,OAAQH,EAAEE,EAAGF,GAAG,EAAGC,IAC9CH,EAASE,GAAOC,EAAIxB,EACpBqB,EAASE,EAAE,GAAKI,KAAKC,MAAOJ,EAAExB,GAElC,UAAAM,EAASuB,eAAT,SAAkBC,aAAc,WAAY,IAAIX,kBAAsBE,EAAS,OAEnF,IA5DaU,EA4DPC,GA5DOD,EA4Dc,CACvBE,IAAIxB,EAAQT,QAAMG,SAAOF,eAAaG,cAAYF,YAAUG,WA7DzC6B,OAAOC,OAAP,MAAAD,OAAM,CAAQ,IAAR,mBAAcA,OAAOE,KAAKL,GAAKE,KAAI,SAAAI,GAAG,sBAAKA,EAAK,CAACC,MAAMP,EAAIM,YAgExF,OADAE,QAAQC,IAAI,iBAER,oCACI,4BAAQnB,SAAU,CAAC,EAAE,EAAE,MACnB,oCAAgBoB,IAAKnC,EAAUoC,OAAO,aACtC,kDAAgBD,IAAKjC,EAAUkC,OAAO,YAC9B,CAACV,WAASW,eAzCd,uKAyC6BC,aAlE/B,qyBAiEF,CAEIC,WAAY,EAAOC,SAAU3B,mBAC7B4B,YAAY,EAAOC,aAAW,QCvErCC,EAAQ,SAAC,GAA0C,IAAD,IAAvCC,YAAuC,aAA3BC,YAA2B,MAAtB,GAAsB,MAAlBC,aAAkB,MAAZ,GAAY,EACrDC,EAAO9C,iBAAY,MACnB+C,EAAQ5C,mBAAQ,kBAAM,IAAIS,aAAkB,IAC5CoC,EAASC,uBAAY,eAACC,EAAD,uDAAK,EAAEC,EAAP,uDAAW,EAAX,OAAeA,EAAI/B,KAAK4B,SAASE,IAAK,IAC3DE,EAAYjD,mBAAQ,kBAAM,YAAIkD,MAAMR,IAAQnB,KAAI,iBAAK,CACvD4B,EAAON,EAAO,KAAYO,QAAQP,EAAO,IAAI,IAAKQ,GAAG,EACrDC,OAAOT,EAAO,IAAI,GAAQU,QAAQV,EAAO,IAAI,IAAKW,GAAG,EACrDC,MAAOZ,EAAO,KAAM,KAAMa,QAAQb,EAAO,IAAI,UAAS,CAACA,EAAOH,IAmBlE,OAlBAhC,aAAS,WACLuC,EAAUU,SAAQ,SAACC,EAAU/C,GAAO,IAC1BsC,EAAgDS,EAAhDT,EAAGG,EAA6CM,EAA7CN,OAAQG,EAAqCG,EAArCH,MAAOL,EAA8BQ,EAA9BR,QAASG,EAAqBK,EAArBL,QAASG,EAAYE,EAAZF,QAC1CP,EAAIS,EAAST,GAAKM,EAAQ,EAC1B,IAAMI,EAAI5C,KAAK6C,IAAIX,GAAKlC,KAAK8C,IAAQ,EAAJZ,GAAS,GACpCa,EAAI/C,KAAK8C,IAAIZ,GAAKlC,KAAK6C,IAAQ,EAAJX,GAAS,GACpCc,EAAIhD,KAAKiD,IAAI,IAAKjD,KAAK6C,IAAIX,GAAKV,EAAO,IAC7CG,EAAMjC,SAASwD,IACVP,EAASP,GAAG,GAAIQ,EAAIT,EAAUnC,KAAK6C,IAAKX,EAAE,GAAIG,GAAWrC,KAAK8C,IAAM,EAAFZ,GAAKG,EAAQ,GAC/EM,EAASJ,GAAG,GAAIQ,EAAIT,EAAUtC,KAAK8C,IAAKZ,EAAE,GAAIG,GAAWrC,KAAK6C,IAAM,EAAFX,GAAKG,EAAQ,GAC/EM,EAASJ,GAAG,GAAIQ,EAAIN,EAAUzC,KAAK6C,IAAKX,EAAE,GAAIG,GAAWrC,KAAK8C,IAAM,EAAFZ,GAAKG,EAAQ,IAEpFV,EAAMwB,MAAMD,IAAIF,EAAGA,EAAGA,GACtBrB,EAAMyB,eACN1B,EAAKxB,QAAQmD,YAAYzD,EAAG+B,EAAM2B,WAEtC5B,EAAKxB,QAAQqD,eAAeC,aAAc,KAG1C,oCACI,mCAAe1C,IAAKY,EAAM+B,KAAM,CAAC,KAAK,KAAKhC,IACvC,0CAAsBV,OAAO,WAAW0C,KAAM,CAAC,EAAG,GAAI,MACtD,uCAAmB1C,OAAO,WAAW2C,MAAOnC,EAAK,EAAS,c,QCzB7DoC,EAAQ,SAAC,GAAuF,IAAD,IAArFpC,YAAqF,aAA1EC,YAA0E,MAArE,GAAqE,OAAjEoC,MAAiE,EAA1ClE,iBAA0C,MAAjC,CAAC,GAAG,GAAG,GAA0B,MAAvByD,aAAuB,MAAjB,CAAC,EAAE,EAAE,GAAY,IAExEU,YAAUC,IAD9B,kEACLC,EAFiG,EAEjGA,WAAYC,EAFqF,EAErFA,MACbC,EAAQrF,iBAAY,MACpBsF,EAAUtF,iBAAY,MAJ4E,EAMxFuF,oBAAc,kBAAM,IAAI3E,sBAAqB4E,MAAtDC,EANiG,oBAOlGC,EAAe,EAAfA,EAAmB,EAiBzB,OAhBA7E,aAAS,WAAe8E,GAAS,IAAD,EAArBC,EAAqB,EAArBA,OACPH,EAAMI,OAAOF,IACV,OAAEN,QAAF,IAAEA,GAAF,UAAEA,EAAO/D,eAAT,aAAE,EAAgBR,YACrBuE,EAAM/D,QAAQR,SAASgF,EAAIJ,EAC3BL,EAAM/D,QAAQR,SAASiF,EAAIL,EAC3BE,EAAOI,4BACHJ,EAAOK,OAAO,IAAIrF,UAAc8E,EAAW,EAAE,EAAEA,EAAW,SAElEQ,qBAAU,WACN,IAAMC,EAAYvD,EAAO,GAAK,EAAI,EAKlC,OAJA0C,EAAQhE,QAAU,CAAE8E,KAAMX,EAAMY,WAAWlB,EAAWgB,GAAYd,EAAM/D,UACxEgE,EAAQhE,QAAQ8E,KAAKzF,OACrB2E,EAAQhE,QAAQ8E,KAAKE,OAAS,EAC9BhB,EAAQhE,QAAQ8E,KAAKG,UAAY,EAC1B,kBAAMpB,EAAWrB,SAAQ,SAAC0C,GAAD,OAAcf,EAAMgB,YAAYD,SACjE,CAACrB,EAAWM,EAAM7C,IAChBwC,EAGD,yCAAOlD,IAAKmD,GAAW,CAACvE,WAAUyD,SAAlC,CAA0CmC,QAAS,OACjD,2BAAOC,SAAU,CAACvF,KAAKwF,GAAG,EAAE,EAAE,GAAIrC,MAAO,CAAC,IAAK,IAAK,MAClD,+BAAWsC,OAAQzB,EAAK,gBACxB,iCAAarF,SAAUqF,EAAK,YAAgBrF,SACxC+G,SAAU1B,EAAK,YAAgB0B,SAC/BH,SAAU,EAAEvF,KAAKwF,GAAG,EAAE,EAAE,GAAIrC,MAAO,CAAC,IAAK,IAAK,MAC9C,uCACIpC,OAAO,WAAW2C,MAAOnC,EAAK,QAAS,EACvCH,YAAY,EAAOuE,UAAQ,KAEnC,iCAAahH,SAAUqF,EAAK,aAAiBrF,SACzC+G,SAAU1B,EAAK,aAAiB0B,SAChCH,SAAU,EAAEvF,KAAKwF,GAAG,EAAE,EAAE,GAAIrC,MAAO,CAAC,IAAK,IAAK,MAC9C,uCACIpC,OAAO,WAAW2C,MAAOnC,EAAK,EAAS,SACvCH,YAAY,EAAOuE,UAAQ,OAjBhC,M,gBCvBFC,EAAY,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,SAA0C,IAAhCrE,YAAgC,MAA3B,EAA2B,MAAxBsE,aAAwB,MAAlB,GAAkB,EAAXC,EAAW,6CAC5CC,qBAAU,iBAAK,CAACC,IAAI,CAAC,EAAE,EAAE,OADmB,mBACzDA,EADyD,KACzDA,IAAM/C,EADmD,KAE3DgD,EAAYnH,mBAAQ,WAAO,IAAD,EACqBgH,EAA1CxE,YADqB,WACqBwE,EAA/BrC,aADU,MACJ,GADI,IACqBqC,EAAtB9C,WADC,MACG,KADH,IACqB8C,EAAZI,IAC/BC,QAFsB,MACa,KADb,IAEA,IAAL5E,EACjB6E,EAAYpD,GAAK,KACvB,OAAO,qCAACqD,OAAO,OAAQC,SAAS,SAAUC,aAAkB,GAALhF,GAC3C4E,GAAW,CAACA,cADxB,IACqCK,WAAalF,EAAK,UAAU,QACrD8E,GAAW,CAACA,cAFxB,IAEqC3C,MAAMA,GAAOnC,EAAK,UAAU,OACzDlD,MAAM,WAAD,OAAiB,IAALmD,EAAZ,WACd,CAACA,EAAMuE,IACJW,EAAO7E,uBAAY,gBAAU6C,EAAV,EAAEiC,QAAmBC,EAArB,EAAaC,QAAb,MAA0B,EAC/CnC,EAAI3G,OAAO+I,WAAc,GAAKtF,EAAO,KACrCoF,EAAI7I,OAAOgJ,YAAc,GAAKvF,EAAO,IACrC,KAAI,CAACA,IACHwF,EAAcnF,uBAAY,SAACoF,GAAD,OAAO/D,EAAI,CAAC+C,IAAIS,EAAKO,OAAM,CAAC/D,EAAIwD,IAC1DQ,EAAerF,uBAAY,kBAAMqB,EAAI,CAAC+C,IAAI,CAAC,EAAE,EAAE,OAAM,CAAC/C,IAC5D,OAAOnE,mBAAQ,kBACX,kBAAC,WAAEoI,IAAH,eAAOrB,MAAK,yBACRsB,UAAUnB,EAAIoB,aAAY,SAAC3C,EAAEkC,EAAE5D,GAAL,MAAW,CAAC,GAAD,OAC9B,GAAM,EAAF0B,EAD0B,iBAE9B,IAAM,EAAFkC,EAF0B,iBAG9B,IAAM5D,EAHwB,iBAI9BA,EAAI,GAJ0B,mCAKZ,GAAK,EAAFA,EALS,OAKAsE,KAAK,QAC1CC,UAAUtB,EAAIoB,aAAY,SAAC3C,EAAEkC,EAAE5D,GAAL,MAAW,CAAC,eAAD,OACb,GAALxB,EADkB,0BAErBoF,EAAE,GAFmB,0BAGrBlC,EAAE,GAHmB,wBAIxB,EAAE1B,EAAE,GAJoB,MAIXsE,KAAK,SAC5BpB,GAAcJ,IAZrB,2BAaWC,GAbX,IAaiBiB,cAAYE,eAAarB,iBACxC,CAACC,EAAMI,EAAUD,EAAIe,EAAYE,EAAarB,EAASE,EAAMvE,KCtC1DoE,EAAU,WACnB,OACI,kBAAC,EAAD,O,ECL4B4B,EAAQ,KAArCC,E,EAAAA,aAAcC,E,EAAAA,YACdC,EAASH,EAAQ,KAAjBG,MAKMC,EAAY,SAAC,GAEnB,IAAD,IADFC,YACE,MADG,GACH,MADOC,gBACP,MADgB,aAChB,MAD8BC,cAC9B,aAD4CxG,YAC5C,aADwDuE,aACxD,MAD8D,GAC9D,EADqEC,EACrE,2DACIiC,EAAgBnG,uBAAY,SAACoG,GAAD,OAASC,UAAUC,UAAUC,UAAUP,KAAM,CAACA,IAC1EQ,EAActJ,mBAAQ,WACxB,OAAO,2BAAKgJ,EAAO,CAACO,cAAc,MAAMC,QAAQ,GAAG,IAAnD,IACIC,QAAQT,EAAO,eAAe,QAASrI,SAAS,WAAY4G,OAAO,MACxE,CAACyB,IACJ,OAAO,kBAACJ,EAAD,iBAAa5B,EAAb,CAAoB0C,OAAQV,EAAO,OAAO,MAAUW,iBAAiB,GACxD,CAACL,cAAaL,gBAAeF,YAD1C,CACoDa,iBAAkBZ,EACpEjC,MAAK,2BAAOvE,EAAKmG,EAAYD,GAAiB3B,KACtC+B,ICdRD,EAAU,WACnB,OACI,kBAAC,EAAD,OCHKgB,EAAY,SAAC,GAGnB,IAAD,IAFFC,cAEE,MAFK,KAEL,MAFWC,YAEX,MAFgB,SAEhB,MADFtH,YACE,MADG,EACH,MADMuH,iBACN,MADgB,eAChB,EADmChD,EACnC,oDACIiD,EAAKpK,mBACLkC,EAAMlC,iBAAO,MACnBkG,qBAAU,WAAKkE,EAAG9I,QAAU2I,IAAS,CAACA,IACtCI,YAAQnI,GAAK,SAACmG,GAAD,OACNA,EAAEiC,gBACkB,oBAAbF,EAAG9I,SACT8I,EAAG9I,aACX,IAAM4F,EAAQ/G,mBAAa,+BACvBW,SAAS,WAAW8I,QAAQ,OAAOlC,OAAO,GAAD,OAAS,GAAL9E,EAAJ,kBACzCnD,MAAW,IAALmD,EAAShD,OAAY,IAALgD,GAAauE,EAAMD,OAAO,MAChD,CAACtE,EAAMuE,EAAMD,QACjB,OAAO,yCAAUC,EAAW,CAACjF,MAAIgI,OAAKC,YAAUjD,YCdvC8C,EAAU,WACnB,OACI,kBAAC,EAAD,O,QCNKO,EAAO,SAACC,GAAD,MAAa,GAAGA,EAAKC,OAAO,GAAGC,cAAiBF,EAAKG,MAAM,GAAGC,eACrEC,EAAQ,SAAC/E,GAAD,IAAWyB,EAAX,uDAAe,EAAGlD,EAAlB,uDAAsB,EAAtB,OAAsCyB,EAAEyB,EAAKA,EAAKzB,EAAEzB,EAAKA,EAAIyB,GAKrEgF,EAAgB,sCAAIC,EAAJ,yBAAIA,EAAJ,uBACzBA,EAAKrJ,KAAI,SAAAsJ,GAAC,MAAe,kBAAJA,EAAc,IAAIC,IAAID,GAAKA,KAC3CtJ,KAAI,SAAAsJ,GAAC,OAAIA,GAAKE,EAAQF,EAAEG,SAAU,QAClCC,OAAM,SAACJ,EAAG3B,EAAGgC,GAAP,OAAgBL,IAAIK,EAAK,OAG3BC,EAA+B,CACxCC,SAAS,MAEAC,EAAc,CACvBC,GAAStM,OAAOC,SAAS+L,SAASO,MAAM,KAAKC,QAAO,SAAAC,GAAC,OAAEA,KAAGC,MAAK,SAACxC,EAAErI,GAAH,OAAW,IAAJA,MAAQ,GAC9E8K,OAAS3M,OAAOC,SAAS+L,SAASO,MAAM,KAAKC,QAAO,SAAAC,GAAC,OAAEA,KAAGzK,OAAS,EACnE4K,QAAoC,cAA3B5M,OAAOC,SAASC,SACzB2M,SAAS7M,OAAOC,SAAS4M,UAAW,GACpC3M,SAASF,OAAOC,SAASC,UAAW,GACpC4M,SAAS9M,OAAOC,SAAS8M,MAAW,GACpCf,SAAShM,OAAOC,SAAS+L,UAAW,GACpCgB,OAAShN,OAAOC,SAAS+M,QAAW,GACpCC,KAASjN,OAAOC,SAASgN,MAAW,GACpClD,SAAS/J,OAAOmK,UAAUJ,UAAU,KACpC6B,KAAS,CAAC,IAAIE,IAAI9L,OAAOC,SAASiN,QAezBC,EAAW,SAAkBC,GACtC,IAAMC,EAAK,eAAOD,GAClB5K,OAAO8K,QAAQD,GAAOE,MAAK,8CAA0B,oBAA1B,KAAqC,GAAG,KAClE5I,SAAQ,mCAAEhC,EAAF,KAAM6K,EAAN,YAAoBH,EAAM1K,GAAkB,oBAAN6K,EAAiBA,EAAIH,GAAOG,KAC3E,IAAM5B,EAjBc,SAAOwB,GAAkC,IACtDP,EAA4DO,EAA5DP,SAAS3M,EAAmDkN,EAAnDlN,SAAS4M,EAA0CM,EAA1CN,SADmC,EACOM,EAAjCpB,gBAD0B,MACjB,GADiB,IACOoB,EAArBJ,cADc,MACP,GADO,IACOI,EAAXH,KAClDQ,EAAM,CAACZ,EAAS3M,EAAS4M,EAASd,EAASgB,OAFW,MACC,GADD,GAGtDU,EAAM,SAACX,GAAD,OAAYA,EAAK,IAAD,OAAKA,GAAO,IAClCY,EAAM,eAAC9L,EAAD,uDAAG,EAAE+L,EAAL,8CAAaA,aAAa1J,MAAOrC,EAAE+L,EAAE5L,OAAO4L,EAAE/L,GAAG+L,EAAEA,EAAE5L,OAAO,GAAI4L,GAC5E,GAAIH,EAAIxB,OAAM,SAAAQ,GAAC,MAAa,kBAAJA,KACpB,OAAOV,EAAQ,GAAD,OAAIc,EAAJ,aAAiB3M,GAAjB,OAA4BwN,EAAKZ,GAAjC,KAA8Cd,EAAiBgB,GACjF,IAAMa,EAAYJ,EAAIlL,KAAI,SAAAkK,GAAC,OAAEA,aAAavI,MAAMuI,EAAEzK,OAAO,KAAG8L,QAAO,SAACjJ,EAAEG,GAAH,OAAOH,EAAEG,EAAEH,EAAEG,KAChF,OAAO,YAAId,MAAM2J,IAAYtL,KAAI,SAAC2H,EAAErI,GAAH,OAC7BkK,EAAQ,GAAD,OAAK4B,EAAK9L,EAAEgL,GAAZ,aAA0Bc,EAAK9L,EAAE3B,IAAjC,OACAwN,EAAKC,EAAK9L,EAAEiL,IADZ,KAC0Ba,EAAK9L,EAAEmK,GAAU2B,EAAK9L,EAAEmL,OAOhDe,CAAYV,GACzB,OAAO,2BAAIA,GAAX,IAAkBzB,KAAKA,aAAgB1H,MACnC0H,EAAKrJ,KAAI,SAACsJ,GAAD,MAAsB,kBAAJA,EAAe,IAAIC,IAAID,GAAKA,KACvD,CAAe,kBAAPD,EAAkB,IAAIE,IAAIF,GAAQA,MAIrCoC,EAA+B,CACxCtL,KAAK,CAAC,WAAW,aACjBuL,KAAK,KACLC,OAAO,KACPC,SAAS,KACTC,UAAU,MAMP,SAASrC,IAAkD,IAAD,uBAArCsC,EAAqC,yBAArCA,EAAqC,gBAC7D,IAAIC,EAAc,GAClB,GAAwB,IAApBD,EAASrM,OAAc,MAAO,GAClC,GAA2B,kBAAhBqM,EAAS,GAAiB,MAAM,IAAIE,UAAU,uBACrDF,EAAS,GAAGlO,MAAM,iBAAmBkO,EAASrM,OAAS,IACvDqM,EAAS,GAAKA,EAASG,QAAUH,EAAS,IAC1CA,EAAS,GAAGlO,MAAM,gBAClBkO,EAAS,GAAKA,EAAS,GAAGI,QAAQ,gBAAiB,UAEnDJ,EAAS,GAAKA,EAAS,GAAGI,QAAQ,gBAAiB,SACvDJ,EAAWA,EAAS7B,QAAO,SAAAkC,GAAG,MAAQ,KAANA,KAChC,IAAK,IAAI7M,EAAI,EAAGA,EAAIwM,EAASrM,OAAQH,IAAK,CACtC,IAAI6M,EAAML,EAASxM,GAEnB,GADmB,kBAAR6M,IAAkBA,EAAMC,OAAOD,IACvB,kBAARA,EAAkB,MAAM,IAAIH,UAAJ,UAAiBG,EAAjB,8CAA0DA,IACjF,KAARA,IACA7M,EAAI,IAAG6M,EAAMA,EAAID,QAAQ,SAAU,KACVC,EAAzB7M,EAAIwM,EAASrM,OAAS,EAAS0M,EAAID,QAAQ,SAAU,IAC9CC,EAAID,QAAQ,SAAU,KACjCH,EAAYM,KAAKF,IAErB,IAAIA,EAAOJ,EAAyB/E,KAAK,KAErCsF,GADJH,EAAMA,EAAID,QAAQ,kBAAmB,OACrBlC,MAAM,KAEtB,OADAmC,EAAMG,EAAML,SAAWK,EAAM7M,OAAS,EAAI,IAAK,IAAM6M,EAAMtF,KAAK,KAO7D,IAAMuF,EAAK,CACdrB,IAAKvJ,MAAM6K,QACXC,IAAK,SAACnK,GAAD,MAAsE,oBAAtCrC,OAAOyM,UAAUC,SAASC,KAAKtK,IACpEuK,IAAK,SAACvK,GAAD,MAA6C,oBAANA,GAC5C6J,IAAK,SAAC7J,GAAD,MAA6C,kBAANA,GAC5CwK,IAAK,SAACxK,GAAD,MAA6C,kBAANA,GAC5CyK,IAAK,SAACzK,GAAD,YAAsC,IAANA,GACrC0K,IAAK,SAAC1K,GAAD,OAAsC,OAANA,GACrCM,IAAK,SAACN,GAAD,OAAgCA,aAAa2K,KAClDjN,IAAK,SAACsC,GAAD,OAAoCA,aAAa4K,KACtDC,IAVc,SAUV7K,EAAQG,GACZ,UAAWH,WAAaG,EAAG,OAAO,EAC9B,GAAI8J,EAAGJ,IAAI7J,IAAMiK,EAAGO,IAAIxK,GAAI,OAAOA,IAAMG,EACzC,GAAI8J,EAAGE,IAAInK,IACPiK,EAAGE,IAAIhK,IACPxC,OAAOE,KAAKmC,GAAG7C,OAASQ,OAAOE,KAAKsC,GAAGhD,SAAW,EAClD,OAAO,EACX,IAAIH,EACJ,IAAKA,KAAKgD,EAAG,KAAMhD,KAAKmD,GAAQ,OAAO,EACvC,IAAKnD,KAAKmD,EAAG,GAAIH,EAAEhD,KAAOmD,EAAEnD,GAAI,OAAO,EACvC,OAAOiN,EAAGQ,IAAIzN,IAAKgD,IAAMG,IC3G1B,IAAM2K,EAAc,SAAdA,EAAe,GAIrB,IAAD,MAHFC,aAGE,MAHI,KAGJ,OAFFC,SAEE,EAFaC,cAEb,MAFmB,KAEnB,MAFyBC,YAEzB,MAF8B,KAE9B,MAFoCC,aAEpC,MAF0C,EAE1C,EADFlI,EACE,EADFA,SACE,IADQrE,YACR,MADa,EACb,MADgBsE,aAChB,MADsB,GACtB,EAD4BC,EAC5B,uFACuBhH,mBAAQ,iBAAI,CAAM,IAALyC,EAAc,GAALA,KAAS,CAACA,IADvD,mBACKnD,EADL,KACW2P,EADX,OAE0B7J,oBAAiB,UAAC0B,SAAD,eAAmB9F,SAAQ,GAFtE,mBAEKA,EAFL,KAEakO,EAFb,OAG0B9J,mBAAiB9F,EAAM0B,GAHjD,mBAGKvB,EAHL,KAGa0P,EAHb,OAI0B/J,mBAAoBlC,MAAMlC,GAAQoO,MAAK,IAJjE,mBAIKC,EAJL,KAIaC,EAJb,KAKIC,EAAc1P,iBAAiB+O,GAAO,YAAI1L,MAAMlC,IAASO,KAAI,SAAC2H,EAAErI,GAAH,OAAcA,MAC3E2O,EAAc3P,iBAA4B,MAC1C4P,EAAc5P,iBAAQqD,MAAMlC,GAAQoO,KAAK9P,IACzCoQ,EAAc5M,uBAAY,WAAO,IAAD,EAC5B6M,EAAUzM,MAAM0M,MAAiB,OAAZJ,QAAY,IAAZA,GAAA,UAAAA,EAAcrO,eAAd,eAAuB2F,WAAU,IAC5D2I,EAAYtO,QAAU,YAAIwO,GAAQpO,KAAI,SAACsO,GAAD,OAASA,EAAEC,gBACjDhJ,GAAYqI,EAAUM,EAAYtO,QAAQ2L,QAAO,SAACjJ,EAAEG,GAAH,OAAOH,EAAEG,MAAM1E,EAAM0B,KACvE,CAAC1B,EAAO0B,EAAQ8F,IACnBf,qBAAU,WAAK,IAAD,EACJgK,GAAY,UAACjJ,SAAD,eAAmB9F,SAAQ,EAC7CkO,EAAUa,GACVT,EAAUpM,MAAM6M,GAAWX,MAAK,IAC5BG,EAASpO,QAAQH,SAAW+O,IAC5BR,EAASpO,QAAUyN,GAAO,YAAI1L,MAAM6M,IAAYxO,KAAI,SAAC2H,EAAErI,GAAH,OAAcA,MAClE4O,EAAYtO,QAAU+B,MAAM6M,GAAWX,KAAK9P,KACjD,CAACA,EAAMsP,EAAM9H,IAEhB,IAAMkJ,EAAM,SAAC,GAAD,QAAEC,WAAF,MAAM,EAAN,MAAQxD,WAAR,MAAY8C,EAASpO,QAArB,SAAgC8O,EAAI,EAAE,EAAExD,EAAIjC,MAAM,EAAEyF,GAAK1O,KAAI,SAAAV,GAAC,OAAE4O,EAAYtO,QAAQN,MAAIiM,QAAO,SAACjJ,EAAEG,GAAH,OAAOH,EAAEG,MAE9GkM,EAAOpN,uBAAY,oBAAEjC,SAAF,OAAK,EAAL,MAAO4L,WAAP,MAAW8C,EAASpO,QAApB,MAA4B8O,WAA5B,OAAiC,EAAjC,MAAmC5M,UAAnC,MAAsC,EAAtC,MAAwCG,UAAxC,MAA2C,EAA3C,MAA6C2M,YAA7C,gBACrB,SAACrP,GAAD,OAAeqP,GAAMrP,IAAID,EACnB,CAACuD,MAAM,GAAKuB,EAAEtC,EAAIwE,EAAEmI,EAAK,CAACC,QAAMzM,GAChC,CAACY,MAAM,EAAKuB,EAAE,EAAIkC,EAAEmI,EAAK,CAACC,IAAIxD,EAAI2D,QAAQtP,GAAG2L,YAAQ,IA3B7D,EA4BqB4D,qBAAWrP,EAAQkP,EAAK,KA5B7C,mBA4BKI,EA5BL,KA4BcnM,EA5Bd,KA6BIoM,EAAOC,YAAW,CACpBC,OAAS,YACkD,IAD/CN,EAC8C,EAD9CA,KAAKO,EACyC,EADzCA,OACyC,gBADlCC,SACkC,GADxBtN,EACwB,KADrBG,EACqB,KADjBoN,EACiB,EADjBA,UAC7BC,EAA8C,EAA9CA,KAAYhQ,EAAkC,cAAxC6D,KAAwC,sBAA9BoM,KAA8B,GAAxBC,EAAwB,KAArBC,EAAqB,KAAjBC,EAAiB,EAAjBA,WACjC5B,EAAOxO,IAAM6P,GAAUO,EAAUL,EAAU,KAAMF,IACrD,IAAMT,EAAMV,EAASpO,QAAQiP,QAAQvP,GAC/BqQ,EAAMxG,EAAOzJ,KAAKkQ,MAAMlB,EAAIzM,EAAGlE,GAAQ,EAAG0B,EAAO,GACjDyL,ED5CA,SAACA,EAAa2E,EAAWF,GACvC,IAAMG,EAAG,sBAAO5E,EAAIjC,MAAM,EAAG4G,IAApB,YAA6B3E,EAAIjC,MAAM4G,EAAI,EAAG3E,EAAIzL,UAC3D,MAAM,GAAN,mBAAWqQ,EAAI7G,MAAM,EAAG0G,IAAxB,YAAiCzE,EAAIjC,MAAM4G,EAAKA,EAAI,IAApD,YAA2DC,EAAI7G,MAAM0G,KC0CjDI,CAAK/B,EAASpO,QAAS8O,EAAKiB,GAExC,GADIf,IAAMZ,EAASpO,QAAUsL,IACzBoE,EAAM,OAAO1M,EAAK+L,EAAK,CAACrP,IAAE4L,MAAIwD,MAAI5M,KAAGG,KAAG2M,UAC5C,IAAMxK,GAAKtC,EAAG,GAAG,EAAE,GAAK4L,EAClBsC,EAAM,SAAAlO,EAAI,GAAE,IAAI,SAAAsC,EAAG,GAAQ,EAAN,SAAAtC,EAAI,IAAK,SAAA0N,EAAI,GAAJ,SAAMC,EAAI,GAAE,GAAM3B,EAAOxO,GAAKwO,EAAOxO,GACzEyO,GAAU,SAAAkC,GAAC,mBAAMhQ,OAAOC,OAAO,GAAdD,OAAA,IAAAA,CAAA,GAAmBX,GAAI2Q,EAAE3Q,SAC1C4Q,YAAW,WAAK/B,IAAcvL,EAlB1B,SAAC,GAAD,QAAEtD,SAAF,OAAK,EAAL,MAAO8E,SAAP,MAAS,EAAT,MAAW1B,SAAX,MAAa,EAAb,SAAoB,eAACnD,EAAD,uDAAG,EAAH,MAAQ,CAAC6E,EAAE7E,IAAID,EAAE8E,EAAE,EAAEkC,EAAEmI,EAAK,CAACC,IAAIV,EAASpO,QAAQiP,QAAQtP,KAAKsD,MAAMtD,IAAID,EAAEoD,EAAE,IAkBnEyN,CAAK,CAAC7Q,IAAE8E,EAAE4L,EAAG5L,EAAE,EAAE1B,EAAEsN,EAAG,GAAG,OAAM,MAInEI,GAAS3R,mBAA0B,iBAAM,CAAC,yBAC3CV,MAAM,YAAD,OAAaA,EAAb,OAAwBqB,SAAS,WAAW4G,OAAO,QAAUR,GADxB,IAC8BtH,WACzE,CAACH,MAAM,YAAD,OAAaA,EAAb,OAAwBqB,SAAS,WAAWiR,UAAU3C,EAAS5H,UAAU/H,GAC/E,CAACqB,SAAS,WAAWkR,IAAI,EAAE9C,KAAK,EAAED,MAAM,EAAEvH,OAAO,QACjD,CAAC5G,SAAS,WAAWoO,KAAK,MAAM8C,IAAI,MAAMrJ,UAAU,uBAAuByG,eAC5E,CAAC3P,EAAMG,EAAOwP,EAASlI,IAU1B,OATAD,EAAWgL,WAASvQ,IAAIuF,GAAU,SAACiL,GAAW,IAAD,IACnCC,EAAQF,WAASG,QAAT,UAAkBF,SAAlB,iBAAiB,EAAgB/K,aAAjC,aAAiB,EAAuBF,WAAa,GACnE,OAAQkL,EAAMhR,OAAO,GAAa,IAARgO,EACpBkD,IAAMC,aAAaJ,EAAc,CAACjL,SAASkL,EAAM,GAAInD,SACnD,kBAACF,EAAD,2BAAe3H,GAAf,IAAsBgI,MAAMA,EAAM,EAAElI,SAASkL,EAAMxH,MAAM,QAC3DuH,KAEVhM,qBAAU,WAAM2J,IAAevL,EAAI+L,EAAK,OAAQ,CAACR,EAAavL,EAAK+L,IAG/D,yBAAKnO,IAAKyN,EAAczI,MAAK,eAAM4K,GAAO,KACrCrB,EAAQ/O,KAAK,WAAcI,GAAd,MAAEgE,EAAF,EAAEA,EAAEkC,EAAJ,EAAIA,EAAEzD,EAAN,EAAMA,MAAN,OACV,kBAAC,WAAEgE,IAAH,cAAW,CAACzG,OAAZ,CAAkBoF,MAAO,CAACpB,IAAEkC,IAAElH,SAAS,cACnC,kBAAC,WAAEyH,IAAH,iBAAWmI,EAAK5O,GAAhB,CAAsBoF,MAAK,aAAG3C,SAASuN,GAAO,MACxC7K,EAAiBnF,IAErBgE,EAAE2C,aAAY,SAAC8J,GAAD,OAAa,SAAAA,EAAI,GAAE,MACnC,kBAAC,WAAEhK,IAAH,CAAOrB,MAAK,yBAAGtH,OAAOgQ,EAAYtO,QAAQQ,IAAQgQ,GAAO,IAA7C,IACR9J,EAAE,EAAIlC,EAAEA,EAAE0M,IAAG,SAACD,GAAD,OAAmBA,EAAG,GAAG,GAAG,IAAK9S,EAAlB8S,KAC5BhO,MAAQuB,EAAE0M,IAAG,SAACD,GAAD,OAAa,SAAAA,EAAI,GAAE,EAAN,SAAQ3P,EAAM,GAAE,GAAG2P,EAAG,EAAEA,GAAIA,GAAK3P,KAC3DnD,MAAQqG,EAAE0M,IAAG,SAACD,GAAD,OAAaA,EAAG,EAAK,EAAHA,EAAS,GAAHA,KACrC3I,QAAQ9D,EAAE0M,IAAG,SAACD,GAAD,OAAaA,EAAG,SAAS,aAEpCtD,GAAQ,kBAAC,WAAE1G,IAAH,CAAOrB,MAAK,aAAG0C,QAAQ9D,EAAE0M,IAAG,SAACD,GAAD,OAAaA,EAAG,EAAE,SAAS,WAAWT,GAAO,KACjF7C,EADQ,KAERC,GAAQ,kBAAC,WAAE3G,IAAH,CAAOrB,MAAK,aAAG0C,QAAQ9D,EAAE0M,IAAG,SAACD,GAAD,OAAaA,EAAG,EAAE,SAAS,WAAWT,GAAO,KACjF5C,EADQ,MAIZM,EAAO1N,MACH,UAACmF,EAAiBnF,GAAKqF,aAAvB,eAA8B6H,WAAY,UC1FvDF,EAAW,WACpB,OACI,kBAAC,EAAD,KACI,kBAAC,EAAD,QCAN2D,EAAM,eAACjE,EAAD,uDAAK,EAAL,OAAiBA,EAAM,GAAK,EACXA,EAAM,GAAK,IACL,IAANA,GAAW,GACZ,GAYtBkE,GAAO,eAACC,EAAD,uDAAG,CAAC,GAAGC,EAAP,uDAAS,EAAE1R,EAAX,uDAAa,EAAb,OACTyR,aAAatP,OAASsP,EAAExR,OAAS,EAC3BwR,EAAEjR,KAAI,SAAAkK,GAAC,OAAIA,GAAG,EAAGA,EAAIgH,EAAEzT,OAAO+I,aACrB,EAAI,sBAAIyK,EAAEhH,QAAO,SAAAC,GAAC,OAAEA,EAAE,MAAlB,CAAqB,IAAGqB,QAAO,SAACjJ,EAAEG,GAAH,OAAOH,EAAEG,MACpCwO,EAAEhH,QAAO,SAAAC,GAAC,OAAEA,EAAE,KAAGzK,UAClCkC,MAAMnC,GAAGqO,KAAKqD,EAAEzT,OAAO+I,YAAchH,EAAE,EAAEA,EAAEA,IAC/C4Q,GACG,CAACrS,MAAM,OAAOoT,WAAW,UAD5Bf,GAEG,CAAClS,OAAO,OAAOgK,QAAQ,eAAeF,cAAc,OAOhDoJ,GAAc,SAAC,GAGrB,IAAD,QAFF/D,aAEE,MAFI,GAEJ,MAFQtP,aAER,MAFc,EAEd,MAFiBG,cAEjB,MAFwB,EAExB,MAF2BmT,gBAE3B,MAFoC,IAEpC,MAFyCvL,iBAEzC,MAFmD,IAEnD,OADF7E,KACE,EADSC,KACT,EADiBsE,cACjB,MADuB,GACvB,EAD8BC,EAC9B,uFACI6L,EAAOhT,iBAAe,GACtBiT,EAAOjT,kBAAe,UAACmH,SAAD,mBAAgBF,gBAAhB,eAA0B9F,SAAQ,GACxD+R,EAAOlT,iBAAeJ,GAAQT,OAAOgJ,YAAY8K,EAAK3R,SACtD6R,EAAOnT,iBAAiB0S,GAAK3D,EAAOtP,EAAOwT,EAAK3R,UAJpD,EAKqB8F,qBAAU,iBAAO,CAACgM,EAAEF,EAAK5R,YAL9C,mBAKK+R,EALL,KAKaC,EALb,OAMsB9C,qBAAWyC,EAAK3R,SAAS,SAAAN,GAAC,MAAG,CAAC4R,EAAEO,EAAK7R,QAAQN,OANnE,mBAMKyP,EANL,KAMc8C,EANd,KAOI7C,EAAOC,YAAW,CACpBC,OAAO,YAAmE,IAAjE4C,EAAgE,EAAhEA,MAAOxC,EAAyD,EAAzDA,KAAYlP,EAA6C,cAAnD+C,KAAmD,sBAAvCiM,SAAuC,GAA7BtN,EAA6B,KAA1BG,EAA0B,KAAVnC,EAAU,cAArBiS,UAAqB,OAClD,IAAfT,EAAK1R,SAAakS,KAAOR,EAAK1R,QAAUmR,EAAKjR,IACjD8R,EAAK,CAACF,EAAEvI,EAAMqI,EAAK5R,QAAQqC,EAAI6D,EAAWrI,OAAOgJ,eACjD6K,EAAK1R,UAAUmR,EAAKjR,IAAQ+R,EAxC3B,eACT/P,EADS,uDACN,EAAGkQ,EADG,uDACD,EAAGtP,EADF,uDACI,EADJ,6CAER9C,QAAQJ,OAFA,MAEE,EAFF,+CAGRI,QAAQqS,OAHA,MAGG,CAAC,EAAE,GAHN,EAITC,EAJS,uDAIN,EAAGC,EAJG,uDAIA1U,OAAO+I,WAJP,OAKR,eAAClH,EAAD,uDAAG,EAAH,OACAA,IAAI0S,GAAG1S,IAAI0S,EAAEtP,IACP,CAACsP,EAAEA,EAAEtP,GAAGgH,OAAM,SAAAQ,GAAC,OAAK,EAAEA,GAAGA,EAAE1K,MAC3B,CAACwS,EAAEA,EAAEtP,GAAGgH,OAAM,SAAAQ,GAAC,OAAIgI,EAAGC,EAAKF,EAAG/H,GAAGpI,GAAIkQ,EAAE9H,GAAGiI,KAC3C,CAACjB,EAAE/H,EAAM8I,EAAG3S,GAAGwC,EAAGY,GAAGpD,IAAI0S,EAAE,GAAG,GAAGG,EAAGD,EAAGC,EAAIA,EAAGF,EAAGD,GAAGC,EAAGD,EAAEtP,GAAGyP,IAC5D,MA8BmCC,CAAKtQ,EAAG1B,EAAI2Q,EAAKjR,GAAKyR,EAAKE,EAAKJ,IAC5D/B,IACLmC,EAAK7R,QAAUmP,EAAQ/O,KAAI,SAAC0C,GAAD,OAAWA,EAAEwO,EAAEmB,UAAUvB,IAAM,KAC1DU,EAAK5R,QAAU+R,EAAOD,EAAEW,UAAUvB,IAAgB,MAGpDvL,EAAWgL,WAASvQ,IAAIyF,EAAMF,UAAU,SAAAiL,GAAK,OAAIA,KAgBvD,OAfAhM,qBAAU,WAAO,IAAD,IACN8N,GAAM,UAAC7M,SAAD,mBAAgBF,gBAAhB,eAA0B9F,SAAQ,EAC1C6S,IAAMf,EAAK3R,UACf2R,EAAK3R,QAAU0S,EACfb,EAAK7R,QAAL,sBAAmB6R,EAAK7R,QAAQI,KAAI,SAAAkK,GAAC,OAAEA,EAAE,EAAEoI,EAAIb,EAAK7R,QAAQH,WAA5D,CAAqE,EAAE6S,IACvET,GAAK,SAACvS,GAAD,MAAQ,CAAC4R,EAAEO,EAAK7R,QAAQN,UAC7B,CAACmG,EAAOoM,IACZrN,qBAAU,WACNiN,EAAK7R,QAAUoR,GAAK3D,EAAOtP,EAAOwT,EAAK3R,SACvCiS,GAAK,SAAAvS,GAAC,MAAG,CAAC4R,EAAEO,EAAK7R,QAAQN,SAC1B,CAACvB,EAAO8T,EAAMxE,IACjB7I,qBAAU,WACNgN,EAAK5R,QAAU1B,GAAQT,OAAOgJ,YAAY8K,EAAK3R,QAC/CgS,EAAK,CAACF,EAAEF,EAAK5R,YACd,CAAC1B,EAAQ0T,IAER,kBAAC,WAAE/K,IAAH,eAAOrB,MAAK,2BAAM4K,IAAN,IAAkBlS,OAAOyT,EAAOD,GAAKlM,IAAYC,GACxDsJ,EAAQ/O,KAAI,WAAKI,GAAL,IAAE8Q,EAAF,EAAEA,EAAF,OACT,kBAAC,WAAErK,IAAH,iBAAWmI,EAAK5O,GAAU,CAACA,OAA3B,CAAiCoF,MAAK,2BAAM4K,IAAN,IAAkBrS,MAAMmT,EAAEnK,aAAY,SAAAmD,GAAC,gBAAK,IAAIA,EAAT,YACvE3E,EAAiBnF,SCzE1BgR,GAAW,WACpB,OACI,kBAAC,GAAD,KACI,yBAAK5L,MAAO,CAACzH,MAAM,OAAOG,OAAO,OAAOiI,WAAW,sBACnD,yBAAKX,MAAO,CAACzH,MAAM,OAAOG,OAAO,OAAOiI,WAAW,sBACnD,yBAAKX,MAAO,CAACzH,MAAM,OAAOG,OAAO,OAAOiI,WAAW,wBCJlDoM,GAAY,SAAC,GAEnB,IADHhN,EACE,EADFA,SACE,IADQnC,aACR,MADc,GACd,MADkBnC,YAClB,aAD6BC,YAC7B,MADkC,EAClC,MADqCsE,aACrC,MAD2C,GAC3C,EADkDC,EAClD,0DASF,OARAD,EAAQ/G,mBAAa,+BACjBiP,SAAc,GAALxM,EACTkC,MAAMA,GAAOnC,EAAK,UAAU,OAC5BlD,MAAM,qBAAD,OAA2B,IAALmD,EAAtB,OACLhD,OAAO,OACP8H,OAAO,QACJR,KACH,CAACpC,EAAMnC,EAAKC,EAAKsE,IACd,qCAAUD,WAASC,SAASC,KCEjC+M,GAAgB,CAACC,mBAAoB,EAAEC,0BAA2B,KAClEtC,GACI,CAACnI,QAAQ,kBAAkBhC,SAAS,SAAS+B,cAAc,SAC1D5I,SAAS,WAAW+R,WAAW,SAASwB,aAAc,YAF3DvC,GAGI,CAACrS,MAAM,MAAMG,OAAO,MAAM0U,OAAO,UAAU5K,cAAc,SAAS6K,YAAY,IAHlFzC,GAII,CAAC1C,SAAS,QAAQoF,WAAW,YAAY9K,cAAc,SAAS+K,cAAc,aAJlF3C,GAKI,CAAC4C,WAAW,6BAA6BC,WAAW,GAExDC,GACI,gbADJA,GAEK,wRAFLA,GAGI,qaAHJA,GAIG,0mBAGIC,GAAoB,CAC7BC,aAAc,SAAA3N,GAAK,OAAI,yCAASA,EAAT,CAAgB4N,QAAQ,mBAAiB,2BAAG,0BAAMC,EAAGJ,QAC5EK,aAAc,SAAA9N,GAAK,OAAI,yCAASA,EAAT,CAAgB4N,QAAQ,mBAAiB,2BAAG,0BAAMC,EAAGJ,QAC5EM,YAAc,SAAA/N,GAAK,OAAI,yCAASA,EAAT,CAAgB4N,QAAQ,mBAAiB,2BAAG,0BAAMC,EAAGJ,QAC5EO,KAAc,SAAAhO,GAAK,OAAI,yCAASA,EAAT,CAAgB4N,QAAQ,kBAAgB,2BAAG,0BAAMC,EAAGJ,SAMlEQ,GAA2B,SAAC,GAElC,IADHC,EACE,EADFA,QAAQC,EACN,EADMA,KAAKhR,EACX,EADWA,IACX,IADeiR,eACf,aAD6BC,YAC7B,MADkC,QAClC,MAD0CC,eAC1C,MADkD,EAClD,MADoD9S,YACpD,SACI+S,EAAOvV,mBAAQ,kBAAM0U,GAAS,GAAD,OAAIW,EAAJ,cAAoB,CAACA,IAClD1Q,EAAQ3E,mBAAQ,kBAAMwC,EAAK,UAAU,YAAW,CAACA,IACjDgT,EAAY1S,uBAAY,kBAAMqB,GAAKA,GAAI,SAACqN,GAAD,MAAY,CAACiE,MAAMjE,EAAEiE,KAAKC,WAAU,QAAU,CAACvR,IACtFwR,EAAY7S,uBAAY,kBAAMqB,GAAKA,GAAI,SAACqN,GAAD,mBAAC,eAAeA,GAAhB,IAA0BkE,WAAU,SAAU,CAACvR,IAC5F,OAAQ+Q,EACJ,oCACI,kBAACK,EAAD,CAAMxO,MAAK,2BAAM4K,IAAN,IAAmB2D,UAAS3Q,UAAQiR,QAASJ,IACxD,0BAAMzO,MAAK,2BAAM4K,IAAN,IAAmByC,YAAYe,EAAK,GAAG,EAAExQ,WAASwQ,GAC3DC,GACF,kBAACV,GAASmB,UAAV,CAAoB9O,MAAK,eAAM4K,IAAciE,QAASD,IACtD,0BAAM5O,MAAO,CAACwC,cAAc,SAAS5E,UAASuQ,IANpC,MAcTY,GAAc,SAAdA,EAAe,GAGpB,IAAD,IAFHL,YAEG,aAFQM,eAER,aAFsBL,iBAEtB,aAFsC1G,aAEtC,MAF4C,EAE5C,MAF+CgH,oBAE/C,MAF4DjC,GAE5D,MADHvR,YACG,aADSC,YACT,MADc,EACd,MADiBsE,aACjB,MADuB,GACvB,MAD2BkP,gBAC3B,MADoC,GACpC,EAD2CjP,EAC3C,wGACkB5B,mBAAiC,CAACqQ,OAAKM,UAAQL,cADjE,mBACIrJ,EADJ,KACWlI,EADX,KAEG+O,EAASjM,oBAAe,CAC1ByO,UAAUrJ,EAAMqJ,UAChBQ,OAAO,2BAAKA,SAAOC,SAAWH,GAC9BpG,KAAM,CAACnQ,OAAQ,EAAG6V,QAAS,EAAG9M,UAAW,yBACzC6J,GAAI,CAAG5S,OAAQ4M,EAAMoJ,KAAO,OAAS,EAC/BH,QAASjJ,EAAMoJ,KAAO,EAAS,EACjCjN,UAAW6D,EAAMoJ,KAAO,uBAAyB,2BAEnD3O,EAAW9G,mBAAQ,kBAAM8R,WAASvQ,IAAIyF,EAAMF,UAAU,SAAAiL,GAAU,IAAD,IAC3DC,EAAQF,WAASG,QAAT,UAAkBF,SAAlB,iBAAiB,EAAgB/K,aAAjC,aAAiB,EAAuBF,WAAa,GACnE,OAAOE,EAAMF,UACT,kBAACgP,EAAD,2BAAe9O,GAAf,IACIxE,OAAMC,OAAMsE,QAAOiI,MAAMA,EAAM,EAAGiH,SAAS,GAC3CR,MAAK,EAAW3O,SAASkL,EAAMhR,OAAO,EAAIgR,EAAMxH,MAAM,GAAK,KAC3DkL,WAAU,EAAOR,QAAQlD,EAAMhR,OAAO,EAAIgR,EAAM,GAAKD,UAC7D,CAAC/K,EAAOxE,EAAMC,EAAMsE,EAAOiI,IACzBqG,EAAOrV,mBAAQ,kBAAM8G,aAAoB5D,OAAS4D,EAAS9F,OAAO,EACjEqL,EAAMoJ,KAAO,QAAU,OACxB,UAAS,CAAC3O,EAAUuF,EAAMoJ,OAEhC,OADA1P,qBAAU,WAAY5B,GAAI,SAAAqN,GAAC,OAAIuE,IAAUvE,EAAEuE,QAAZ,2BAAyBvE,GAAzB,IAA4BuE,YAAWvE,OAAK,CAACuE,IAExE,yBAAKhP,MAAK,uCAAM4K,IAAN,IAAmB1C,SAAc,GAALxM,EAAS2T,QAAQpH,GAAUjI,GAAUkP,IACvE,kBAAC,GAAD,2BAAqBjP,GAArB,IAA4BxE,OAAMC,OAAM4S,OAAMlR,MAAKmR,SAAgB,OAARxO,QAAQ,IAARA,OAAA,EAAAA,EAAU9F,QAAO,EAAE,MAC9E,kBAAC,WAAEoH,IAAH,CAAOrB,MAAK,uCACJiI,EAAM,EAAE,CAACqH,WAAW,eAAD,OAAgB7T,EAAK,OAAO,SAAU,IAC1DmP,IAFK,IAEQnI,QAAQ,eAAD,OAAqB,GAAL/G,EAAhB,OACpByQ,IAAYpM,KCzElBgP,GAAW,WACpB,OACI,kBAAC,GAAS,CAACtT,KAAK,EAAEC,KAAK,GACnB,kBAAC,GAAD,CAAOyS,QAAQ,QACX,oCACI,kDACA,4CACA,4CACA,6CAEJ,oCACI,kDACA,6CACA,6CACA,iDCnCPrO,GAAI,wEAMJgC,GAAI,2GAOJgB,GAAI,wEAMJiM,GAAK,wJAULnD,GAAK,yWCtBL2D,GAAU,kCAAIpW,SAASqW,eAAe,eAA5B,aAAI,EAAiCC,OAAO,CAAC3E,IAAI,EAAE9C,KAAK,EAAE0H,SAAS,YAC7EC,GAAa,CAAEtL,SAAS,kBAAMkL,OAI9BK,GAAyC,CAClDC,QAAO,EAAMC,OAAO,GAAI/K,SAAU,qBAAEF,QAAqB,CAAC,OAAO,OAAO,QAAQ,IAChFD,OAAO,qBAAEL,IAAeN,SAAU,gBAAEM,EAAF,EAAEA,GAAGuL,EAAL,EAAKA,OAAL,MAC9B,CAAC,SAAD,OAAcvL,EAAGA,EAAG,IAAI,IAAxB,oBACcA,EAAGA,EAAG,IAAI,IACf,OAATuL,EAAA,yBAEKC,GAAO,uCAAG,WAAOzX,GAAP,2BAAAwE,EAAA,6DAAmBkT,EAAnB,+BAA2B,CAAC,eAAe,oBAA3C,kBACpBC,IAAMC,IAAI5X,EAAI6M,KAAM,CAAC6K,YACfG,MAAK,SAAAC,GACF,IAAIA,GAAoB,MAAbA,EAAIN,OACX,MAAM,IAAIO,MAAM,eACpB,OAAOD,EAAIE,SALA,2CAAH,sDAOPC,GAAM,uCAAG,WAAOjY,EAAakY,GAApB,2BAAA1T,EAAA,6DAAiCkT,EAAjC,+BAAyC,CAAC,eAAe,oBAAzD,kBACnBC,IAAMQ,KAAKnY,EAAI6M,KAAMqL,EAAM,CAACR,YACtBG,MAAK,SAACC,GACH,GAAIA,EAAIN,OAAO,MAAQM,EAAIE,KAAKI,MAC5B,MAAM,IAAIL,MAAM,eACpB,MAAO,CAACM,SAASH,EAAKG,SAAUC,UAAUR,EAAIE,KAAKI,WALzC,2CAAH,wDASNG,GAAW,CACpB,CAAC,aAAa,OAAO,QACrB,CAAC,aAAa,QAAQ,QAAQ,SAC9B,QAGSC,GAAW,CACpB7M,SAAU,oBAAEM,GAAF,iCAAK,GAAL,IACVwM,KAAO,oBAAExM,UAAF,MAAK,GAAL,MAAQyM,MAAR,kBAAc,GAAd,GAAqC3N,EAAMkB,KAClDxC,KAAO,oBAAEwC,UAAF,MAAK,GAAL,MAAQ0M,MAAR,kBAAc,GAAd,GAAqC5N,EAAMkB,KAClDyM,MAAOvW,OAAOC,OAAP,MAAAD,OAAM,CAAQ,IAAR,mBAAeA,OAAOE,KAAKuW,GAAO1W,KAAI,SAAAI,GAAG,OAAIA,KAAOsW,GAAP,eAAkBtW,EAAOsW,EAActW,UACjGqW,MAAOxW,OAAOC,OAAP,MAAAD,OAAM,CAAQ,IAAR,mBAAeA,OAAOE,KAAKwW,GAAO3W,KAAI,SAAAI,GAAG,OAAIA,KAAOuW,GAAP,eAAkBvW,EAAOuW,EAAcvW,WAG/FwW,GAAS,CACX/Y,OAAO,GACPmD,MAAO,CACH6V,GAAI,CAACC,WAAU,EAAOC,wBAAuB,GAC7C7S,OAAQ,CAAC9E,SAAS,CAAC,GAAG,EAAE,IACxB4X,UAAW,YAAY,EAAVH,GAAcI,eAAe/X,gBAC1CgY,WAAYzZ,OAAO0Z,mBAIdC,GAAW,CACpBC,KAAO,oBAAEtN,GAAF,OAAcuN,EAAezO,OAA7B,MAAK,GAAL,KAA2C,MAClD0O,OAAO,oBAAExN,GAAF,OAAc6M,GAAe/N,OAA7B,MAAK,GAAL,KAA2C,OCzBzC2O,GAAU,SACnB/R,GAE6C,IAD7CkP,EAC4C,uDADR,GAEjB,oBAARlP,IAAoBA,EAASA,KACpB,oBAATkP,IAAoBA,EAASA,KACxC,IAAM8C,EAAUnZ,iBAAM,2BAAcwL,GAAgBrE,IAC9CiS,EAAUpZ,iBAAM,2BAAcqZ,GAAgBhD,IAJR,EAKzB9Q,mBAAmB+G,EAAS6M,EAAQ7X,UALX,mBAKrCiL,EALqC,KAKhCjI,EALgC,KAMtCgV,EAAUrW,uBAAY,SAACuJ,GACN,oBAARA,IACPA,EAAQA,EAAM2M,EAAQ7X,UAC1B6X,EAAQ7X,QAAR,2BAAsB6X,EAAQ7X,SAAYkL,GAC1ClI,GAAI,SAAA8L,GACA,IAAMmJ,EAAUjN,EAAS6M,EAAQ7X,SACjC,OAAI8O,EAAIjF,WAAWoO,EAAQpO,UAE3BhM,OAAOqa,QAAQC,UAAU,GAAG,GACxBF,EAAQpO,oBAAoB9H,MACxBkW,EAAQpO,SAAS,IAAI,GACrBoO,EAAQpO,UAAa,IAJlBoO,OAOhB,CAACjV,IAKJ,OAJA4B,qBAAU,WAAO,IACNqF,EAAY6N,EAAQ9X,QAApBiK,SACW,oBAAXA,GAAyBA,MACjC,CAACgB,EAAKd,KACF,CAACc,EAAM+M,IC3DL5D,GAAY,SAAC,GAGnB,IAAD,IAFFgE,UAEE,MAFC,GAED,MAFI/W,YAEJ,aAFegX,YAEf,aAFyB/W,YAEzB,MAF8B,EAE9B,EADFqE,GACE,EAFgC2S,OAEhC,EADF3S,UACE,IADOkD,iBACP,MADiB,GACjB,EADuBhD,EACvB,6EACmBC,qBAAU,iBAAO,CAACC,IAAI,CAAC,EAAE,EAAE,OAD9C,mBACMA,EADN,KACMA,IAAM/C,EADZ,KAEIoM,EAAOC,YAAW,CACpBkJ,OAAS,gCAAE5I,KAAF,GAAQC,EAAR,KAAWC,EAAX,KAAeH,EAAf,EAAeA,KAAf,OAAyB1M,EAAI,CAAC+C,IAAI,CAAC6J,EAAGC,EAAGH,EAAK,EAAE,QAEvDlM,EAAQ3E,mBAAQ,kBAAIgH,EAAMrC,OAAO6U,EACnChX,EAAK,UAAU,OACf,YAAU,CAACwE,EAAMrC,MAAM6U,EAAKhX,IAC1BuE,EAAQ/G,mBAAa,8BAAC,yBACxBwJ,QAAQ,MAAMqI,IAAI,EAAE/C,MAAM,EAAE6K,UAAU,SAASC,WAAW,QACtDJ,EAAK,CAAC/R,aAAkB,GAALhF,EAAQiF,WAAW,WAAW,IAClDV,EAAMD,OAHc,IAGRpC,QAAMlF,OAAY,GAALgD,EAAQnD,MAAW,GAALmD,EAAQwM,SAAc,GAALxM,MAC3D,CAACA,EAAK+W,EAAK7U,EAAMqC,EAAMD,QAC3B,OAAO,kBAAC,WAAEqB,IAAH,eAAOrB,MAAK,aACPpB,EAAIuB,EAAIoB,aAAY,SAAC3C,EAAEkC,EAAE5D,GAAL,OAAW0B,EAAElD,EAAK,GAAGoF,EAAE5D,KAC3C4D,EAAIX,EAAIoB,aAAY,SAAC3C,EAAEkC,EAAE5D,GAAL,OAAW4D,EAAEpF,EAAK,GAAGkD,EAAE1B,KAC3CuH,OAAStE,EAAIoB,aAAY,SAAC3C,EAAEkC,EAAE5D,GAAL,MAAW,CAAC,eAAD,OACjB,GAAI0B,EADa,iBAEjB,GAAIkC,EAFa,iBAGjB,EAAE5D,EAAE,EAHa,6BAIjB,GAAIA,EAAE,GAJW,OAKlCsE,KAAK,QACPC,UAAYtB,EAAIoB,aAAY,SAAC3C,EAAEkC,EAAE5D,GAAL,MAAW,CAAC,eAAD,OACf,GAALxB,EADoB,0BAEvBoF,EAFuB,0BAGxBlC,EAHwB,wBAI1B,EAAE1B,EAAE,GAJsB,MAKrCsE,KAAK,SACRxB,IACA,CAACD,WAASkD,UAAUA,EAAUuP,EAAV,kBAAwBA,GAAK,IACjDhJ,IAAYvJ,KChCrB2K,GACI,CAAChR,SAAS,QAAQkR,IAAI,EAAE9C,KAAK,EAAEtP,OAAO,OAAO2W,OAAO,GADxDzE,GAEI,CAAChR,SAAS,QAAQkR,IAAI,KAAK9C,KAAK,EAAEqH,OAAO,EAAEyD,UAAU,SAASpa,OAAO,OAFzEkS,GAGI,CAAChR,SAAS,WAAW6H,UAAU,wBAG5BsR,GAA4B,SAAC,GAAD,IAAE5G,EAAF,EAAEA,OAAQ3C,EAAV,EAAUA,KAAV,IAAgB9N,YAAhB,MAAqB,EAArB,SACrC,kBAAC,WAAE2F,IAAH,eAAOrB,MAAK,2BAAM4K,IAAN,IACRrS,MAAY4T,EAAOvN,EAAE0M,IAAG,SAAC1M,GAAD,OAAYA,EAAE,EAAE,OAAJ,UAAmB,GAALlD,EAAQ,EAAtB,SACpCiF,WAAYwL,EAAO9O,MAAMiO,IAAG,SAACpO,GACzB,IAAM8V,EAAQ7G,EAAOvN,EAAEiO,UAAUvB,GAAGrT,OAAO+I,WAC3C,MAAM,oCAAN,OAA2CgS,EAAK9V,EAAE,EAAlD,0BACGsM,OAEFyJ,GAAkC,SAAC,GAAD,QAAEvX,YAAF,MAAO,EAAP,EAAUyQ,EAAV,EAAUA,OAAQpM,EAAlB,EAAkBA,SAAlB,OAC3C,kBAAC,WAAEsB,IAAH,CAAOrB,MAAK,2BAAM4K,IAAN,IACRrS,MAAM4T,EAAOvN,EAAE2C,aAAY,SAAC3C,GAAD,OAAYA,EAAE,EAAEA,EAAE,KAC7C8B,aAAa,OAAD,OAAQ,GAAGhF,EAAX,cAAqB,GAAGA,EAAxB,UACZwX,gBAAgB,aAChB,yBAAKlT,MAAO,CAACQ,OAAO,GAAD,OAAI,GAAG9E,EAAP,kBAA6B9B,SAAS,aAAcmG,KAGlEoT,GAA6B,SAAC,GAAD,IAAEhH,EAAF,EAAEA,OAAQ3C,EAAV,EAAUA,KAAV,IAAgBiJ,YAAhB,aAA4B/W,YAA5B,MAAiC,EAAjC,SACtC,kBAAC,WAAE2F,IAAH,iBAAWmI,IAAX,CAAmBxJ,MAAK,uCAAM4K,IAAeuB,GAArB,IAA4BrB,IAAS,GAALpP,EAAQsM,KAAU,GAALtM,MACjE,kBAAC,GAAD,eAAM8W,GAAG,cAAiB,CAACC,OAAK/W,YAO3B0X,GAAc,WAAkF,IAAD,yDAAP,GAAxErT,EAA+E,EAA/EA,SAA+E,IAArExH,aAAqE,MAA/DN,OAAO+I,WAAW,EAA6C,OAA3CvF,KAA2C,EAAhCC,aAAgC,MAA3B,EAA2B,MAAxBgX,cAAwB,MAAjB,kBAAI,MAAa,EAClGW,EAASva,kBAAgB,GACzBwa,EAAYvX,uBAAY,eAACwX,IAAD,gEAAmBF,EAAOjZ,QAAQmZ,EAAOb,GAAQA,MAAW,CAACA,IAFa,EAGlFxS,qBAAW,iBAAO,CAACtB,EAAE,EAAEkC,EAAE,EAAEzD,MAAM,MAHiD,mBAGjG8O,EAHiG,KAGzF/O,EAHyF,KAIlGsR,EAAM,eAAChK,EAAD,uDAAG,EAAH,OAAW4O,GAAU,GAAMlW,EAAI,CAACwB,EAAErG,EAAMuI,EAAE,EAAEqO,OAAW,IAAJzK,EAAMyK,SAAOqE,OAAOrE,SAAOsE,QACpFC,EAAM,eAAChP,EAAD,uDAAG,EAAH,OAAW4O,GAAU,GAAOlW,EAAI,CAACwB,EAAE,EAAMkC,EAAE,EAAEqO,OAAO,2BAAIA,SAAOwE,OAAZ,IAAkBC,SAASlP,OACpF8E,EAAOC,YAAW,CACpBoK,QAAU,gBAAEC,EAAF,EAAEA,SAAF,OAAgB1W,EAAI,CAACC,MAAMyW,EAAS,IAAI,KAClDpK,OAAS,YAAqD,IAAnDI,EAAkD,EAAlDA,KAAKV,EAA6C,EAA7CA,KAAWY,EAAkC,cAAxCD,KAAwC,sBAA7BH,SAA6B,GAAnBtN,EAAmB,KAAhBG,EAAgB,KAAZkN,EAAY,EAAZA,OAE7C,OADKlN,EAAU,IAANlE,GAAgB,GAANA,EAASkE,IAAOkN,GAAQA,IACtCG,EACDuJ,EAAOjZ,QACPiZ,EAAOjZ,QAAsB,IAALkC,GAAQA,EAAU,IAAN/D,GAAWyR,GAAI,GAAO0J,EAAM1J,GAAK0E,EAAK1E,QAA9E,EADiC,IAAL1N,GAAQA,EAAU,GAAN/D,GAAWyR,EAAI,GAAO0E,EAAK1E,GAAM0J,EAAM1J,GAD7D5M,EAAI,CAACwB,GAAGyU,EAAOjZ,QAAQ7B,EAAM,IAAI6Q,EAAK9M,EAAG,GAAGwE,EAAEsI,EAAK3M,EAAG,OAKhF,OACI,yBAAKuD,MAAO,CAACpG,SAAS,QAASkR,IAAI,EAAE9C,KAAK,EAAEqH,OAAO,MAC/C,kBAAC,GAAgB,CAAC3T,OAAMyQ,SAAQ3C,SAChC,kBAAC,GAAkB,CAAC9N,OAAMyQ,SAAQ3C,SAClC,kBAAC,GAAkB,CAAC9N,OAAMyQ,SAAQ3C,QAClC,kBAAC,GAAU,CAAC/N,MAAK,EAAKC,QACjBqE,MCpDX6K,GACI,CAAChR,SAAS,QAAQkR,IAAI,EAAE/C,MAAM,EAAErP,OAAO,OAAO2W,OAAO,GADzDzE,GAEI,CAAChR,SAAS,QAAQlB,OAAO,MAAMoS,IAAI,KAAK/C,MAAM,EAAEsH,OAAO,EAAEyD,UAAU,UAFvElI,GAGI,CAAChR,SAAS,WAAWmO,MAAM,EAAEtG,UAAU,wBAH3CmJ,GAII,CAACsI,gBAAgB,UAAUtV,MAAM,UAAW8E,QAAQ,gBAEjDqR,GAA4B,SAAC,GAAD,QAAErY,YAAF,MAAO,EAAP,EAAUyQ,EAAV,EAAUA,OAAQ3C,EAAlB,EAAkBA,KAAlB,OACrC,kBAAC,WAAEnI,IAAH,eAAOrB,MAAK,aACRzH,MAAO4T,EAAO6H,EAAEzS,aAAY,SAACyS,GAAD,gBACxB,GAAGtY,GAAOxB,KAAK6C,IAAIiX,EAAE,GAAG9Z,KAAKwF,IAAI,KADT,SAG5BiB,WAAYwL,EAAO9O,MAAMkE,aAAY,SAACrE,GAAD,MAAY,CAAC,wBAAD,qCAG/BA,EAAE,EAH6B,OAI/CsE,KAAK,SACJoJ,KACApB,OAEEyK,GAAkC,SAAC,GAAD,IAAElU,EAAF,EAAEA,SAAF,IAAYrE,YAAZ,MAAiB,EAAjB,EAAoByQ,EAApB,EAAoBA,OAAQ3C,EAA5B,EAA4BA,KAA5B,OAC3C,kBAAC,WAAEnI,IAAH,iBAAWmI,IAAX,CAAmBxJ,MAAK,2BAAM4K,IAAN,IACpBrS,MAAM4T,EAAO6H,EAAEzS,aAAY,eAACyS,EAAD,uDAAG,EAAH,gBAAa,GAAGtY,GAAMxB,KAAK6C,IAAIiX,EAAE,GAAG9Z,KAAKwF,IAAI,GAA7C,aAC3B,yBAAKM,MAAO,CAACQ,OAAO,QAAD,OAAS,GAAG9E,EAAK,EAAjB,0BAA4CqE,KAG1DmU,GAA6B,SAAC,GAAD,QAAExY,YAAF,MAAO,EAAP,EAAUyQ,EAAV,EAAUA,OAAQ3C,EAAlB,EAAkBA,KAAlB,IAAwBiJ,YAAxB,gBACtC,kBAAC,WAAEpR,IAAH,iBAAWmI,IAAX,CAAmBxJ,MAAK,2BAAM4K,IAAN,IAAmBE,IAAI,GAAGpP,EAAMyY,QAAQhI,EAAO6H,MACnE,kBAAC,GAAD,eAAMxB,GAAG,iBAAoB,CAACC,OAAK/W,YAG9B0Y,GAA4B,SAAC,GAAD,IAAErU,EAAF,EAAEA,SAAF,IAAYrE,YAAZ,MAAiB,EAAjB,SACrC,kBAAC,WAAE2F,IAAH,CAAOrB,MAAK,2BAAM4K,IAAN,IACRpK,OAAO,GAAD,OAAI,GAAG9E,EAAK,EAAZ,UACNgF,aAAa,GAAD,OAAI,GAAGhF,EAAP,uBAA0B,GAAGA,EAA7B,SACZ,yBAAKsE,MAAO,CACRtH,OAAO,GAAGgD,EAAM8E,OAAO,QAAD,OAAS,GAAG9E,EAAK,EAAjB,MACtBwM,SAAS,GAAGxM,EAAM2T,OAAO,EAAG3M,QAAQ,OAAQ2R,WAAW,WACvDtU,KAGCuU,GAAyB,WAA6C,IAAD,yDAAP,GAAnCvU,EAA0C,EAA1CA,SAA0C,IAAhCrE,YAAgC,MAA3B,EAA2B,MAAxBgX,cAAwB,MAAjB,kBAAI,MAAa,EACxEW,EAASva,kBAAgB,GACzBwa,EAAYvX,uBAAY,SAACwX,GAAD,OAAsBF,EAAOjZ,QAAQmZ,EAAOb,GAAQA,MAAW,CAACA,IAFhB,EAGxDxS,qBAA2B,iBAAO,CAACtB,EAAE,EAAGkC,EAAE,EAAGkT,EAAE,GAAI3W,MAAM,MAHD,mBAGvE8O,EAHuE,KAG/D/O,EAH+D,KAIxEmX,EAAO,WAAiB,IAAhBX,EAAe,uDAAN,EACb1K,KAAUiD,EAAO6H,EAAEnH,UAAUvB,GAAG,IAChCkJ,GAASnB,EAAOjZ,QAAQ,EAAE,KAAQ8O,EAAI,EAAU,EAAE,EACxD,OAAO,IAAOA,EAAMsL,GAAQZ,EAAS,GAAG,EAAE,KAExCrb,EAAQU,mBAAQ,kBAAI,IAAIyC,IAAM,CAACA,IAC/BgT,EAAO,eAAChK,EAAD,uDAAG,EAAH,OAAW4O,GAAU,GAAOlW,EAAI,CAAC4W,EAAEO,EAAK7P,GAAGyK,OAAW,IAAJzK,EAAMyK,SAAOqE,OAAOrE,SAAOsE,QACpFC,EAAO,eAAChP,EAAD,uDAAG,EAAH,OAAW4O,GAAU,GAAOlW,EAAI,CAAC4W,EAAEO,EAAK7P,GAAGyK,OAAO,eAAIA,SAAOwE,UACpEc,EAAO,SAAC,GAAuC,IAAD,IAArCnY,UAAqC,MAAlC,EAAkC,MAAhC0N,UAAgC,MAA7B,EAA6B,MAA3BZ,YAA2B,aAAhBU,KAChC,YADgD,SAE5CuJ,EAAOjZ,QACPiZ,EAAOjZ,QAAsB,IAALkC,GAAQA,EAAU,IAAN/D,GAAWyR,GAAI,IAAK,GAAIA,EAAM0J,GAAO1J,GAAO0E,GAAM1E,QAA1F,EADiC,IAAL1N,GAAQA,EAAU,IAAN/D,GAAWyR,GAAI,GAAQ0E,GAAM1E,GAAM0J,GAAO1J,GADhE5M,EAAI,CAAC4W,EAAE7H,EAAO6H,EAAEnH,UAAUvB,IAAIlC,EAAK,GAAI9M,EAAI/D,EAAM,MAIjEiR,EAAOC,YAAW,CACpBoK,QAAS,gBAAEC,EAAF,EAAEA,SAAF,OAAgB1W,EAAI,CAACC,MAAMyW,EAAS,IAAI,KACjDY,QAAS,gBAAE5K,EAAF,EAAEA,KAAKV,EAAP,EAAOA,KAAP,gBAAYuL,OAAZ,GAAuB7X,GAAvB,kBAAgC2X,EAAO,CAACrL,OAAKU,OAAKE,GAAG,EAAE1N,GAAGQ,KACnE4M,OAAS,gBAAEI,EAAF,EAAEA,KAAKV,EAAP,EAAOA,KAAWY,EAAlB,cAAYD,KAAZ,MAAiCzN,EAAjC,cAAuBsN,SAAvB,aAA4C6K,EAAO,CAACrL,OAAKU,OAAKE,KAAG1N,GAAGA,OAEjF,OACI,yBAAK0D,MAAO,CAACpG,SAAS,QAAQkR,IAAI,EAAE/C,MAAM,EAAEsH,OAAO,MAC/C,kBAAC,GAAmB,CAAC3T,OAAMyQ,SAAQ3C,SACnC,kBAAC,GAAmB,CAAC9N,OAAMyQ,SAAQ3C,SACnC,kBAAC,GAAmB,CAAC9N,OAAMyQ,SAAQ3C,QAClC2B,IAAMJ,SAASvQ,IAAIuF,GAAW,SAACiL,EAAOpQ,GAAR,OAC3B,kBAAC,GAAc,CAACc,OAAyBd,OAAQoQ,SCrE3DJ,GACM,CAAChR,SAAS,WAAYgb,WAAW,KAAMtU,UAAU,Q,SCYvDsK,GAA4B,CAC9BE,IAAQ,CAAClR,SAAS,WAAYgb,WAAW,KAAMtU,UAAU,OAAQG,SAAS,UAC1E2Q,OAAQ,CAACxX,SAAS,QAASrB,MAAM,OAAQG,OAAO,OAAQoS,IAAI,EAAG9C,KAAK,IAE3D6J,GAAW,WAAO,IAAD,EACFgD,YAAgB,CAACC,GAAG,EAAGC,GAAG,IADxB,mBACnBtZ,EADmB,KACbuZ,EADa,OAEFH,YAAgB,CAACC,GAAG,EAAGC,GAAG,MAFxB,mBAEnBrZ,EAFmB,KAEbuZ,EAFa,OAGTjD,GAAkBJ,IAA5BvM,EAHmB,oBAI1B,OACA,yBAAKrF,MAAK,2BAAM4K,GAAOE,KAAb,IAAkBnK,WAAWlF,EAAK,OAAO,UAC/C,kBAAC,IAAD,iBAAY4J,EAAK+L,OAAjB,CAAyBpR,MAAO4K,GAAOwG,SACnC,yBAAKnW,OAAO,MAAM0C,KAAM,CAAC,SAAU,GAAI,MACvC,qCAAiBuX,UAAW,IAAMtb,SAAU,CAAC,EAAG,GAAI,KACpD,sCAAkBA,SAAU,EAAE,EAAG,GAAI,GAAIub,YAAU,IACnD,kBAAC,WAAD,CAAUC,SAAU,MAChB,kBAAC,KAAD,KACI,kBAAC,EAAU,CAAC3Z,OAAKC,UAErB,kBAAC,EAAU,CAACD,OAAKC,WAIzB,kBAAC,GAAU,CAACA,QACR,uBAAGmT,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,MAArC,QACA,uBAAG0J,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,UAArC,SAEJ,kBAAC,GAAU,CAACzJ,QACR,yBAAKmT,QAAS,kBAAImG,GAAQ,SAACvK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQrZ,EAAK,eAAK,gBACpE,yBAAKoT,QAAS,kBAAIoG,GAAQ,SAACxK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQpZ,EAAK,GAAG,eAAK,iBAE3E,kBAAC,IAAD,KACI,0CAAgB2J,EAAKd,IACrB,0BAAM8Q,IAAI,YAAYlQ,KAAK,wBCtCjCyF,GACG,CAAChR,SAAS,QAAQkR,IAAI,EAAE9C,KAAK,EAAEzP,MAAM,OAAOG,OAAO,Q,6BCP/C4c,GAAc,SAAC,GAGjB,IAAD,IAFF5G,YAEE,aAFU6G,eAEV,MAFkB,KAElB,MAFwB9Z,YAExB,aAFoCC,YAEpC,MAFyC,EAEzC,EADFqE,EACE,EADFA,SACE,IADQnC,aACR,MADc,GACd,EADqBqC,EACrB,mEACA1H,EAAQU,mBAAQ,kBAAI,IAAMyC,IAAK,CAACA,IADhC,EAEgBwE,qBAAU,iBAAK,CAACtB,EAAE,EAAEkC,GAAGvI,EAAM8E,MAAM,MAFnD,mBAEC8O,EAFD,KAES/O,EAFT,KAGN4B,qBAAU,WAAK0P,GAAMtR,EAAI,CAACwB,EAAE,EAAEkC,EAAE,EAAEzD,MAAM,MAAM,CAACqR,EAAMtR,IACrD,IAAMsW,EAAM3X,uBAAa,WAAgB,IAAfiO,EAAc,uDAAX,EAAEC,EAAS,uDAAN,EAC9B7M,EAAI,CAACwB,EAAEoL,EAAGzR,EAAOuI,GAAGmJ,EAAG,GAAG1R,EAAO8E,MAAM,IACvCkY,GAAW7K,YAAW,kBAAI6K,MAAW,SAAAvL,EAAI,GAAJ,SAAMC,EAAI,MAChD,CAACsL,EAAShd,EAAO6E,IACdoM,EAAOC,YAAW,CACpBoK,QAAU,gBAAEC,EAAF,EAAEA,SAAF,OAAgB1W,EAAI,CAACC,MAAMyW,EAAS,GAAI,KAClDpK,OAAS,YAAuD,IAArDI,EAAoD,EAApDA,KAAKV,EAA+C,EAA/CA,KAA+C,gBAA1CW,KAA0C,GAApCC,EAAoC,KAAjCC,EAAiC,qBAA7BL,SAA6B,GAAnBtN,EAAmB,KAAhBG,EAAgB,KAAZkN,EAAY,EAAZA,OAE/C,OADKlN,EAAU,IAANlE,GAAgB,GAANA,EAASkE,IAAOkN,GAAQA,IACtCG,EACG,SAAAxN,EAAI,GAAE,SAAA/D,EAAO,GAAE,GAAG,SAAAyR,EAAI,GAAJ,SAAMC,EAAI,GAAE,GAChCyJ,EAAM1J,EAAGC,GACT7M,EAAI,CAACwB,EAAE,EAAEkC,EAAE,EAAEzD,MAAM,IAHPD,EAAI,CAACwB,EAAEwK,EAAK9M,EAAG,EAAEwE,EAAEsI,EAAK3M,EAAG,OAM/C+Y,EAAOvc,mBAA0B,kBAAIE,SAASqW,eAAe,UAAQ,IACrExP,EAAQ/G,mBAAa,+BACvB+O,KAAK,EAAGzP,MAAM,OAASmK,QAAQ,OAAO+S,eAAe,SACrD3K,IAAI,EAAGpS,OAAO,OAAQkB,SAAS,QAAWya,WAAW,SACrDO,WAAW,KAAMhX,MAAMA,GAAOnC,EAAK,UAAU,OAC7C4T,OAAO,IAAI1O,WAAW,QAAD,OAASlF,EAAK,WAAW,QAAzB,SAA2CwE,EAAMD,SACtE,CAACvE,EAAMmC,EAAOqC,EAAMD,QACxB,OAAO0O,EAAOgH,uBACV,yBAAK1V,MAAOA,EAAO6O,QAAS,kBAAI0G,GAASA,MACrC,kBAAC,WAAElU,IAAH,eAAOrB,MAAK,aAAGpG,SAAS,YAAcuS,IAAa3C,IAAnD,CACIqF,QAAS,SAAA1N,GAAC,OAAEA,EAAEwU,qBACb5V,IAGXyV,GAAuB,MCrCvB5K,GACI,CAAChR,SAAS,WAAW6I,QAAQ,MAAM4M,OAAO,EAAE5N,UAAU,wBAOnDmU,GAAc,SAAdA,EAAe,GAGrB,IAAD,IAFFhc,gBAEE,MAFO,CAACgF,EAAE,EAAEkC,EAAE,EAAEkT,EAAE9Z,KAAKwF,GAAG,GAE1B,MAF8BuI,aAE9B,MAFoC,EAEpC,MAFuC+K,YAEvC,MAF4C,MAE5C,MADFtX,YACE,MADG,EACH,MADM4M,cACN,SADsBrI,EACtB,2DACIhG,EAAShB,mBAAS,wBAAM,iBAACgH,QAAD,IAACA,OAAD,EAACA,EAAOF,gBAAR,eAA0B9F,SAAQ,IAAG,CAACgG,IAC9D4V,EAAW/c,iBAAQqD,MAAMlC,GAAQoO,KAAKzO,IACtCsJ,EAAKnH,uBAAY,kBAAM,WAAU,IAATjC,EAAQ,uDAAN,EACtBka,EAAIpa,EAASoa,EAAE,EAAK9Z,KAAKwF,GAAG,GAAmB,IAAZzF,EAAOH,EAAE,GAAM,IAAe,IAAVG,EAAO,GAAM,GAAGC,KAAKwF,GAAG,EAC/Ed,EAAI0J,EAAU,GAAG0K,EAAKtX,EAAKxB,KAAK6C,IAAIiX,GAAK,EACzClT,EAAIwH,GAAU,GAAG0K,EAAKtX,EAAKxB,KAAK8C,IAAIgX,GAAK,EAE/C,OADA6B,EAASzb,QAAQN,GAAK,CAAC8E,IAAEkC,GAAGA,EAAEkT,KACvB,CAACpV,IAAGkC,IAAGzD,MAAMiL,EAAO,EAAE,MAC9B,CAACA,EAAQrO,EAAQL,EAASoa,EAAGhB,EAAMtX,IATpC,EAUqB4N,qBAAYrP,EAAQiJ,KAVzC,mBAUKqG,EAVL,KAUcnM,EAVd,OAW8BiB,mBAAUlC,MAAMlC,GAAQoO,MAAK,IAX3D,mBAWKyN,EAXL,KAWeC,EAXf,KAYIC,EAASja,uBAAY,SAACoF,EAAGvG,GAC3Bmb,GAAY,SAAAtL,GAAC,OAAIhQ,OAAOC,OAAO,GAAI+P,EAAlBhQ,OAAA,IAAAA,CAAA,GAAuBG,GAAM6P,EAAE7P,QAChDuG,EAAEwU,oBACJ,IACI5V,EAAW9G,mBAAQ,kBAAM8R,WAASvQ,IAAKyF,EAAMF,UAAU,SAACiL,EAAMpQ,GAAS,IAAD,IAExE,OADAwC,EAAI8F,KACG8H,IAAK,UAAKA,SAAL,iBAAI,EAAgB/K,aAApB,aAAI,EAAuBF,UACnCoL,IAAMC,aAAaJ,EAAc,CAACjL,SAC9B,kBAAC6V,EAAD,aAAYhb,MAAK0N,OAAOA,GAAQwN,EAASlb,GACrCqN,MAAMA,EAAM,EAAGrO,SAASic,EAASzb,QAAQQ,GACzCoY,KAAKA,GAAM,EAAY,IAAT/K,EAAM,IACpBC,SAAS,GAAGxM,GAAM,EAAY,IAATuM,EAAM,KACtB+C,EAAc/K,OAAO,OAElC+K,OACJ,CAAC8K,EAAU7N,EAAO/E,EAAIoF,EAAQrI,EAAMF,SAAUiT,EAAM5V,EAAK1B,IAC7D,OACI,yBAAKsE,MAAO,CAACpG,SAAS,QAAQoO,KAAKpO,EAASgF,EAAEqX,OAAOrc,EAASkH,IACzDyI,EAAQ/O,KAAI,SAAC2R,EAAQvR,GAAT,OACT,kBAAC,WAASyG,IAAV,CAAczG,IAAG,UAAKqN,EAAL,YAAcrN,GAAOoF,MAAK,2BAAMmM,GAAWvB,IACxDiE,QAAS,SAAA1N,GAAC,OAAE6U,EAAO7U,EAAGvG,KACpBmF,EAAiBnF,SChCjCsb,I,4BACF,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUC,KAAK,IAAQC,UAAWvE,GAAMwE,OAAK,IADjD,cAEI,kBAAC,IAAD,CAAUF,KAAK,QAAQC,UAAWvE,KAClC,kBAAC,IAAD,CAAUsE,KAAK,QAAQC,UCZf,WAAM,MAEFpE,GAAoBpC,GAAYD,IAF9B,mBAEnBtK,EAFmB,KAEb+M,EAFa,OCNP,SACnBkE,GAYE,IAXFC,EAWC,uDAX2B,KAC5BC,EAUC,uDAV2B,KAC5BC,EASC,uDATmC,GAUhC1P,EAAGM,IAAIiP,KAAaA,EAAaA,KACjCvP,EAAGJ,IAAI2P,KAAaA,EAAa,IAAIvS,IAAIuS,IAC7C,IAAMI,EAAa5d,mBACb6d,EAAa7d,iBAAOyd,GACpBK,EAAa9d,iBAAO0d,GACpBK,EAAa/d,iBAAO2d,GACpBK,EAAahe,kBAAgB,GAPlC,EAQkBuF,mBAAa,MAR/B,mBAQM0Y,EARN,KAQW3Z,EARX,KAUD4B,qBAAU,WACF4E,EAAc8S,EAAUtc,QAASkc,KACrCI,EAAUtc,QAAUkc,EACfQ,EAAW1c,UACX0c,EAAW1c,SAAU,EACtBuc,EAAUvc,SACVuc,EAAUvc,QAAQsc,EAAUtc,SAAS+V,MAAK,SAACC,GACvC1F,YAAW,WAAYoM,EAAW1c,SAAU,IAAQ,KACpDgD,GAAI,SAAA8L,GAAG,OAAIkH,GAAOlH,YAE3B,CAACoN,IAKJ,IAAMU,EAAUjb,uBAAY,SAACkb,GAAiD,IAAvCC,EAAsC,uDAAzB,KAAKC,EAAoB,uDAAP,GAClE,IAAKL,EAAW1c,QAAhB,CACK0c,EAAW1c,SAAU,EACtB2M,EAAGM,IAAI4P,KAAeA,EAAYA,EAAUF,IAC5ChQ,EAAGJ,IAAIsQ,KAAeA,EAAY,IAAIlT,IAAIkT,IAC1ClQ,EAAGS,IAAI0P,KAAeA,EAAeP,EAAUvc,SACnD,IAAMgd,EAAcV,EAAUtc,QAC9Bsc,EAAUtc,QAAU6c,EACpBN,EAAUvc,QAAU8c,EACpBL,EAAUzc,QAAV,2BAAwByc,EAAUzc,SAAY+c,GAC1CR,EAAUvc,SACVuc,EAAUvc,QAAQ6c,GAAW9G,MAAK,SAACC,GAC/B1F,YAAW,kBAAOoM,EAAW1c,SAAU,IAAQ,KAC/CgD,GAAI,SAAA8L,GAEA,GADApO,QAAQC,IAAI,WACP6I,EAAcwT,EAAaV,EAAUtc,SAAU,OAAOgW,EAFpD,MAGiByG,EAAUzc,QAA3BiK,gBAHA,MAGS,KAHT,EAIW,oBAAXA,GAAyBA,IAChC,IAAMgT,EAAOnO,GACRA,EAAIoO,SAAS,IAAI7S,QAAO,SAACgG,GAAD,QACxB2F,EAAIkH,SAAS,IAAI3S,MAAK,SAACqP,GAAD,OAAWA,EAAEzP,KAAKkG,EAAElG,SAC3C,GACJ,OAAO,2BAAI6L,GAAX,IAAgBkH,QAAQ,GAAD,mBAAKD,GAAL,YAAcjH,EAAIkH,qBAGtD,CAACP,IAGEQ,EAAWxb,uBAAY,WAAwC,IAAvCyb,EAAsC,uDAAzB,KAAKL,EAAoB,uDAAP,GACpDL,EAAW1c,UACX0c,EAAW1c,SAAU,EACtB2M,EAAGS,IAAIgQ,KAAeA,EAAeZ,EAAUxc,SACnDwc,EAAUxc,QAAUod,EACpBX,EAAUzc,QAAV,2BAAwByc,EAAUzc,SAAY+c,MAM/C,IACH,MAAO,CAACJ,EAAMC,EAASO,GDrECE,CAAQpS,EAAKxB,KAAK,GAAIkM,IAHpB,mBAGnBgH,EAHmB,KAGbW,EAHa,OEuBP,SACnBC,EACAC,GAMa,IALbC,EAKY,uDALmB5R,EAMzB6R,EAAYhf,iBAAgB6e,GAC5BI,EAAYjf,iBAAmB8e,GAC/Bf,EAAY/d,iBAAM,2BAAiBmN,GAAqB4R,IAHlD,EAIgBG,aAAWnB,EAAUzc,QAAQO,MAJ7C,mBAILsd,EAJK,KAII7a,EAJJ,KAIS8a,EAJT,OAKgB7Z,mBAAS,CAACsS,SAASsH,EAAQtH,UAAU,GAAGwH,SAAS,GAAGC,MAAM,KAL1E,mBAKLC,EALK,KAKGC,EALH,KAONC,EAAUxc,uBAAY,WAItB,IAHFkb,EAGC,uDAHc,KACfuB,EAEC,uDAFc,KACfrB,EACC,uDADc,GACd,EAC+DU,EAAzD1R,cADN,MACa,KADb,IAC+D0R,EAA7CzR,gBADlB,MAC2B,KAD3B,IAC+DyR,EAA/BxR,iBADhC,MAC0C,KAD1C,IAC+DwR,EAAhBY,eAD/C,MACuD,KADvD,EAKD,OAHIxB,IAAiBa,EAAO1d,QAAU6c,GAClCuB,IAAcT,EAAU3d,QAAUoe,GAClCrB,IAAcN,EAAUzc,QAAU+c,GAC9Bc,EAAQrH,WACXsH,EAAI,YAAY,CAAC/B,KAAK,MAAOhQ,GAAQA,IAAUE,GAAWA,KAC3D0R,EACC3d,QAAQ0d,EAAO1d,QAASie,GACxBlI,MAAM,SAACjK,GACJ,IAAKA,EAAKyK,WAAazK,EAAK0K,UACxB,MAAM,IAAIP,MACdlK,GAAYA,IAAY/I,EAAI,WAAY8I,EAAKyK,SAAU,CAACwF,KAAK,MAC7D/P,GAAYA,IAAYhJ,EAAI,YAAY8I,EAAK0K,UAAU,CAACuF,KAAK,SAEhEuC,OAAM,SAACvW,GAAD,OAASsW,GAASA,SAC9B,CAACR,EAAQ7a,EAAI8a,EAAIG,EAAOR,IAErBxT,EAAWtI,uBAAY,YAAmB,IAAjB4c,EAAgB,EAAhBA,OAC3BL,GAAU,SAAA7N,GAAC,kCAASA,GAAT,kBAAakO,EAAOC,KAAMD,EAAO9d,aAC7C,IACGqL,EAAOjN,mBAAc,iBAAO,CAC9B0X,SAAUsH,EAAQtH,UAAW,GAAIkI,SAASZ,EAAQrH,UAClDA,UAAUqH,EAAQrH,WAAW,GAAIkI,MAAOre,OACnC8K,QAAQ,CAACoL,SAAS,OAAOwH,SAAS,OAAOC,MAAM,aAC/C5d,KAAI,mCAAEoe,EAAF,KAAOtK,EAAP,yBACDyK,MAAM,aAAD,OAAeH,GAAQ/d,MAAQwd,EAAeO,GAAOA,OAAMtK,OAChEnQ,OAAO,EAAM6a,UAAS,EAAM5K,KAAa,aAAPwK,EAAkB,OAAOA,EAAMvU,YACtD,aAAPuU,EAAkB,CAACK,aAAa,MAAM,CAACC,MAAM,QAAQC,QAAQ,gBAEzE,CAAClB,EAASI,EAAQhU,IACtB,MAAO,CAAC6B,EAAMqS,GFrEUa,CAAQ/T,EAAKxB,KAAK,GAAI0M,GAAQ,CAACpK,OAAO,kBAAIiM,EAAQ,CAACtC,OAAO,QAJxD,mBAInB5J,EAJmB,KAIbqS,EAJa,OAMFla,mBAAiBgH,EAAKrD,UANpB,mBAMnBqX,EANmB,KAMbC,EANa,OAOFzE,YAAiB,CAACC,GAAG,EAAGC,GAAG,MAPzB,mBAOnBrZ,EAPmB,KAObuZ,EAPa,OAQFJ,YAAiB,CAACC,GAAG,EAAGC,GAAG,IARzB,mBAQnBtZ,EARmB,KAQbuZ,EARa,KAUpBjS,EAAe9J,mBAAQ,kBAAI,kBAAIye,GAAQ,SAAAjN,GAAC,cAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAG8O,WAAM,CAAC7B,IACpD7I,EAAe5V,mBAAQ,kBAAI,kBAAImZ,EAAQ,CAAC7N,GAAG,QAAQ,CAAC6N,IACpDhM,EAAenN,mBAAQ,kBAAI,kBAAImZ,GAAQ,SAAA3H,GAAC,MAAG,CAACqF,OAAoB,KAAbrF,EAAEqF,OAAc,KAAK,UAAQ,CAACsC,IACjFoH,EAAevgB,mBAAQ,kBAAI,kBAAImZ,GAAQ,SAAA3H,GAAC,MAAG,CAACqF,OAAkB,OAAXrF,EAAEqF,OAAc,KAAK,YAAQ,CAACsC,IAb7D,EAcLnZ,mBAAQ,WACzB,IAAM+G,EAAQ,CAACyB,UAAU,kBAAkBuG,KAAK,MAAM6C,UAAe,GAALnP,GAChE,MAAO,CAAC,UAAU,cAAclB,KAAI,SAAAgY,GAAE,OAAK,kBAAC,GAAS,CAACA,KAAG9W,OAAKsE,QAAM6O,iBACrE,CAACnT,EAAKmT,IAjBiB,mBAcnB7G,EAdmB,KAcdD,EAdc,KAkB1B,OACI,yBAAK/H,MAAO,CAACW,WAAWlF,EAAK,OAAO,UAAU6E,UAAU,OAAOmZ,WAAgB,IAAL/d,EAAS+E,SAAS,WACxF,kBAAC,IAAD,KACI,+BAAQsW,EAAK,OAAO,cACpB,0BAAM2C,QAAQ,UACd,0BAAMd,KAAK,mBAAmBzK,QAAQ,cACtC,0BAAMkH,IAAI,YAAYlQ,KAAK,sBAE/B,kBAAC,GAAS,CAAC1J,OAAKC,OAAKmT,WAArB,QACEkI,GAAQA,EAAKO,mBAAmBnb,OAClC,kBAAC,EAAWkJ,EAAKT,OAAO,GAAG,CAAClJ,OAAKsM,OAAKD,SAAUgP,EAAKO,QAAQ9c,KAAI,oBAC7Dmf,eAD6D,MACrD,GADqD,MAE7DC,eAF6D,MAErD,GAFqD,MAE7CrV,UAF6C,MAE1C,GAF0C,SAG7D,yBAAK3J,IAAK2J,GACN,kBAAC,EAAD,2BAAcc,EAAKT,OAAO,CAACzH,IAAI,IAAI0R,QAAQ,kBAAIuD,EAAQ,CAAC7N,GAAGA,EAAG,OAAM,CAAC7I,SAArE,IAA2ED,SACvE,kBAAC,KAAD,CAAMmC,MAAOnC,EAAK,OAAO,UAAWuE,MAAO,CAACkI,SAAS,UAChD2R,OAAe,OAAPR,EAAYM,EAAQC,UAfjD,MAkBmB7C,GAAQA,EAAKwC,OAC5B,kBAAC,EAAS,CAAC7d,OAAKqH,SAAO8L,QAAQ,kBAAI6I,GAAQ,SAAAjN,GAAC,OAAEA,GAAG,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG8O,QAAH,OAAS9O,QAAT,IAASA,OAAT,EAASA,EAAGqP,KAAI,WAEhE,kBAAC,GAAU,CAACre,OAAKC,OAAKgT,OAAOrJ,EAAKyK,OAAOyF,QAAQ,kBAAInD,EAAQ,CAACtC,OAAO,OACjE,kBAAC,EAAS,CAACrU,OAAKC,OAAKsE,MAAM,CAAC7C,IAAI,UAC5B,kBAAC,GAAS,CAAC1B,OAAKC,OAAK8d,gBAArB,QAA0CtT,EAAK2S,OAAO,MAAMxT,EAAKyK,SAC/D5J,EAAK2S,QAAU3S,EAAK4S,MAAMte,KAAI,SAACkK,EAAE8H,GAAH,MAAgB,UAAT9H,EAAEkU,MAA8B,OAAdvT,EAAKyK,OAAc,KAC5E,kBAAC,KAAD,iBAAcpL,EAAd,CAAiB9J,IAAK4R,QACtB,kBAAC,KAAD,CAAQ5O,MAAM,UACVoC,MAAO,CAACzH,MAAM,OAAOwhB,YAAiB,GAALre,GACjCmT,QAAS,kBAAI0J,EAAQlT,EAAKxB,KAAK,KAC/B9D,SAAUmG,EAAK2S,OAAO,UAAU,WAI5C,kBAAC,GAAU,CAACnd,QACR,uBAAGmT,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,MAArC,QACA,uBAAG0J,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,UAArC,SAEJ,kBAAC,GAAU,CAACzJ,QACR,yBAAKmT,QAAS,kBAAIyK,GAAQ,SAAA7O,GAAC,MAAM,OAAJA,EAAS,KAAK,UAAQ4O,EAAK7V,eACxD,yBAAKqL,QAAS,kBAAImG,GAAQ,SAACvK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQrZ,EAAK,eAAK,gBACpE,yBAAKoT,QAAS,kBAAIoG,GAAQ,SAACxK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQpZ,EAAK,EAAE,eAAK,iBAE1E,kBAAC,GAAU,CAACA,QACR,kBAAC,GAAD,eAAM8W,GAAG,cAAwB,CAAC/W,OAAKC,QAAvC,CAA8CmT,QAAS,kBAAI,QACvD,kBAAC,GAAD,eAAM2D,GAAG,cAAoB,CAAC/W,OAAKC,QAAnC,CAA0CmT,QAASA,KACnD,kBAAC,GAAD,eAAM2D,GAAG,kBAAoB,CAAC/W,OAAKC,QAAnC,CAA0CmT,QAASU,MACnD,kBAAC,GAAD,eAAMiD,GAAG,eAAoB,CAAC/W,OAAKC,QAAnC,CAA0CmT,QAASzI,WDpDvD,kBAAC,IAAD,CAAU+P,KAAK,QAAQC,UHPf,WAAO,IAAD,MACF/X,oBAAuB,QAAN,EAAApG,cAAA,mBAAQmK,iBAAR,eAAmBJ,WAAU,MAD5C,mBACnBqX,EADmB,KACbC,EADa,OAEFzE,YAAiB,CAACC,IAAG,EAAMC,IAAG,IAF5B,mBAEnBtZ,EAFmB,KAEbuZ,EAFa,OAGFH,YAAiB,CAACC,GAAG,EAAOC,GAAG,MAH7B,mBAGnBrZ,EAHmB,KAGbuZ,EAHa,KAI1B,OACI,oCACI,yBAAKjV,MAAK,2BAAM4K,IAAN,IAAkBjK,WAAWlF,EAAK,OAAO,UAC/C,kBAAC,IAAD,CAAQ4V,GAAI,CAAE2I,OAAO,EAAO1I,WAAW,EAAOC,wBAAwB,GAC9D7S,OAAQ,CAAE9E,SAAS,CAAC,EAAE,EAAE,KAAMqgB,IAAI,KAClCvI,WAAYzZ,OAAO0Z,iBACnBH,UAAY,YAAe,IAAbH,EAAY,EAAZA,GACVA,EAAGI,eAAiB/X,eACpB2X,EAAG6I,YAAiBxgB,0BAC5B,kCAAcwb,UAAW,MACzB,gCAAYtb,SAAU,CAAC,IAAK,IAAK,KAAMsb,UAAW,MAClD,gCAAYtb,SAAU,EAAE,KAAM,KAAM,KAAMsb,UAAW,EAAGtX,MAAM,QAC9D,gCAAYhE,SAAU,CAAC,GAAG,IAAK,GAAI+D,KAAM,CAAC,IAAK,MAC/C,kBAAC,KAAD,KACI,kBAAC,EAAD,CAAQrF,IAAI,+BAIxB,kBAAC,IAAD,KACI,gDACA,0BAAM+c,IAAI,YAAYlQ,KAAK,sBAE/B,kBAAC,GAAU,CAACzJ,QACR,uBAAGmT,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,MAArC,QACA,uBAAG0J,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,UAArC,SAEJ,kBAAC,GAAU,CAACzJ,QACR,yBAAKmT,QAAS,kBAAIyK,GAAQ,SAAA7O,GAAC,MAAM,OAAJA,EAAS,KAAK,UAAQ4O,EAAK7V,eACxD,yBAAKqL,QAAS,kBAAImG,GAAQ,SAACvK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQrZ,EAAK,eAAK,gBACpE,yBAAKoT,QAAS,kBAAIoG,GAAQ,SAACxK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQpZ,EAAK,GAAG,eAAK,qBGzBvE,kBAAC,IAAD,CAAUya,KAAK,QAAQC,ULfhB,WAAO,IAAD,EACDvB,YAAgB,CAACC,GAAG,EAAGC,GAAG,IADzB,mBAClBtZ,EADkB,KACZuZ,EADY,OAEDH,YAAgB,CAACC,GAAG,EAAGC,GAAG,MAFzB,mBAElBrZ,EAFkB,KAEZuZ,EAFY,OAGDjD,GAAkBlB,IAHjB,mBAGlBzL,EAHkB,KAGZ+M,EAHY,OAIDyC,YAAQ,CAACsF,GAAG,EAAEC,GAAG,IAAIrF,GAAG,MAJvB,mBAIlBsF,EAJkB,KAIZC,EAJY,KAKnBta,EAAQ/G,mBAAQ,iBAAO,CAACuH,OAAO,GAAD,OAAS,GAAL9E,EAAJ,mBAA2B,GAALA,EAAtB,WAAuC+G,QAAQ,UAAS,CAAC/G,IAC7F,OACA,yBAAKsE,MAAK,2BAAM4K,IAAN,IAAkBjK,WAAWlF,EAAK,OAAO,UAC/C,kBAAC,GAAD,CAAOoM,MAAO,CAACwS,EAAKpiB,OAAO+I,YAAa,GAAIhB,MAAO,CAACyZ,WAAgB,IAAL/d,EAAShD,OAAO,SAC3E,oCACI,kBAAC,EAAD,eAAM2H,IAAK,GAAO,CAAC5E,OAAKC,OAAKsE,UACzB,kBAAC,GAAU,CAACvE,OAAKC,KAAKA,EAAK,GACrBmV,GAASrW,KAAI,SAAC+f,EAAIzgB,GAAL,OAAWygB,aAAepe,MACrC,0BAAMvB,IAAKd,GAAKygB,EAAI/f,KAAI,SAAC+J,EAAIxK,GAAL,OACxB,0BAAMa,IAAK2J,EAAIsK,QAAS,kBAAM9U,GAAGqY,EAAQ,CAAC7N,SAAOA,OACjD,0BAAM3J,IAAKd,EAAI+U,QAAS,kBAASuD,EAAQ,CAAC7N,GAAGgW,MAAQA,QAG/DlV,EAAKtD,MACP,kBAAC,EAAD,eAAM1B,IAAK,GAAO,CAAC5E,OAAKC,OAAKsE,UACzB,kBAAC,EAAS,CAAC+B,KAAKsD,EAAKtD,KAAKtG,OAAKC,WAGvC,yBAAKsE,MAAO,CAACyC,QAAa,GAAL/G,IAChB2J,EAAK0L,MAAQ,kBAAC1L,EAAK0L,KAAN,QAGtB,kBAAC,GAAU,CAACrV,QACR,0BAAMmT,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,MAAxC,QAA4D,oCAC5D,0BAAM0J,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,UAAxC,QACA,0BAAM0J,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,eAAxC,QACA,0BAAM0J,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,eAAxC,SACA,0BAAM0J,QAAS,kBAAI5W,OAAOC,SAASiN,KAAK,UAAxC,SAEJ,kBAAC,GAAU,CAACzJ,QACR,yBAAKmT,QAAS,kBAAImG,GAAQ,SAACvK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQrZ,EAAK,eAAK,gBACpE,yBAAKoT,QAAS,kBAAIoG,GAAQ,SAACxK,GAAD,MAAU,CAACqK,GAAGrK,EAAEsK,GAAGA,GAAGtK,EAAEqK,SAAQpZ,EAAK,GAAG,eAAK,gBACvE,yBAAKmT,QAAS,kBAAIyL,GAAQ,SAAC7P,GAAD,OAASA,EAAEsK,GAAG,CAACoF,GAAG,EAAEC,GAAG,EAAErF,GAAG,GAAG,CAACoF,GAAG,EAAEC,GAAG,IAAIrF,GAAG,UAAQsF,EAAK,eAAK,iBAE/F,kBAAC,IAAD,KACI,0CAAgBhX,EAAMgC,EAAKd,KAC3B,0BAAM8Q,IAAI,YAAYlQ,KAAK,0BKzBvB,kBAAC,IAAD,CAAUgR,KAAK,QAAQ7K,GAAG,MAC1B,kBAAC,IAAD,CAAuBA,GAAG,cAM1CkP,IAASC,OAAQvE,GAAM/c,SAASqW,eAAe,S7B2GzC,kBAAmBpN,WACrBA,UAAUsY,cAAcC,MACrBxK,MAAK,SAAAyK,GACJA,EAAaC,gBAEdnC,OAAM,SAAAQ,GACLpe,QAAQoe,MAAMA,EAAM4B,c","file":"static/js/main.1d008239.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nconst cropValue=(dir:any)=>Object.assign({},...Object.keys(dir).map(key=>({[key]:{value:dir[key]}})))\r\n\r\n\r\nconst vertexShader = `\r\nvarying vec2 vUv;\r\nuniform sampler2D map;\r\nuniform float width, height, pointSize, zOffset, nearClipping, farClipping;\r\nconst float XtoZ = 1.11146; // tan( 1.0144686 / 2.0 ) * 2.0;\r\nconst float YtoZ = 0.83359; // tan( 0.7898090 / 2.0 ) * 2.0;\r\n\r\nvoid main() {\r\n    vUv = vec2( position.x / width, position.y / height );\r\n    vec4 color = texture2D( map, vUv );\r\n    float depth = ( color.r + color.g + color.b ) / 3.0;\r\n\r\n    // Projection code by @kcmic\r\n    float z = ( 1.0 - depth ) * (farClipping - nearClipping) + nearClipping;\r\n    vec4 pos = vec4(\r\n        ( position.x / width - 0.5 ) * z * XtoZ,\r\n        ( position.y / height - 0.5 ) * z * YtoZ,\r\n        - z + zOffset,\r\n        1.0\r\n    );\r\n\r\n    gl_PointSize = pointSize;\r\n    gl_Position = projectionMatrix * modelViewMatrix * pos;\r\n}\r\n`\r\nconst fragmentShader = `\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    vec4 color = texture2D( map, vUv );\r\n    gl_FragColor = vec4( color.r, color.g, color.b, 0.2 );\r\n}\r\n`\r\n\r\nexport const Kinect = ({ url, /*center=[0,0,-1000],*/\r\n        width=640, nearClipping=850, pointSize=2,\r\n        height=850, farClipping=4000, zOffset=1000,\r\n    }:any) => {\r\n    // ******************** Mount ******************** //\r\n    const geometry = useRef<any>()\r\n    const material = useRef<any>()\r\n    const texture = useMemo<any>(()=>{\r\n        const video = document.createElement('video', )\r\n        video.src = url\r\n        video.loop  = true; video.load();\r\n        video.muted = true; video.play();\r\n        return new THREE.VideoTexture( video )\r\n    }, [url])\r\n    // ******************** Render ******************** //\r\n    useFrame((/*{camera, mouse}*/)=>{\r\n        const position = new Float32Array( width*height*3 )\r\n        for ( var i=0, j=0, l=position.length; i<l; i+=3, j++ ) {\r\n            position[i]   = j % width;\r\n            position[i+1] = Math.floor( j/width );\r\n        }\r\n        geometry.current?.setAttribute( 'position', new THREE.BufferAttribute(position,3) );\r\n    })\r\n    const uniforms = cropValue({\r\n        map:texture,width,height,nearClipping,farClipping,pointSize,zOffset\r\n    })\r\n    console.log('Render Kinect');\r\n    return (\r\n        <>\r\n            <points position={[0,0,500]} >\r\n                <bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n                <shaderMaterial ref={material} attach=\"material\"\r\n                    {...{uniforms,fragmentShader,vertexShader}}\r\n                    depthTest ={false} blending={THREE.AdditiveBlending}\r\n                    depthWrite={false} transparent />\r\n            </points>\r\n        </>\r\n    )\r\n}\r\n","import React, {useCallback, useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const Swarm = ({ dark=false, size=50, count=25}:any) => {\r\n    const mesh = useRef<any>(null)\r\n    const dummy = useMemo(() => new THREE.Object3D(), [])\r\n    const random = useCallback((mul=1,add=0)=>add+Math.random()*mul, [])\r\n    const particles = useMemo(() => [...Array(count)].map(()=>({\r\n        t     :random(100),       xFactor:random(40,-20), mx:0,\r\n        factor:random(100,2),     yFactor:random(40,-20), my:0,\r\n        speed :random(1/200,0.01),zFactor:random(40,-20),})), [random,count])\r\n    useFrame(() => {\r\n        particles.forEach((particle, i) => {\r\n            let { t, factor, speed, xFactor, yFactor, zFactor } = particle\r\n            t = particle.t += speed / 2\r\n            const a = Math.cos(t) + Math.sin(t * 1) / 10\r\n            const b = Math.sin(t) + Math.cos(t * 2) / 10\r\n            const s = Math.max(1.5, Math.cos(t) * size / 10)\r\n            dummy.position.set(\r\n                (particle.mx/10)*a + xFactor + Math.cos((t/10)*factor) + (Math.sin(t*1)*factor)/10,\r\n                (particle.my/10)*b + yFactor + Math.sin((t/10)*factor) + (Math.cos(t*2)*factor)/10,\r\n                (particle.my/10)*b + zFactor + Math.cos((t/10)*factor) + (Math.sin(t*3)*factor)/10,\r\n            )\r\n            dummy.scale.set(s, s, s)\r\n            dummy.updateMatrix()\r\n            mesh.current.setMatrixAt(i, dummy.matrix)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <>\r\n            <instancedMesh ref={mesh} args={[null,null,count] as [any,any,number]}>\r\n                <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                <meshPhongMaterial attach=\"material\" color={dark?0x000000:0xffffff} />\r\n            </instancedMesh>\r\n        </>\r\n    )\r\n}\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n//import { draco } from 'drei'\r\n\r\n\r\nexport const Model = ({dark=true, size=50, mouse={current:[0,0]}, position=[0,-11,0],scale=[7,7,7]}:any) => {\r\n    const url = \"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb\"\r\n    const {animations, nodes}:any = useLoader(GLTFLoader, url, )\r\n    const group = useRef<any>(null)\r\n    const actions = useRef<any>(null)\r\n    //const [action] = useState(3)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(undefined as any))\r\n    const modelPos  = {x:0,y:0}\r\n    useFrame(({camera}:any, delta)=>{\r\n        mixer.update(delta)\r\n        if(! group?.current?.position) return\r\n        group.current.position.x = modelPos.x\r\n        group.current.position.z = modelPos.y\r\n        camera.updateProjectionMatrix(void (\r\n            camera.lookAt(new THREE.Vector3(modelPos.x/2,0,modelPos.y/2))))\r\n    })\r\n    useEffect(() => {\r\n        const actionNum = size > 50 ? 3 : 1\r\n        actions.current = { idle: mixer.clipAction(animations[actionNum], group.current) }\r\n        actions.current.idle.play()\r\n        actions.current.idle.weight = 1\r\n        actions.current.idle.timeScale = 1\r\n        return () => animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [animations,mixer,size])\r\n    if (!nodes)\r\n        return null\r\n    return (\r\n        <group ref={group} {...{position, scale}} dispose={null}>\r\n          <group rotation={[Math.PI/2,0,0]} scale={[0.01,0.01,0.01]}>\r\n            <primitive object={nodes[\"mixamorigHips\"]} />\r\n            <skinnedMesh geometry={nodes[\"Beta_Joints\"].geometry}\r\n                skeleton={nodes[\"Beta_Joints\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x212121:0x000000}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n            <skinnedMesh geometry={nodes[\"Beta_Surface\"].geometry}\r\n                skeleton={nodes[\"Beta_Surface\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x000000:0xffffff}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n          </group>\r\n        </group>\r\n    )\r\n}\r\n","/***Card\r\n  *     Ref : https://codesandbox.io/embed/rj998k4vmm\r\n  *           https://coliss.com/articles/build-websites/operation/css/\r\n ***/\r\nimport React, {FC, useCallback, useMemo} from 'react'\r\nimport { BasedProps } from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nexport type Card = FC<BasedProps<{\r\n    max:null|number,\r\n    min:null|number\r\n}>>\r\nexport const Card:Card = ({children, size=1, style={}, ...props}) => {\r\n    const [{xys}, set] = useSpring(()=>({xys:[0,0,0]}))\r\n    const styleCard = useMemo(() => {\r\n        const {dark=false,color=\"\",max=null, min=null} = props\r\n        const minHeight = min||size*500\r\n        const maxHeight = max||null//size*500\r\n        return {margin:\"auto\", overflow:\"hidden\", borderRadius:size*25,\r\n                ...(minHeight&&{minHeight}), background : dark?\"#212121\":\"#fff\",\r\n                ...(maxHeight&&{maxHeight}), color:color||dark?\"#818181\":\"#000\",\r\n                width:`min(80%,${size*500}px)`, }\r\n    }, [size, props])\r\n    const calc = useCallback(({clientX:x, clientY:y})=>[\r\n       (x - window.innerWidth  / 2) / size / 250, // -1 ~ 1\r\n       (y - window.innerHeight / 2) / size / 250, // -1 ~ 1\r\n        1], [size])\r\n    const onMouseMove = useCallback((e) => set({xys:calc(e)}), [set,calc])\r\n    const onMouseLeave = useCallback(() => set({xys:[0,0,0]}), [set,])\r\n    return useMemo(()=>\r\n        <a.div style={{\r\n            boxShadow:xys.interpolate((x,y,s) => [\r\n                `${0.5-x*2}rem`,//offset-x     : -1.5 ~ 0.5 ~ 2.5\r\n                `${1.5-y*2}rem`,//offset-y     : -0.5 ~ 1.5 ~ 3.5\r\n                `${1.5 + s}rem`,//blur-radius  : 1.5 =hover=> 2.5\r\n                `${s - 0.5}rem`,//spread-radius:-0.5 =hover=> 0.5\r\n                `hsl(200 50% 20% / ${15+s*5}%)`].join(' ')),\r\n            transform:xys.interpolate((x,y,s) => [\r\n                `perspective(${size*50}px)`,\r\n                `rotateX(${-y/10}deg)`,//-0.1 ~ 0.1\r\n                `rotateY(${ x/10}deg)`,//-0.1 ~ 0.1\r\n                `scale(${1+s/10})` ,].join(' ')),\r\n            ...styleCard, ...style }}\r\n           {...{...props,onMouseMove,onMouseLeave,children}}/>\r\n        , [style,styleCard,xys,onMouseMove,onMouseLeave,children,props,size])\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {Card as Target} from '../../../src'\r\nexport const Card:FC = () => {\r\n    return (\r\n        <Target />\r\n    )\r\n}\r\n","import React, {FC, useCallback, useMemo} from \"react\";\r\nimport {BasedProps} from '../types'\r\nconst {atomOneLight, atomOneDark} = require('react-syntax-highlighter/dist/esm/styles/hljs');\r\nconst {Light} = require('react-syntax-highlighter');\r\n\r\nexport type Code = FC<BasedProps<{\r\n    code:string, language:string, inline:boolean\r\n}>>\r\nexport const Code:Code = ({\r\n    code='', language=\"javascript\", inline=false, dark=false, style={}, ...props//children,\r\n}) => {\r\n    const onDoubleClick = useCallback((_:any)=>navigator.clipboard.writeText(code),[code])\r\n    const customStyle = useMemo(()=>{\r\n        return {...(inline?{verticalAlign:\"top\",padding:0}:{}),\r\n            display:inline?\"inline-block\":\"fixed\", position:'relative', margin:0,}\r\n    }, [inline])\r\n    return <Light   {...props} PreTag={inline?\"span\":\"pre\"}    useInlineStyles={true}\r\n                    {...{customStyle, onDoubleClick, language}}showLineNumbers={!inline}\r\n             style={{...(dark?atomOneDark:atomOneLight),...style}}>\r\n                    {code}</Light>\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {Code as Target} from '../../../src'\r\nexport const Code:FC = () => {\r\n    return (\r\n        <Target />\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC,useEffect, useMemo, useRef} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useView} from 'use-grid'\r\nexport type Grow = FC<BasedProps>\r\nexport const Grow:Grow = ({\r\n    onView=null, role=\"status\",\r\n    size=1, className=\"spinner-grow\", ...props\r\n}) => {\r\n    const fn = useRef()\r\n    const ref = useRef(null)\r\n    useEffect(()=>{fn.current = onView}, [onView])\r\n    useView(ref, (e:any) => 1\r\n        && e.isIntersecting\r\n        && typeof fn.current===\"function\"\r\n        && (fn.current as any)())\r\n    const style = useMemo<CSS>(()=>({\r\n        position:\"relative\",display:\"grid\",margin:`${size*50}px auto 0 auto`,\r\n        width:size*250,height:size*250,...(props.style||{})\r\n    }), [size, props.style])\r\n    return <div  {...props} {...{ref,role,className,style}} />\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {Grow as Target} from '../../../src'\r\nexport const Grow:FC = () => {\r\n    return (\r\n        <Target />\r\n    )\r\n}\r\n","import {Page, PageConfig, URLType, UserConfig} from './types'\r\nexport const topUp =(text:any)=> \"\"+text.charAt(0).toUpperCase()+\"\"+text.slice(1).toLowerCase()\r\nexport const clamp = (x:number, min=0, max=1) :number  => (x<min)?min:(x>max)?max:x\r\nexport const swap=(arr:number[],ind:number,row:number) => {\r\n    const ret = [...arr.slice(0, ind), ...arr.slice(ind+1, arr.length)]\r\n    return [...ret.slice(0, row), ...arr.slice(ind, ind+1), ...ret.slice(row)]\r\n}\r\nexport const equalPathname = (...urls:(URLType|string|undefined|null|false)[]) =>\r\n    urls.map(u => typeof u===\"string\"? new URL(u) : u)\r\n        .map(u => u && joinURL(u.pathname, \"/\"))\r\n        .every((u, _, self) => u===self[0])\r\n\r\n// *************************  use-page  ************************* //\r\nexport const defaultPageConfig:PageConfig = {\r\n    onChange:null,\r\n}\r\nexport const defaultPage = {\r\n    id      :window.location.pathname.split('/').filter(v=>v).find((_,i)=>i===1)||\"\",\r\n    isHome  :window.location.pathname.split('/').filter(v=>v).length > 1,\r\n    isLocal :window.location.hostname===\"localhost\",\r\n    protocol:window.location.protocol ||\"\",\r\n    hostname:window.location.hostname ||\"\",\r\n    portname:window.location.port     ||\"\",\r\n    pathname:window.location.pathname ||\"\",\r\n    search  :window.location.search   ||\"\",\r\n    hash    :window.location.hash     ||\"\",\r\n    language:window.navigator.language||\"ja\",\r\n    urls    :[new URL(window.location.href)],\r\n}\r\nexport const joinPage = <T={}>(page:Page<T>):string|string[] => {\r\n    const {protocol,hostname,portname,pathname=\"\",search=\"\",hash=\"\"} = page;\r\n    const arr  =[protocol,hostname,portname,pathname,search,hash]\r\n    const getp =(port:any)=>port?`:${port}`:\"\"\r\n    const geti =(i=0,n:any)=>n instanceof Array?(i<n.length?n[i]:n[n.length-1]):n\r\n    if (arr.every(v=>typeof v===\"string\"))\r\n        return joinURL(`${protocol}//${hostname}${getp(portname)}/`,pathname as any, search as any)\r\n    const maxLength = arr.map(v=>v instanceof Array?v.length:1).reduce((a,b)=>a>b?a:b)\r\n    return [...Array(maxLength)].map((_,i) =>\r\n        joinURL( `${geti(i,protocol)}//${geti(i,hostname)\r\n            }${getp(geti(i,portname))}/`,geti(i,pathname),geti(i,search) )\r\n    ) as string[]\r\n}\r\nexport const normPage = <T extends {}={}>(page:Page<T>) => {\r\n    const state = {...page} as any//Page<T>\r\n    Object.entries(state).sort(([_,val]) => typeof val===\"function\"?1:-1)\r\n    .forEach(([key,val]:any) => (state[key]=typeof val===\"function\"?val(state):val))\r\n    const urls = joinPage<T>(state as Page<T>)\r\n    return {...state, urls:urls instanceof Array\r\n      ? urls.map((u:any) => typeof u===\"string\" ? new URL(u) : u) as URLType[]\r\n      : [typeof urls===\"string\" ? new URL(urls) : urls] as URLType[] } as Page<T>\r\n}\r\n\r\n// *************************  For useUser  ************************* //\r\nexport const defaultUserConfig:UserConfig = {\r\n    keys:['username','authtoken'],\r\n    user:null,\r\n    onSign:null,\r\n    onSignin:null,\r\n    onSignout:null\r\n}\r\n// *************************  join-url  ************************* //\r\n// * This function is fork of join-url/urljoin\r\n// * Code : https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\r\n// ************************* *************** ************************* //\r\nexport function joinURL (...strArray:(string|number)[]) : string {\r\n    var resultArray = [];\r\n    if (strArray.length === 0) return ''\r\n    if (typeof strArray[0] !== 'string') throw new TypeError('Url must be string.');\r\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1)\r\n        strArray[0] = strArray.shift() + strArray[0];\r\n    if (strArray[0].match(/^file:\\/\\/\\//))\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\r\n    else\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\r\n    strArray = strArray.filter(str=>str!==\"\")\r\n    for (var i = 0; i < strArray.length; i++) {\r\n        let str = strArray[i];\r\n        if (typeof str === 'number') str = String(str)\r\n        if (typeof str !== 'string') throw new TypeError(`${str} must be a string. Received ${typeof str}`);\r\n        if (str === '') continue;\r\n        if (i > 0) str = str.replace(/^[\\/]+/, '');                   //eslint-disable-line\r\n        if (i < strArray.length - 1) str = str.replace(/[\\/]+$/, ''); //eslint-disable-line\r\n        else str = str.replace(/[\\/]+$/, '/');                        //eslint-disable-line\r\n        resultArray.push(str);\r\n    }\r\n    let str = (resultArray as string[]).join('/');\r\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\r\n    let parts = str.split('?');\r\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\r\n    return str;\r\n}\r\n// *************************  helpers  ************************* //\r\n// * This function is fork of react-spring\r\n// * Code : https://github.com/pmndrs/react-spring/blob/master/src/shared/helpers.ts\r\n// ************************* *************** ************************* //\r\nexport const is = {\r\n    arr: Array.isArray,\r\n    obj: (a: unknown): a is object    => Object.prototype.toString.call(a) === '[object Object]',\r\n    fun: (a: unknown): a is Function  => typeof a === 'function',\r\n    str: (a: unknown): a is string    => typeof a === 'string',\r\n    num: (a: unknown): a is number    => typeof a === 'number',\r\n    und: (a: unknown): a is undefined => a === void 0,\r\n    nul: (a: unknown): a is null      => a === null,\r\n    set: (a: unknown): a is Set<any>  => a instanceof Set,\r\n    map: (a: unknown): a is Map<any, any> => a instanceof Map,\r\n    equ(a: any, b: any) {\r\n    if (typeof a !== typeof b) return false\r\n        if (is.str(a) || is.num(a)) return a === b\r\n        if (is.obj(a) &&\r\n            is.obj(b) &&\r\n            Object.keys(a).length + Object.keys(b).length === 0)\r\n            return true\r\n        let i\r\n        for (i in a) if (!(i in b))     return false\r\n        for (i in b) if (a[i] !== b[i]) return false\r\n        return is.und(i) ? a === b : true\r\n    },\r\n}\r\n\r\nexport function merge(target: any, lowercase: boolean = true) {\r\n  return (object: object) =>\r\n    (is.arr(object) ? object : Object.keys(object)).reduce(\r\n        (acc: any, element) => {\r\n            const key = lowercase\r\n              ? element[0].toLowerCase() + element.substring(1)\r\n              : element\r\n            acc[key] = target(key)\r\n            return acc\r\n        },\r\n        target\r\n    )\r\n}\r\n","import React, {ReactChild as RC, FC, CSSProperties, Children,useCallback,useMemo,useEffect,useState,useRef} from 'react'\r\nimport {useSprings, animated as a} from 'react-spring'\r\nimport {useGesture,} from 'react-use-gesture'\r\nimport {clamp, swap} from '../utils'\r\nimport {BasedProps} from '../types'\r\nexport type Notes = FC<BasedProps<{\r\n    grandren:any,right:RC,left:RC,depth:number\r\n}>>\r\nexport const Notes:Notes = ({\r\n    order=null,\r\n    grandren=null, right=null, left=null, depth=0,\r\n    children, size=1, style={},...props\r\n}) => {\r\n    const [width,fontSize] = useMemo(()=>[size*500,size*50],[size])\r\n    const [length, setLength] = useState<number>((children as any)?.length||1)\r\n    const [height, setHeight] = useState<number>(width*length)\r\n    const [isOpen, setIsOpen] = useState<boolean[]>(Array(length).fill(false))\r\n    const orderRef    = useRef<number[]>(order||[...Array(length)].map((_,i:number)=>i))\r\n    const containerRef= useRef<HTMLDivElement|null>(null)\r\n    const childHeight = useRef( Array(length).fill(width) )\r\n    const setPosition = useCallback(() => {\r\n        const childs  = Array.from(containerRef?.current?.children||[])\r\n        childHeight.current = [...childs].map((c:any)=>c.clientHeight)\r\n        children && setHeight(childHeight.current.reduce((a,b)=>a+b) || width*length)\r\n    }, [width, length, children])\r\n    useEffect(()=>{\r\n        const newLength = (children as any)?.length||1\r\n        setLength(newLength)\r\n        setIsOpen(Array(newLength).fill(false))\r\n        if (orderRef.current.length !== newLength)\r\n            orderRef.current = order||[...Array(newLength)].map((_,i:number)=>i)\r\n            childHeight.current = Array(newLength).fill(width)\r\n    }, [width,order,children])\r\n    //  *************************   React Springs  *************************  //\r\n    const getY =({pre=0,arr=orderRef.current})=>pre<1?0:arr.slice(0,pre).map(i=>childHeight.current[i]).reduce((a,b)=>a+b)\r\n    const getF =({i=-1,x=0,s=1.0})=>(j=0)=>({x:j===i?x:0,y:getY({pre:orderRef.current.indexOf(j)}),scale:j===i?s:1})\r\n    const getG = useCallback(({i=-1,arr=orderRef.current,pre=-1,mx=0,my=0,down=false}) =>\r\n        (j:number) => (down&&j===i)\r\n            ? {scale:0.9, x:mx, y:getY({pre})+my}\r\n            : {scale:1.0, x:0 , y:getY({pre:arr.indexOf(j),arr})}, [])\r\n    const [springs, set] = useSprings(length, getG({}))\r\n    const bind = useGesture({\r\n        onDrag : ({ down,cancel,movement:[mx,my],startTime,\r\n                    last, args:[i], vxvy:[vx,vy],timeStamp, }) => {\r\n            if(!isOpen[i] && cancel && timeStamp-startTime<1000) cancel()\r\n            const pre = orderRef.current.indexOf(i)\r\n            const row = clamp( Math.round(pre+my/width), 0, length-1 )\r\n            const arr = swap(orderRef.current, pre, row)\r\n            if(!down) orderRef.current = arr\r\n            if(!last) return set( getG({i,arr,pre,mx,my,down}) )\r\n            const x = (mx<0?-1:1) * fontSize// * 2 // window.innerWidth/2 -\r\n            const op = (mx**2<.1||x**2<mx**2*2||vx**2+vy**2>1) ? !isOpen[i] : isOpen[i]\r\n            setIsOpen(p=>[...Object.assign([],{[i]:!p[i]})])\r\n            setTimeout(()=>{setPosition();set(getF({i,x:op?x:0,s:op?.9:1}))},1)\r\n        }\r\n    })\r\n    //  *************************   Child Render  *************************  //\r\n    const styles = useMemo<CSSProperties[]>( () => [\r\n        {width:`min(95vw,${width}px)`,position:\"relative\",margin:`auto`,...style,height     },//*DEV*/,background:\"rgba(100,0,0,0.5)\"},\r\n        {width:`min(95vw,${width}px)`,position:\"relative\",marginTop:fontSize,minHeight:width},//*DEV*/,background:\"rgba(0,100,0,0.5)\"},\r\n        {position:\"absolute\",top:0,left:0,right:0,margin:\"auto\"                             },//*DEV*/,background:\"rgba(0,0,100,0.5)\"},\r\n        {position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translate(-50%,-50%)\",fontSize },\r\n    ], [width,height,fontSize,style] )\r\n    children = Children.map(children, (child) => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []//count(child.props.children) || 0\r\n        return (grand.length>1 && depth===0) // TODO for depth > 0\r\n            ? React.cloneElement(child as any, {children:grand[0], grandren:(\r\n                <Notes {...{...props, depth:depth+1,children:grand.slice(1)}}/> )})\r\n            : child\r\n    })\r\n    useEffect(()=>{ setPosition(); set(getG({})) }, [setPosition, set, getG] )\r\n    //!depth&&console.log(`Render Notes:${depth} height:${height} length:${length} orderRef:`,orderRef.current);\r\n    return (\r\n        <div ref={containerRef} style={{...styles[0]}}>\r\n            {springs.map( ({x,y,scale}, key) =>\r\n                <a.div {...{key}} style={{x,y,position:\"absolute\"}}>\r\n                    <a.div {...bind(key)} style={{scale,...styles[1]}}>\r\n                        {(children as any)[key]}\r\n                    </a.div>\r\n                    { x.interpolate((px:number)=>px**2>0 ) &&\r\n                    <a.div style={{height:childHeight.current[key],...styles[2],\r\n                        y:0,  x:x.to((px:number)=> -px+(px>0?-.5:.5)*(width)),\r\n                        scale  :x.to((px:number)=>px**2/4>size**2?1:(px>0?px:-px)/(size)),\r\n                        width  :x.to((px:number)=>px>0?px*2:-px*2),\r\n                        display:x.to((px:number)=>px?\"inline\":\"none\")\r\n                    }}>\r\n                        { right&& <a.div style={{display:x.to((px:number)=>px>0?\"inline\":\"none\"),...styles[3]}}>\r\n                        { right } </a.div> }\r\n                        { left && <a.div style={{display:x.to((px:number)=>px<0?\"inline\":\"none\"),...styles[3]}}>\r\n                        { left  } </a.div> }\r\n                    </a.div>\r\n                    }\r\n                    { isOpen[key] && /* TODO grand child*/\r\n                        ( (children as any)[key].props?.grandren || '' )\r\n                    }\r\n                </a.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {Notes as Target, Card} from '../../../src'\r\n\r\nexport const Notes:FC = () => {\r\n    return (\r\n        <Target>\r\n            <Card>\r\n            </Card>\r\n        </Target>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS,FC,Children,useEffect,useRef} from 'react'\r\nimport {useSpring, useSprings, animated as a} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {clamp} from '../utils'\r\n\r\nconst sign =(num=0):number=>(num < 0 &&-1)\r\n                        ||  (num > 0 && 1)\r\n                        ||  (num===0 && 0)\r\n                        ||  0\r\nconst move = (\r\n    mx=0, k=0, s=1,\r\n    {current:l=2},\r\n    {current:ws=[0,0]},\r\n    mW=0, iw=window.innerWidth\r\n) => (i=0) =>\r\n    (i===k||i===k+s)\r\n        && [k,k+s].every(v => -1<v&&v<l)\r\n        && [k,k+s].every(v => mW/iw < ws[v]+mx*(k-v)/iw)\r\n        ? {w:clamp(ws[i]+mx*s*(i===k?1:-1)/iw,mW/iw,(iw-ws[k]-ws[k+s]/iw))}\r\n        : null\r\nconst getW = (o=[0],w=0,l=0) =>\r\n    o instanceof Array && o.length > 0\r\n        ? o.map(v => v>=0? v : w/window.innerWidth\r\n                ||(1 - [...o.filter(v=>v>0),0].reduce((a,b)=>a+b))\r\n                        /  o.filter(v=>v<0).length)\r\n        : Array(l).fill(w/window.innerWidth || l?1/l:l)\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {width:\"100%\",whiteSpace:\"nowrap\",},\r\n    item:{height:\"100%\",display:\"inline-block\",verticalAlign:\"top\"},\r\n}\r\nexport type Split = FC<BasedProps<{\r\n    order :number[]|[],\r\n    width :number, minWidth :number,\r\n    height:number, minHeight:number,\r\n}>>\r\nexport const Split:Split = ({\r\n    order=[], width=0, height=0, minWidth=100, minHeight=100,\r\n    dark=false,size=1, style={}, ...props\r\n}) => {\r\n    const sRef = useRef<number>(0)\r\n    const lRef = useRef<number>((props as any)?.children?.length||0)\r\n    const hRef = useRef<number>(height||window.innerHeight/lRef.current)\r\n    const wRef = useRef<number[]>(getW(order, width, lRef.current))\r\n    const [spring, setH] = useSpring(() => ({h:hRef.current}))\r\n    const [springs, setW] = useSprings(lRef.current, i=>({w:wRef.current[i]}))\r\n    const bind = useGesture({\r\n        onDrag:({first, last, args:[key], movement:[mx,my], direction:[dir]}) => {\r\n            if (sRef.current===0||first) sRef.current = sign(dir)\r\n            setH({h:clamp(hRef.current+my, minHeight, window.innerHeight)})\r\n            sRef.current===sign(dir) && setW(move(mx,key,sign(dir),lRef,wRef,minWidth))\r\n            if (!last) return\r\n            wRef.current = springs.map((s:any) => s.w.animation.to || 0)\r\n            hRef.current = spring.h.animation.to as number || 0\r\n        }\r\n    })\r\n    const children = Children.map(props.children, child => child)\r\n    useEffect(() => {\r\n        const len = (props as any)?.children?.length||0\r\n        if (len===lRef.current) return\r\n        lRef.current = len\r\n        wRef.current = [...wRef.current.map(v=>v-1/len/wRef.current.length), 1/len]\r\n        setW((i) => ({w:wRef.current[i]}))\r\n    },  [props, setW])\r\n    useEffect(() => {\r\n        wRef.current = getW(order, width, lRef.current)\r\n        setW(i=>({w:wRef.current[i]}))\r\n    }, [width, setW, order])\r\n    useEffect(() => {\r\n        hRef.current = height||window.innerHeight/lRef.current\r\n        setH({h:hRef.current})\r\n    }, [height, setH])\r\n    return (\r\n        <a.div style={{...styles.top, height:spring.h,...style}} {...props}>\r\n            {springs.map(({w},key) =>\r\n                <a.div {...bind(key)} {...{key}} style={{...styles.item,width:w.interpolate(v=>`${100*v}%`)}}>\r\n                    {(children as any)[key]}\r\n                </a.div>\r\n            )}\r\n        </a.div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {Split as Target} from '../../../src'\r\n\r\nexport const Split:FC = () => {\r\n    return (\r\n        <Target>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n        </Target>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\n\r\nexport type Head = FC<BasedProps>\r\nexport const Head:Head = ({\r\n    children, color=\"\", dark=false,size=1, style={}, ...props\r\n}) => {\r\n    style = useMemo<CSS>(()=>({\r\n        fontSize:size*50,\r\n        color:color||dark?\"#818181\":\"#000\",\r\n        width:`max(70vw, 100vw - ${size*200}px)`,\r\n        height:\"auto\",\r\n        margin:\"auto\",\r\n        ...style\r\n    }), [color,dark,size,style])\r\n    return <div {...{children,style,...props}}/>\r\n}\r\n","// This is a fork of\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/index.js\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/icons.js\r\n// demo: https://codesandbox.io/embed/rrw7mrknyp\r\n//     @content, Name of the node (string or React-component)\r\n//     @type   , optional description, good for displaying icons, too (string or React-component)\r\n//     @open   , optional: default open state\r\n//     @canHide, optional: when set true displays an eye icon\r\n//     @visible, optional: default visible state\r\n//     @onClick, optional: click events on the eye\r\n//     @springConfig, optional: react-spring animation config\r\nimport React, {\r\n    CSSProperties as CSS, FC, Children,\r\n    useCallback,useMemo, useState, useEffect, //useRef\r\n} from 'react'\r\nimport {useSpring, config, animated as a} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst defaultConfig = {restSpeedThreshold: 1,restDisplacementThreshold: 0.01}\r\nconst styles:{[key:string]:CSS} = {\r\n    tree: {padding:'4px 0px 0px 0px',overflow:'hidden',verticalAlign:'middle',\r\n           position:'relative',whiteSpace:'nowrap',textOverflow: 'ellipsis',},\r\n    tggl: {width:'1em',height:'1em',cursor:'pointer',verticalAlign:'middle',marginRight:10,},\r\n    type: {fontSize:'0.6em',fontFamily:'monospace',verticalAlign:'middle',textTransform:'uppercase',},\r\n    cont: {willChange:'transform, opacity, height',marginLeft:6,},\r\n}\r\nconst paths = {\r\n    close:\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155 q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\",\r\n    minus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0 q0 -15 -11 -25.5t-25 -10.5z\",\r\n    plus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184 q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\",\r\n    eye: \"M963 384q0 14 -21 62q-26 65 -61 109q-57 71 -139 112q-99 50 -230 50t-231 -50q-80 -41 -138 -112q-34 -43 -61 -109q-21 -48 -21 -62v0v0v0v0q0 -14 21 -62q27 -66 61 -109q57 -71 139 -112q100 -50 230 -50t230 50q81 41 139 112q35 44 62 109q20 48 20 62v0v0v0v0z M889 384q-25 -77 -64 -126h-1q-46 -59 -114 -93q-85 -42 -198.5 -42t-198.5 42q-67 34 -114 93q-40 49 -65 126q25 77 65 126q47 59 114 93q85 43 199 43t198 -43q67 -33 114 -93q40 -49 65 -126zM512 558q-72 0 -122.5 -50.5t-50.5 -122.5t50.5 -122.5t122.5 -50.5 t122.5 50.5t50.5 122.5t-50.5 122.5t-122.5 50.5zM614 385q0 -42 -30 -72t-72 -30t-72 30t-30 72t30 72t72 30t72 -30t30 -72z\",\r\n}\r\nexport type TreeIcon = {[key:string]:FC<{style:CSS,onClick:()=>void,className?:string}>}\r\nexport const TreeIcon:TreeIcon = {\r\n    CloseSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.close}/></g></svg>,\r\n    MinusSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.minus}/></g></svg>,\r\n    PlusSquareO : props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.plus}/></g></svg>,\r\n    EyeO        : props => <svg {...props} viewBox=\"61 51 902 666\"><g><path d={paths.eye}/></g></svg>,\r\n}\r\nexport type TreeContent = FC<BasedProps<{\r\n    [key:string]:any, set:any, content:any, type:any,\r\n    canHide:boolean, opacity:number, icon:\"Minus\"|\"Plus\"|\"Close\"\r\n}>>\r\nexport const TreesContent:TreeContent = ({\r\n    content,type,set,canHide=false,icon=\"Close\",opacity=1,dark=false,//size=1,\r\n}) => {\r\n    const Icon = useMemo(() => TreeIcon[`${icon}SquareO`], [icon])\r\n    const color = useMemo(() => dark?\"#818181\":\"#212121\", [dark])\r\n    const iconClick = useCallback(() => set&&set((p:any) => ({open:!p.open,immediate:false})), [set])\r\n    const eyeClick  = useCallback(() => set&&set((p:any) => ({...p        ,immediate:true })), [set])\r\n    return !content ? null : (\r\n        <>\r\n            <Icon style={{...styles.tggl, opacity, color}} onClick={iconClick}/>\r\n            <span style={{...styles.type, marginRight:type?10:0,color}}>{type}</span>\r\n            { canHide &&\r\n            <TreeIcon.EyeOstyle style={{...styles.tggl}} onClick={eyeClick}/> }\r\n            <span style={{verticalAlign:'middle',color}}>{content}</span>\r\n        </>\r\n    )\r\n}\r\nexport type Trees = FC<BasedProps<{\r\n    open:boolean, visible:boolean, immediate:boolean, springConfig:any,\r\n    canHide:boolean, topStyle:CSS, depth:number, type:any, content:any,\r\n}>>\r\nexport const Trees:Trees = ({\r\n    open=true, visible=true, immediate=true, depth=0, springConfig=defaultConfig,\r\n    dark=false, size=1, style={}, topStyle={}, ...props\r\n}) =>  {\r\n    const [state, set] = useState<{[key:string]:boolean}>({open,visible,immediate})\r\n    const spring = useSpring<any>({\r\n        immediate:state.immediate,\r\n        config: {...config.default,...springConfig},\r\n        from: {height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\r\n        to: {  height: state.open ? 'auto' : 0,\r\n              opacity: state.open ? 1      : 0,\r\n            transform: state.open ? 'translate3d(0px,0,0)' : 'translate3d(20px,0,0)'},\r\n    })\r\n    const children = useMemo(() => Children.map(props.children, child => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []\r\n        return props.children &&\r\n            <Trees {...{...props,\r\n                dark, size, style, depth:depth+1, topStyle:{},\r\n                open:false,     children:grand.length>1 ? grand.slice(1) : null,\r\n                immediate:false, content:grand.length>1 ? grand[0] : child,}}/>\r\n    }), [props, dark, size, style, depth])\r\n    const icon = useMemo(() => children instanceof Array && children.length>0\r\n        ? (state.open ? 'Minus' : 'Plus')\r\n        : 'Close', [children, state.open])\r\n    useEffect(() => void (set(p => visible!==p.visible? {...p, visible} : p)), [visible])\r\n    return (\r\n        <div style={{...styles.tree, fontSize:size*50, zIndex:-depth, ...style, ...topStyle}}>\r\n            <TreesContent{...{...props, dark, size, icon, set, opacity:children?.length?1:.3}}/>\r\n            <a.div style={{\r\n                ...(depth>0?{borderLeft:`1px dashed #${dark?818181:212121}`}:{}),\r\n                ...styles.cont, padding:`4px 0px 0px ${size*25}px`,\r\n                ...spring, }}>{children}</a.div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {Trees as TREES, Head} from '../../../src'\r\n\r\n// const bind = (background=\"\") => ({\r\n//     style: {background},\r\n//     onClick: () => console.log('HI')\r\n// })\r\n// export const Trees:FC = () => {\r\n//     return (\r\n//         <Head {...{dark:0,size:1}}>\r\n//             <TREES content=\"Hook\">\r\n//                 <>\r\n//                     <span {...bind(\"rgba(255,0,0,.1)\")}>Components</span>\r\n//                     <span {...bind(\"rgba(0,255,0,.1)\")}>Card</span>\r\n//                     <span {...bind(\"rgba(0,0,255,.1)\")}>Modal</span>\r\n//                 </>\r\n//                 <span {...bind(\"rgba(0,0,0,.1)\")}>_</span>\r\n//             </TREES>\r\n//         </Head>\r\n//     )\r\n// }\r\nexport const Trees:FC = () => {\r\n    return (\r\n        <Head {...{dark:0,size:1}}>\r\n            <TREES content=\"Hook\">\r\n                <>\r\n                    <>Components</>\r\n                    <>Card</>\r\n                    <>Code</>\r\n                    <>Grow</>\r\n                </>\r\n                <>\r\n                    <>Containers</>\r\n                    <>Modal</>\r\n                    <>Notes</>\r\n                    <>Trees</>\r\n                </>\r\n            </TREES>\r\n        </Head>\r\n    )\r\n}\r\n","export const Card =\r\n`import {Card} from '@tsei/core'\r\nconst App = () => (\r\n    <Card />\r\n)`\r\n\r\nexport const Code =\r\n`import {Code} from '@tsei/core'\r\nconst code = \"hello\"\r\nconst App = () => (\r\n    <Code code={code}/>\r\n)`\r\n\r\nexport const Grow =\r\n`import {Grow} from '@tsei/core'\r\nconst App = () => (\r\n    <Grow />\r\n)`\r\n\r\nexport const Trees =\r\n`import {Card} from '@tsei/core'\r\nconst App = () => (\r\n    <Trees content=\"Hook\">\r\n        <>1</>\r\n        <>2</>\r\n        <>3</>\r\n    </Trees>\r\n)\r\n`\r\nexport const Split =\r\n`import {Card} from '@tsei/core'\r\nexport const Split = (\r\n        <Target>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n        </Target>\r\n)`\r\n","import axios  from 'axios'\r\nimport * as THREE from 'three'\r\nimport * as MESHS from './meshs'\r\nimport * as HOOKS from './hooks'\r\nimport * as CODES from './codes'\r\nimport {Credit, URLType, Page, topUp} from '../src'\r\n// ************************* FOR NOTE ************************* //\r\nexport const scrollTop=()=>document.getElementById('root')?.scroll({top:0,left:0,behavior:'smooth',});\r\nexport const pageConfig = { onChange:() => scrollTop() }\r\nexport type CustomPage =\r\n   {portname:string[], isHome:boolean,\r\n    pathname:string[], status:string, }\r\nexport const customPage : Partial<Page<CustomPage>> = {\r\n    isSign:false,status:\"\", portname: ({isLocal}) => isLocal?[\"3000\",\"8000\",\"8000\"]:[],\r\n    isHome:({id}) => !id  , pathname: ({id,status}) =>\r\n        [   `/note/${ id?id+'/':'' }`,\r\n        `/api/note/${ id?id+'/':'' }`,\r\n        status!==\"UP\"? `/auth/`: `/api/user/`]\r\n}\r\nexport const fetcher = async (url:URLType,headers={'Content-Type':'application/json'}) =>\r\n   axios.get(url.href, {headers})\r\n        .then(res => {\r\n            if(!res || res.status!==200)\r\n                throw new Error('Bad Request')\r\n            return res.data\r\n        })\r\nexport const signin = async (url:URLType, cred:Credit, headers={'Content-Type':'application/json'}) =>\r\n   axios.post(url.href, cred, {headers})\r\n        .then((res) => {\r\n            if (res.status>201 || !res.data.token)\r\n                throw new Error('Bad Request')\r\n            return {username:cred.username, authtoken:res.data.token}\r\n        })\r\n\r\n// ************************* FOR HOOK ************************* //\r\nexport const hookTree = [\r\n    [\"Components\",\"Card\",\"Code\",],//\"Grow\",\"Head\",\"Icon\"],\r\n    [\"Containers\",\"Notes\",\"Split\",\"Trees\"],\r\n    \"Mdmd\"\r\n]\r\nexport type  HookPage = {pathname:string, code:any, codes:any, Hook:any, hooks:any}\r\nexport const hookPage = {\r\n    pathname: ({id=\"\"}) => `/hook/${id}`,\r\n    Hook : ({id=\"\",hooks={}}) => (hooks as any)[topUp(id)],\r\n    code : ({id=\"\",codes={}}) => (codes as any)[topUp(id)],\r\n    hooks: Object.assign({}, ...Object.keys(HOOKS).map(key => key in HOOKS && {[key]: (HOOKS as any)[key] })),\r\n    codes: Object.assign({}, ...Object.keys(CODES).map(key => key in CODES && {[key]: (CODES as any)[key] })),\r\n}\r\n// ************************* FOR MESH ************************* //\r\nconst canvas = {\r\n    Kinect:{},\r\n    Swarm :{\r\n        gl: {antialias:false, logarithmicDepthBuffer:true},\r\n        camera: {position:[0,-2,3]},\r\n        onCreated: ({gl}:any)=>{gl.outputEncoding=THREE.sRGBEncoding},\r\n        pixelRatio: window.devicePixelRatio,\r\n    }\r\n}\r\nexport type  MeshPage = {canvas:any, Mesh:any}\r\nexport const meshPage = {\r\n    Mesh  :({id=\"\"}) => (MESHS  as any)[topUp(id)] || null,\r\n    Canvas:({id=\"\"}) => (canvas as any)[topUp(id)] || null,\r\n}\r\n","/** ************************* USE PAGE *************************\r\n * This is a hook to record the URL of the Restfl API\r\n *   - `const [page, set] = usePage({id:null,home:({id})=>!id}, config)`\r\n *   - `const onClick=()=>set({id:90}, config)`\r\n *   - ```\r\n *     {Page, id:null}  <=data=> (DB1 : URL1 by id), (DB2 : URL2 by id)\r\n *          | change id\r\n *          |  => change URLs by id (e.g. /api to /api/90)\r\n *          v  => change user state (e.g. home:true to home:false)\r\n *     {New Page, id:90}\r\n *     ```\r\n * # ***** usePage API Configs *****\r\n * ## Props Values\r\n *   - `const _ = usePage(@initPage, @config)`\r\n *   - @initPage = {\r\n *         @isHome  :boolean\r\n *         @isLocal :boolean\r\n *         @id      :string e.g. 2\r\n *         @protocol:string e.g. \"https:\"\r\n *         @hostname:string e.g. \"localhost\"\r\n *         @portname:string e.g. \"3000\"   or [\"3000\"(npm), \"8000\"(django)]\r\n *         @pathname:string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @search  :string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @hash    :string e.g. \"#note\"  or [\"#note\"]\r\n *   - @config = {TODO}\r\n *   - type MultiPage<T=any> = T|T[]|((p:Page)=>T|T[])\r\n * ## Return Values\r\n *   - @page : {...@initPage(as T|T[]),\r\n *         @url ?: from initPage parameters    e.g. \"http...\" or [\"http...\", ...more]\r\n *         @XXX ?: any value you set when init e.g. @home:true\r\n *   - @set   : (args) => void ( setState )\r\n ** ************************* ********* *************************/\r\n\r\nimport {useEffect, useState, useCallback, useRef} from 'react'\r\nimport {defaultPageConfig as defaultConf, defaultPage, normPage} from '../utils'\r\nimport {Page , PageConfig as Conf, BasicProps, BasicState, BasicAction} from '../types'\r\nexport const usePage = <T extends {}={}>(\r\n    props :BasicProps<Partial<Page<T>>>,//BasicProps<Page<T>>,\r\n    config:BasicProps<Partial<Conf<T>>>={},\r\n) : [Page<T>, BasicAction<Partial<Page<T>>>] => {\r\n    if (typeof props===\"function\") props  = props()\r\n    if (typeof config===\"function\")config = config()\r\n    const pageRef = useRef<Page<T>>({...defaultPage, ...props } as Page<T>)\r\n    const confRef = useRef<Conf<T>>({...defaultConf, ...config} as Conf<T>)\r\n    const [page,set] = useState<Page<T>>( normPage(pageRef.current) )\r\n    const setPage = useCallback((state:BasicState<Partial<Page<T>>>) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current as Partial<Page<T>>)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [page.id])\r\n    return [page, setPage]\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nexport type Icon = FC<BasedProps>\r\nexport const Icon:Icon = ({\r\n    fa=\"\",dark=false,circ=true,size=1,onOpen=null, //onClose=null,\r\n    children,className='',...props//,color=''\r\n}) => {\r\n    const [{xys}, set] = useSpring(() => ({xys:[0,0,0]}))\r\n    const bind = useGesture({\r\n        onMove : ({vxvy:[vx,vy],last}) => set({xys:[vx,vy,last?0:1]})\r\n    })\r\n    const color = useMemo(()=>props.color||circ\r\n      ? dark?\"#818181\":\"#fff\"\r\n      : \"#212121\",[props.color,circ,dark])\r\n    const style = useMemo<CSS>(() => ({\r\n        padding:\"0px\",top:0,right:0,textAlign:\"center\",userSelect:\"none\",\r\n        ...(circ?{borderRadius:size*50,background:\"#212121\"}:{}),\r\n        ...props.style,color,height:size*50,width:size*50,fontSize:size*50\r\n    }), [size,circ,color,props.style] )\r\n    return <a.div style={{\r\n                x : xys.interpolate((x,y,s) => x*size*50+y*s),\r\n                y : xys.interpolate((x,y,s) => y*size*50+x*s),\r\n                filter : xys.interpolate((x,y,s) => [\r\n                    `drop-shadow(${0.1+x}rem`, // -x~0.5~x\r\n                                `${0.5+y}rem`, // -y~1.5~y\r\n                                `${1-s/2}rem`, // 1 =hover=> 0.5\r\n                    `rgba(0,0,0, ${0.5+s/20}))`// 0.50 =hover=> 0.55\r\n                ].join(' ')),\r\n                transform : xys.interpolate((x,y,s) => [\r\n                    `perspective(${size*50}px)`,\r\n                    `rotateX(${-y}deg)`,//-1 ~ 1\r\n                    `rotateY(${x}deg)` ,//-1 ~ 1\r\n                    `scale(${1+s/10})` ,// 1 ~ 1.1\r\n                ].join(' ')),\r\n            ...style} as CSS}\r\n           {...{children,className:className+fa?` fas fa-${fa}`:\"\"}}\r\n           {...bind()} {...props} />\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from'../types'\r\nimport {Trees} from '../containers'\r\nimport {Icon} from '../components'\r\nconst styles:{[key:string]:CSS} = {\r\n    area: {position:\"fixed\",top:0,left:0,height:\"100%\",zIndex:1},\r\n    cont: {position:\"fixed\",top:\"2%\",left:0,zIndex:1,overflowX:\"hidden\",height:`96%`},\r\n    icon: {position:\"absolute\",transform:`translate(-50%,-50%)`},\r\n    item: {padding:\"10px 10px 10px 32px\",color:\"#818181\",display:\"block\",}\r\n}\r\nexport const SidesArea :FC<BasedProps> = ({spring, bind, size=1}) =>\r\n    <a.div style={{...styles.area,\r\n        width     : spring.x.to((x:number)=>x>1?\"100%\":`${size*50/2}px`),\r\n        background: spring.scale.to((s:number)=>{\r\n            const rate  = spring.x.animation.to/window.innerWidth //0 ~ 0.5\r\n            return `linear-gradient(90deg,rgba(0,0,0,${rate+s-1}),rgba(0,0,0,0))`})\r\n        }} {...bind()} />\r\n\r\nexport const SidesContainer : FC<BasedProps> = ({size=1, spring, children}) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.x.interpolate((x:number)=>x>0?x:0),\r\n        borderRadius:`0px ${50*size}px ${50*size}px 0px`,\r\n        backgroundColor:\"#212121\"}}>\r\n        <div style={{margin:`${50*size}px 0px 0px 0px`, position:\"absolute\"}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const SidesIcon : FC<BasedProps> = ({spring, bind, circ=false, size=1}) =>\r\n    <a.div {...bind()} style={{...styles.icon,...spring,top:size*50,left:size*50}}>\r\n        <Icon fa=\"align-left\" {...{circ,size}} />\r\n    </a.div>\r\n\r\n// export const SidesItem :FC<BasedProps> = ({children, size=1}) =>\r\n//     <a.div style={{...styles.item,transition:\"0.75s\",fontSize:50*size}}>{children}</a.div>\r\n\r\nexport type Sides = FC<Partial<BasedProps<{}>>>\r\nexport const Sides:Sides = ({children, width=window.innerWidth/2,dark=false,size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool=true)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring( () => ({x:0,y:0,scale:1}) )\r\n    const open =(v=0)=>1&&(setOpened(true),set({x:width,y:0,config:v!==0?config.wobbly:config.slow}))\r\n    const close=(v=0)=>1&&(setOpened(false),set({x:0    ,y:0,config:{...config.stiff,velocity:v }}))\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:(opened.current?width:0)+(down?mx:0),y:down?my:0})\r\n            if(!opened.current) return (mx===0||mx> width*0.5||vx> 0.5) ? open(vx) : close(vx)\r\n            if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ? close(vx): open(vx)\r\n        },\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\", top:0,left:0,zIndex:100}}>\r\n            <SidesIcon   {...{size, spring, bind, }} />\r\n            <SidesArea     {...{size, spring, bind, }} />\r\n            <SidesContainer{...{size, spring, bind, }}>\r\n            <Trees {...{dark:true,size}}>\r\n                {children}\r\n                {/*React.Children.map(children, ((child, key) =>\r\n                    <SidesItem {...{size, key}}>{child}</SidesItem>\r\n                ))*/}\r\n            </Trees>\r\n            </SidesContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,useCallback,useMemo,useRef} from 'react';\r\nimport {useSpring, animated as a, config, UseSpringProps} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {Icon} from '../components'\r\n\r\nconst styles = {\r\n    area: {position:\"fixed\",top:0,right:0,height:\"100%\",zIndex:1},\r\n    cont: {position:\"fixed\",height:`96%`,top:\"2%\",right:0,zIndex:1,overflowX:\"hidden\"},\r\n    icon: {position:\"absolute\",right:0,transform:`translate(-50%,-50%)`,},\r\n    item: {backgroundColor:\"#212121\",color:\"#818181\", display:\"inline-block\"},\r\n}\r\nexport const TransArea :FC<BasedProps> = ({size=1, spring, bind}) =>\r\n    <a.div style={{\r\n        width: spring.r.interpolate((r:number)=>`${\r\n            50*size*( Math.cos(r/90*Math.PI)+1.5)\r\n        }px`),\r\n        background: spring.scale.interpolate((s:number)=>[\r\n            `linear-gradient(90deg`,\r\n            `rgba(0,0,0,0)`,\r\n            `rgba(0,0,0,${s-1}))`\r\n        ].join(',')),\r\n        ...styles.area}}\r\n       {...bind()} />\r\n\r\nexport const TransContainer : FC<BasedProps> = ({children, size=1, spring, bind}) =>\r\n    <a.div {...bind()} style={{...styles.cont,\r\n        width:spring.r.interpolate((r=0) => `${ 50*size*(Math.cos(r/90*Math.PI)+1) }px` )}}>\r\n        <div style={{margin:`calc(${50*size*2}px - 2%) 0px 0px 0px`}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const TransIcon : FC<BasedProps> = ({size=1, spring, bind, circ=false}) =>\r\n    <a.div {...bind()} style={{...styles.icon, top:50*size, rotateZ:spring.r}}>\r\n        <Icon fa=\"align-justify\" {...{circ,size}} />\r\n    </a.div>\r\n\r\nexport const TransItem :FC<BasedProps> = ({children, size=1}) =>\r\n    <a.div style={{...styles.item,\r\n        margin:`${50*size/4}px 0px`,\r\n        borderRadius:`${50*size}px 0px  0px ${50*size}px`,}}>\r\n        <div style={{\r\n            height:50*size, margin:`auto ${50*size/2}px`,\r\n            fontSize:50*size, zIndex:1, display:\"flex\", alignItems:\"center\",\r\n        }}>{children}</div>\r\n    </a.div>\r\n\r\nexport const Trans : FC<BasedProps> = ({children, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool:boolean)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring<UseSpringProps>( () => ({x:0, y:0, r:90, scale:1,}) )\r\n    const getr = (velocity=0) => {\r\n        const pre  = ~~(spring.r.animation.to/90) //  Math.round( spring.r.animation.to/90 || 0 ) //\r\n        const unit = ((opened.current?1:0) === (pre%2)?0:1) ? 0:1 //to change:1 no diff:0\r\n        return 90 * ( pre + unit * (velocity<0?-1:1) )\r\n    }\r\n    const width = useMemo(()=>500*size, [size])\r\n    const open  =(v=0)=>1&&(setOpened(true) ,set({r:getr(v),config:v!==0?config.wobbly:config.slow}))\r\n    const close =(v=0)=>1&&(setOpened(false),set({r:getr(v),config:{...config.stiff }}))\r\n    const onBind=({mx=0,vx=0,down=false,last=false}) => {\r\n        if (!last) return set({r:spring.r.animation.to+(down?2*(-mx)/width:0)})\r\n        if(!opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ?  open(-vx) : close(-vx)\r\n        if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5||0.5<vx) ? close(-vx) :  open(-vx)\r\n    }\r\n    const bind = useGesture({\r\n        onHover: ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onPinch: ({last,down,offset :[_,a]})  => onBind({down,last,vx:0,mx:a}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,],}) => onBind({down,last,vx,mx:mx})\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\",top:0,right:0,zIndex:100}}>\r\n            <TransIcon      {...{size, spring, bind, }} />\r\n            <TransArea      {...{size, spring, bind, }} />\r\n            <TransContainer {...{size, spring, bind, }} >\r\n            {React.Children.map(children, ((child, key:number)=>\r\n                <TransItem {...{size/*, spring, width*/, key}} >{child}</TransItem>\r\n            ))}\r\n            </TransContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {useGrid} from 'use-grid'\r\nimport {Helmet} from 'react-helmet-async';\r\nimport {hookTree,hookPage,HookPage} from './utils'\r\nimport {topUp,usePage,Card,Code,Sides,Split,Trees,Trans} from '../src'\r\nconst styles:{[key:string]:CSS} = {\r\n    top   : {position:\"relative\", transition:\"1s\", minHeight:\"100%\"},\r\n}\r\n\r\nexport const Hook:FC = () => {\r\n    const [dark, setDark] = useGrid<number>({md:0, lg:0 })\r\n    const [size, setSize] = useGrid<number>({md:1, lg:1.5})\r\n    const [page, setPage] = usePage<HookPage>(hookPage)\r\n    const [side, setSide] = useGrid({xs:0,sm:250,lg:500})\r\n    const style = useMemo(() => ({margin:`${size*25}px auto ${size*25}px auto`,padding:\"auto\"}),[size])\r\n    return (\r\n    <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n        <Split order={[side/window.innerWidth, -1]} style={{paddingTop:size*100,height:\"100%\"}}>\r\n            <>\r\n                <Card min={1} {...{dark,size,style}}>\r\n                    <Trees {...{dark,size:size/2}}>\r\n                        { hookTree.map((ids,i) => ids instanceof Array\r\n                        ?   <span key={i}>{ ids.map((id, j) =>\r\n                            <span key={id} onClick={() => j&&setPage({id})}>{id}</span>) }</span>\r\n                        :   <span key={i}  onClick={() =>    setPage({id:ids})}>{ids}</span>) }\r\n                    </Trees>\r\n                </Card>\r\n                { page.code &&\r\n                <Card min={1} {...{dark,size,style}}>\r\n                    <Code {...{code:page.code,dark,size}}/>\r\n                </Card> }\r\n            </>\r\n            <div style={{padding:size*25}}>\r\n                {page.Hook && <page.Hook />}\r\n            </div>\r\n        </Split>\r\n        <Sides {...{size}}>\r\n            <span onClick={()=>window.location.href=\"/\"    }>Home</span><>\r\n            <span onClick={()=>window.location.href=\"/hook\"}>Hook</span>\r\n            <span onClick={()=>window.location.href=\"/hook/core\"}>Core</span>\r\n            <span onClick={()=>window.location.href=\"/hook/mdmd\"}>Mdmd</span></>\r\n            <span onClick={()=>window.location.href=\"/note\"}>Note</span>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            <div onClick={()=>setSide((p:any)=>p.lg?{xs:0,sm:0,lg:0}:{xs:0,sm:250,lg:500})}>{side?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {topUp(page.id)}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","// todo\r\n//     <TransformControls>\r\n//         <Model {...{dark,size}}/>\r\n//     </TransformControls>\r\n//     <Swarm {...{dark,size}}/>\r\nimport React, {\r\n    CSSProperties as CSS, FC, Suspense,// useMemo\r\n} from 'react'\r\nimport {Sides, Trans} from '../src/containers'\r\nimport {useGrid} from 'use-grid'\r\nimport {Helmet} from 'react-helmet-async';\r\nimport {TransformControls} from 'drei'\r\n// import * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {meshPage,MeshPage} from './utils'\r\nimport {usePage,//Trees\r\n        } from '../src'\r\nimport {Model, Swarm} from './meshs'\r\nconst styles:{[key:string]:CSS} = {\r\n    top   : {position:\"relative\", transition:\"1s\", minHeight:\"100%\", overflow:\"hidden\"},\r\n    canvas: {position:\"fixed\", width:\"100%\", height:\"100%\", top:0, left:0}\r\n}\r\nexport const Mesh :FC = () => {\r\n    const [dark, setDark] = useGrid<number>({md:1, lg:0 })\r\n    const [size, setSize] = useGrid<number>({md:1, lg:1.5})\r\n    const [page, ] = usePage<MeshPage>(meshPage)\r\n    return (\r\n    <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n        <Canvas {...page.canvas} style={styles.canvas}>\r\n            <fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <TransformControls>\r\n                    <Model {...{dark,size}}/>\r\n                </TransformControls>\r\n                <Swarm {...{dark,size}}/>\r\n                {/*page.Mesh && <page.Mesh /> */}\r\n            </Suspense>\r\n        </Canvas>\r\n        <Sides {...{size}}>\r\n            <p onClick={()=>window.location.href=\"/\"   }>Home</p>\r\n            <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {page.id}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useState} from 'react'\r\n//import { Card, Foot, Head } from '../src/components'\r\nimport { /*Modal, Pills, */Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { TransformControls } from 'drei'\r\nimport { Kinect } from './meshs'\r\nimport * as THREE from 'three'\r\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {position:\"fixed\",top:0,left:0,width:'100%',height:'100%'},\r\n}\r\n\r\nexport const None :FC = () => {\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1    , lg:1.5 })\r\n    return (\r\n        <>\r\n            <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n                <Canvas gl={{ alpha: false, antialias: false, logarithmicDepthBuffer: true }}\r\n                        camera={{ position:[0,0,500], far:2000 }}\r\n                        pixelRatio={window.devicePixelRatio}\r\n                        onCreated ={({gl}:any) => {\r\n                            gl.outputEncoding = THREE.sRGBEncoding\r\n                            gl.toneMapping    = THREE.ACESFilmicToneMapping }}>\r\n                    <ambientLight intensity={1.1} />\r\n                    <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                    <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                    <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n                    <TransformControls>\r\n                        <Kinect url=\"/static/core/kinect.mp4\"/>\r\n                    </TransformControls>\r\n                </Canvas>\r\n            </div>\r\n            <Helmet>\r\n                <title>404 NOT FOUND</title>\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Sides {...{size}}>\r\n                <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            </Trans>\r\n        </>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS,FC,useEffect,useCallback,useMemo} from 'react';\r\nimport {useSpring, animated as a} from 'react-spring';\r\nimport {useGesture} from 'react-use-gesture';\r\nimport {createPortal} from 'react-dom';\r\nimport {BasedProps} from '../types';\r\nexport type Modal = FC<BasedProps<{open:boolean}>>\r\nexport const Modal:Modal = ({\r\n        open=false, onClose=null, dark=false, size=1, //onOpen=null,\r\n        children, color=\"\", ...props\r\n    }) => {\r\n    const width = useMemo(()=>500 * size,[size])\r\n    const [spring, set] = useSpring(()=>({x:0,y:-width,scale:0}))\r\n    useEffect(()=>{open&&set({x:0,y:0,scale:1})}, [open, set])\r\n    const close=useCallback( (vx=0,vy=0) => {\r\n        set({x:vx*width, y:(vy-1)*width, scale:0})\r\n        onClose && setTimeout(()=>onClose(), vx**2+vy**2)\r\n    }, [onClose, width, set] )\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?0.9:1}),\r\n        onDrag : ({last,down,vxvy:[vx,vy],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:down?mx:0,y:down?my:0})\r\n            return (mx**2>width**2/4||vx**2+vy**2>10)\r\n                ? close(vx,vy)\r\n                : set({x:0,y:0,scale:1})\r\n        },\r\n    })\r\n    const root = useMemo<HTMLElement|null>(()=>document.getElementById('root'),[])\r\n    const style = useMemo<CSS>(()=>({\r\n        left:0, width:\"100%\",  display:\"flex\",justifyContent:\"center\",\r\n        top:0, height:\"100%\", position:\"fixed\",   alignItems:\"center\",\r\n        transition:\"1s\", color:color||dark?\"#212121\":\"#000\",\r\n        zIndex:200,background:`rgba(${dark?\"80,80,80\":\"0,0,0\"},.5)`, ...props.style\r\n    }), [dark, color, props.style])\r\n    return open ? createPortal(\r\n        <div style={style} onClick={()=>onClose&&onClose()}>\r\n            <a.div style={{position:\"relative\",...spring}} {...bind()}\r\n                onClick={e=>e.stopPropagation()}>\r\n                {children}\r\n            </a.div>\r\n        </div>\r\n    , root as HTMLElement) : null\r\n}\r\n","import React, {FC,Children,CSSProperties as CSS,\r\n    useCallback,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst styles:{[key:string]:CSS} = {\r\n    pill: {position:\"absolute\",padding:\"0px\",zIndex:1,transform:`translate(-50%,-50%)`,}\r\n}\r\nexport type Pills = FC<BasedProps<{\r\n    position: {x:number, y:number, r:number},\r\n    depth:number, rate:number, size:number,\r\n    isOpen:boolean\r\n}>>\r\nexport const Pills:Pills = ({\r\n    position={x:0,y:0,r:Math.PI/4}, depth=0, rate=1.414,\r\n    size=1, isOpen=true, ...props\r\n}) => {\r\n    const length = useMemo( () => (props?.children as any)?.length||1, [props] )\r\n    const childPos = useRef( Array(length).fill(position) )\r\n    const fn = useCallback(() => (i=0) => {\r\n        const r = position.r/2 + (Math.PI/2) * ((length-i-1)*10+1)/((length-1)*10+2)-Math.PI/8\r\n        const x = isOpen ?  50*rate*size*Math.cos(r) : 0\r\n        const y = isOpen ? -50*rate*size*Math.sin(r) : 0\r\n        childPos.current[i] = {x,y:-y,r}\r\n        return {x, y, scale:isOpen?1:0 }\r\n    }, [isOpen, length, position.r, rate, size])\r\n    const [springs, set] = useSprings( length, fn() )\r\n    const [childHub, setChildHub] = useState( Array(length).fill(false) )\r\n    const setHub = useCallback((e, key)=>{\r\n        setChildHub(p => Object.assign([], p, {[key]:!p[key]}))\r\n        e.stopPropagation()\r\n    },[])\r\n    const children = useMemo(() => Children.map( props.children, (child,key) => {\r\n        set(fn())\r\n        return child && (child as any)?.props?.children\r\n          ? React.cloneElement(child as any, {children:\r\n                <Pills {...{key, isOpen:isOpen&&childHub[key],\r\n                    depth:depth+1, position:childPos.current[key],\r\n                    rate:rate*(1+(depth+1)*0.2),\r\n                    fontSize:50*size/(1+(depth+1)*0.2),\r\n                    ...((child as any).props||{})}}/>\r\n            })\r\n          : child\r\n    }), [childHub, depth, fn, isOpen, props.children, rate, set, size])\r\n    return (\r\n        <div style={{position:\"fixed\",left:position.x,bottom:position.y}}>\r\n            {springs.map((spring, key) =>\r\n                <animated.div key={`${depth}-${key}`} style={{...spring, ...styles.pill}}\r\n                    onClick={e=>setHub(e, key)}>\r\n                    {(children as any)[key]}\r\n                </animated.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {unregister} from './serviceWorker';\nimport {HelmetProvider} from 'react-helmet-async';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\nimport {Hook} from './Hook';\n//import {Home} from './Home';\nimport {Mesh} from './Mesh';\nimport {None} from './None';\nimport {Note} from './Note';\n\nimport './styles.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App = (\n    <HelmetProvider>\n        <BrowserRouter>\n            <Switch>\n                <Route    path=\"/\"     component={Mesh} exact/>//Home TODO\n                <Route    path='/mesh' component={Mesh}/>\n                <Route    path=\"/note\" component={Note}/>\n                <Route    path='/none' component={None}/>\n                <Route    path='/hook' component={Hook}/>\n                <Redirect path=\"/home\" to='/' />\n                <Redirect              to='/none' />\n            </Switch>\n        </BrowserRouter>\n    </HelmetProvider>\n)\n\nReactDOM.render( App , document.getElementById('root'));\nunregister();\n","import React, {FC, useState, useMemo} from 'react'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { MDBInput, MDBBtn } from 'mdbreact'\r\nimport { Mdmd } from '@tsei/mdmd'\r\nimport { useGrid } from 'use-grid'\r\nimport { Card, Grow, Head, Icon } from '../src/components'\r\nimport { useNote, usePage, useUser } from '../src/hooks'\r\nimport { Modal, Notes, Pills, Sides, Trans } from '../src/containers'\r\nimport { customPage, CustomPage, pageConfig, fetcher, signin, scrollTop } from './utils'\r\n\r\nexport const Note :FC = () => {\r\n    // ******************** FOR FETCH ******************** //\r\n    const [page, setPage] = usePage<CustomPage>(customPage, pageConfig)\r\n    const [note, setNote] = useNote(page.urls[1], fetcher)\r\n    const [user, setUser] = useUser(page.urls[2], signin, {onSign:()=>setPage({status:\"\"})})\r\n    // ******************** FOR DESIGN ******************** //\r\n    const [lang, setLang] = useState<string>(page.language)\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    // ******************** FOR RENDER ******************** //\r\n    const onView       = useMemo(()=>()=>setNote(p=>p?.next),[setNote])\r\n    const onClick      = useMemo(()=>()=>setPage({id:\"\"})   ,[setPage])\r\n    const onSignin     = useMemo(()=>()=>setPage(p=>({status:p.status===  \"\"?\"IN\":\"\"  })),[setPage])\r\n    const onMouseEnter = useMemo(()=>()=>setPage(p=>({status:p.status===\"UP\"?\"IN\":\"UP\"})),[setPage])\r\n    const [left,right] = useMemo(()=>{\r\n        const style = {transform:\"translate(-50%)\",left:\"50%\",marginTop:size*50}\r\n        return [\"cooment\",\"arrow-left\"].map(fa => (<Icon {...{fa,size,style,onClick}}/>))\r\n    }, [size,onClick])\r\n    return (\r\n        <div style={{background:dark?\"#000\":\"#f1f1f1\",minHeight:\"100%\",paddingTop:size*100,overflow:\"hidden\"}}>\r\n            <Helmet>\r\n                <title>{note?\"note\":\"Loading...\"}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Head {...{dark,size,onClick,}}>Note</Head>\r\n            { note && note.results instanceof Array &&\r\n            <Notes {...(page.isHome?{}:{size,left,right})}>{note.results.map(({\r\n                ja_text=\"\",//note_id=\"\",author_name=null, //,posted_time=null,\r\n                en_text=\"\",     id=\"\" }) =>\r\n                <div key={id}>\r\n                    <Card {...{...page.isHome?{max:500,onClick:()=>setPage({id:id+\"\"})}:{size},dark}}>\r\n                        <Mdmd color={dark?\"dark\":\"elegant\"} style={{fontSize:\"1.2rem\"}}\r\n                             source={lang===\"ja\"?ja_text:en_text}/>\r\n                    </Card>\r\n                </div> )}\r\n            </Notes> } { (!note || note.next) &&\r\n            <Grow {...{size,onView,onClick:()=>setNote(p=>p?p?.next||p?.now:null )}} /> }\r\n            {/******************** Modals ********************/}\r\n            <Modal {...{dark,size,open:!!page.status,onClose:()=>setPage({status:\"\"})}}>\r\n                <Card {...{dark,size,style:{max:\"100vh\"}}}>\r\n                    <Head {...{dark,size,onMouseEnter}}>SIGN {user.isAuth?\"OUT\":page.status}</Head>\r\n                    {!user.isAuth && user.input.map((v,k)=>v.name===\"email\"&&page.status!==\"UP\"?null:\r\n                    <MDBInput {...v} key={k}/> )}\r\n                    <MDBBtn color=\"elegant\"\r\n                        style={{width:\"100%\",borderRadus:size*50}}\r\n                        onClick={()=>setUser(page.urls[2])}\r\n                        children={user.isAuth?\"Signout\":\"Get!\"}/>\r\n                </Card>\r\n            </Modal>\r\n            {/******************** FANTASTIC UI ********************/}\r\n            <Sides {...{size}}>\r\n                <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'ja':'en')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size>1?'':''}</div>\r\n            </Trans>\r\n            <Pills {...{size}}>\r\n                <Icon fa=\"ellipsis-h\"        {...{dark,size}} onClick={()=>null}>\r\n                    <Icon fa=\"arrow-left\"    {...{dark,size}} onClick={onClick}/>\r\n                    <Icon fa=\"location-arrow\"{...{dark,size}} onClick={scrollTop}/>\r\n                    <Icon fa=\"sign-in-alt\"   {...{dark,size}} onClick={onSignin}/>\r\n                </Icon>\r\n            </Pills>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TODO : make in last of note\r\n// !isHome && (note.children||[]).map((child:any,i:number) =>\r\n//     <Card {...{key:i,dark,size,style:{fontSize:\"1.2rem\"}}}>\r\n//         <Mdmd source={child[`${lang}_text`]}/>\r\n//     </Card>)\r\n","import { useEffect, useCallback, useState, useRef } from 'react'\r\nimport { None, NoteNode as NN, NoteGetter, NotePoster, NoteConfig, URLType, BasicProps } from '../types'\r\nimport { is, equalPathname } from '../utils'\r\n//import useSWR from 'swr'\r\nexport const useNote = (\r\n    initGetURL: BasicProps<URLType|string>,\r\n    initGetter: NoteGetter|null=null,\r\n    initPoster: NotePoster|null=null,\r\n    initNoteConfig: Partial<NoteConfig>={}\r\n) : [ NN, (\r\n        updateGetURL: ((pre:NN)=>None<URLType|string>)|None<URLType|string>,\r\n        updateGetter?: NoteGetter|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void, (\r\n        updatePoster?: NotePoster|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void\r\n] => {\r\n    if (is.fun(initGetURL)) initGetURL = initGetURL()\r\n    if (is.str(initGetURL)) initGetURL = new URL(initGetURL)\r\n    const getURLRef  = useRef<URLType>()\r\n    const getterRef  = useRef(initGetter)\r\n    const posterRef  = useRef(initPoster)\r\n    const configRef  = useRef(initNoteConfig)\r\n    const isFetching = useRef<boolean>(false)\r\n    const [note,set] = useState<NN>(null)\r\n    //  *************************  useEffect  *************************  //\r\n    useEffect(() => {\r\n        if (equalPathname(getURLRef.current, initGetURL as URLType)) return\r\n        getURLRef.current = initGetURL as URLType\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (getterRef.current)\r\n            getterRef.current(getURLRef.current).then((res:any) => {\r\n                setTimeout(() => void (isFetching.current = false), 1000)\r\n                set(pre => res || pre)\r\n            })\r\n    }, [initGetURL])\r\n    //  *************************  getNote  *************************  //\r\n    //  * getNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * getNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    const getNote = useCallback((updateURL,updateGetter=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.fun(updateURL   )) updateURL = updateURL(note);\r\n        if (is.str(updateURL   )) updateURL = new URL(updateURL);\r\n        if (is.nul(updateGetter)) updateGetter = getterRef.current;\r\n        const previousURL = getURLRef.current\r\n        getURLRef.current = updateURL\r\n        getterRef.current = updateGetter\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        if (getterRef.current)\r\n            getterRef.current(updateURL).then((res:any) => {\r\n                setTimeout(() => (isFetching.current = false), 1000)\r\n                set(pre => {\r\n                    console.log(\"update\");\r\n                    if (!equalPathname(previousURL, getURLRef.current)) return res\r\n                    const {onChange=null} = configRef.current\r\n                    typeof onChange===\"function\" && onChange()\r\n                    const diff = pre\r\n                      ? (pre.results||[]).filter((p:any) =>\r\n                      ! (res.results||[]).find((r:any) => r.id===p.id)\r\n                    ) : []\r\n                    return {...res, results:[...diff, ...res.results]}\r\n                })\r\n            })\r\n    }, [note])\r\n    //  *************************  postNote  *************************  //\r\n    //  ************************* ************** *************************  //\r\n    const postNote = useCallback((updatePoster=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.nul(updatePoster)) updatePoster = posterRef.current;\r\n        posterRef.current = updatePoster\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        return\r\n        // TODO\r\n        // posterRef.current().then(res => {\r\n        //     setTimeout\r\n        // })\r\n    }, [])\r\n    return [note, getNote, postNote]\r\n}\r\n","/** *************************  USE USER  *************************\r\n *  This is a hook to manage user info and API\r\n *    - const [user, set] = useUser(url, fetcher)\r\n *    - ```\r\n *      ```\r\n *  # ***** useUser API Configs *****\r\n *  ## Props Values\r\n *    - `const _ = usePage(@initURL, @initFetcher, @initConifg)`\r\n *    - @initURL:string\r\n *    - @initFetcher:function\r\n *    - @initConfig : {\r\n *        @\r\n *      }\r\n *  ## Return Values\r\n *    - `const [user, setUser] = useUser(...)`\r\n *    - @user : {\r\n *        @username : user name from fetched API e.g. tseijp\r\n *        @authtoken: user token from cookie\r\n *        @input    : for input Components\r\n *       ~@credit   : the value to send at fetching~\r\n *        @status   : the acton at fetch e.g. IN, UP, OUT or \"\"\r\n *        @userlang : user language from window.navigator.language e.g. ja, en\r\n *      }\r\n *    - @setUser\r\n *      `setUser()`       : Toggle fetching\r\n *      ~`setUser(null)`   : switch status IN->UP or UP->IN~\r\n *      ~`setUser(boolean)`: switch status '' or IN|UP|OUT~\r\n *  # TODO : from usePages : add following keys\r\n ** ************************* ************** *************************/\r\nimport {useCallback, useState, useMemo, useRef} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport {URLType,User,UserConfig,UserSignin} from '../types'\r\nimport {defaultUserConfig} from '../utils'\r\nexport const useUser = (\r\n    initURL :URLType,\r\n    initSign:UserSignin,\r\n    initConfig:Partial<UserConfig>=defaultUserConfig // TODO to config.keys.map\r\n) : [ User, {(\r\n    updateURL ?:URLType|null,\r\n    updateSignin?:UserSignin|null,\r\n    updateConfig?:Partial<UserConfig>,\r\n) : void } ] => {\r\n    const urlRef    = useRef<URLType>(initURL)\r\n    const signinRef = useRef<UserSignin>(initSign)\r\n    const configRef = useRef<UserConfig>({...defaultUserConfig,...initConfig})\r\n    const [cookies, set, del] = useCookies(configRef.current.keys)\r\n    const [credit, setCredit] = useState({username:cookies.username||'',password:'',email:''})\r\n    // *************************  For setUser  ************************* //\r\n    const setUser = useCallback((\r\n        updateURL    = null,\r\n        updateSignin = null,\r\n        updateConfig = {}\r\n    ) => {\r\n        const {onSign=null,onSignin=null,onSignout=null,onError=null} = initConfig\r\n        if (updateURL)       urlRef.current = updateURL\r\n        if (updateSignin) signinRef.current = updateSignin\r\n        if (updateConfig) configRef.current = updateConfig\r\n        return (cookies.authtoken)\r\n          ? (del('authtoken',{path:'/'}), onSign&&onSign(), onSignout&&onSignout())\r\n          : signinRef\r\n            .current(urlRef.current, credit)\r\n            .then( (user:{[K in 'username'|'authtoken']:string}) => {\r\n                if (!user.username || !user.authtoken)\r\n                    throw new Error()\r\n                onSign   && onSign()  ; set(\"username\" ,user.username ,{path:'/'});\r\n                onSignin && onSignin(); set(\"authtoken\",user.authtoken,{path:'/'});\r\n            })\r\n            .catch((_:any)=>onError&&onError())\r\n    }, [cookies,set,del,credit,initConfig] )\r\n    // *************************  For Render  ************************* //\r\n    const onChange = useCallback(({target}:any) => {\r\n        setCredit(p => ({...p, [target.name]:target.value}) )\r\n    }, [])\r\n    const user = useMemo<User>(() => ({\r\n        username :cookies.username ||'', isAuth:!!cookies.authtoken,\r\n        authtoken:cookies.authtoken||'', input: Object\r\n            .entries({username:'user',password:'lock',email:'envelope'})\r\n            .map(([name,icon]) => ({\r\n                label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n                group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n                ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"})\r\n            }))\r\n    }), [cookies, credit, onChange])\r\n    return [user, setUser]\r\n}\r\n    /*const input = useMemo<User[\"input\"]>(() => Object\r\n        .entries({username:'user',password:'lock',email:'envelope'})\r\n        .map(([name,icon]) => ({\r\n            label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n            group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n            ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"}),\r\n    })), [credit, onChange])\r\n    return [useMemo(() => ({\r\n        username :cookies.username ||'',\r\n        authtoken:cookies.authtoken||'', input,\r\n        //status : sign?\"\":cookies.authtoken?\"OUT\":inup\r\n    }), [cookies, input]), setUser]\r\n}*/\r\n"],"sourceRoot":""}