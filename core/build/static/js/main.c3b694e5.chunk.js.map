{"version":3,"sources":["page/serviceWorker.ts","src/components/Card.tsx","page/codes/core/Card.tsx","src/components/Code.tsx","page/codes/core/Code.tsx","src/components/Grow.tsx","page/codes/core/Grow.tsx","src/utils.ts","src/containers/Notes.tsx","page/codes/core/Notes.tsx","src/containers/Split.tsx","page/codes/core/Split.tsx","src/components/Head.tsx","src/containers/Trees.tsx","page/codes/core/Trees.tsx","src/meshs/Kinect.tsx","page/codes/mesh/Kinect.tsx","src/meshs/Model.tsx","src/meshs/Swarm.tsx","page/codes/mesh/Model.tsx","src/meshs/Motion.tsx","page/codes/mesh/Motion.tsx","page/utils.ts","src/hooks/usePage.ts","src/components/Icon.tsx","src/containers/Sides.tsx","src/containers/Trans.tsx","page/Hook.tsx","page/None.tsx","src/containers/Modal.tsx","src/containers/Pills.tsx","page/Note.tsx","page/index.tsx","src/hooks/useNote.ts","src/hooks/useUser.ts"],"names":["Boolean","window","location","hostname","match","Card","children","size","rate","space","style","dark","color","max","min","props","useSpring","xyz","set","styleCard","useMemo","minHeight","maxHeight","margin","padding","position","width","borderRadius","overflow","background","calc","useCallback","x","y","innerWidth","innerHeight","bind","useGesture","onDrag","event","stopPropagation","onHover","hovering","onMove","xy","div","boxShadow","interpolate","z","join","transform","zIndex","textAlign","verticalAlign","fontSize","colors","childs","HookCard","useControl","type","value","items","codeCard","require","atomOneLight","atomOneDark","Light","Code","code","language","inline","onDoubleClick","_","navigator","clipboard","writeText","customStyle","display","PreTag","useInlineStyles","showLineNumbers","codes","HookCode","codeCode","Grow","onView","role","className","fn","useRef","ref","useEffect","current","useView","e","isIntersecting","height","HookGrow","codeGrow","topUp","text","charAt","toUpperCase","slice","toLowerCase","clamp","range","sign","num","samp","a","l","d","length","Array","fill","getWRate","o","w","map","v","s","filter","reduce","b","equalPathname","urls","u","URL","joinURL","pathname","every","self","defaultPageConfig","onChange","defaultPage","id","split","find","i","isHome","isLocal","protocol","portname","port","search","hash","href","normPage","page","state","Object","entries","sort","forEach","key","val","arr","getp","geti","n","maxLength","joinPage","defaultUserConfig","keys","user","onSign","onSignin","onSignout","strArray","resultArray","TypeError","shift","replace","str","String","push","parts","is","isArray","obj","prototype","toString","call","fun","und","nul","Set","Map","equ","r","g","debug","styles","top","left","right","NotesSide","px","to","scale","NotesItem","Notes","order","grandren","depth","useState","setLength","setHeight","isOpen","setIsOpen","orderRef","heightRef","targetRef","setPosition","from","c","clientHeight","len","getY","pre","getG","mx","my","down","j","indexOf","useSprings","springs","onClick","setTimeout","cancel","movement","startTime","last","args","vxvy","vx","vy","timeStamp","row","Math","round","ind","ret","swap","p","assign","getF","Children","child","grand","toArray","React","cloneElement","HookNotes","codeNotes","overflowX","whiteSpace","Split","styleItem","sRef","lRef","hRef","wRef","h","spring","setH","setW","first","dir","direction","k","m","W","move","animation","drag","lockDirection","HookSplit","number","codeSplit","Head","defaultConfig","restSpeedThreshold","restDisplacementThreshold","textOverflow","cursor","marginRight","fontFamily","textTransform","willChange","marginLeft","paths","TreeIcon","CloseSquareO","viewBox","MinusSquareO","PlusSquareO","EyeO","TreesContent","content","canHide","icon","opacity","Icon","iconClick","open","immediate","eyeClick","EyeOstyle","Trees","visible","root","springConfig","topStyle","config","default","borderLeft","HookTrees","codeTrees","cropValue","Kinect","url","nearClipping","depthWrite","pointSize","farClipping","depthTest","zOffset","video","document","createElement","src","loop","load","muted","play","THREE","points","geometry","material","uniforms","useFrame","pos","Float32Array","floor","setAttribute","bufferGeometry","attach","shaderMaterial","transparent","blending","fragmentShader","vertexShader","HookKinect","use","scrub","distance","gl","antialias","logarithmicDepthBuffer","camera","far","pixelRatio","devicePixelRatio","onCreated","outputEncoding","toneMapping","intensity","codeKinect","Model","useLoader","GLTFLoader","animations","nodes","group","actions","mixer","modelPos","delta","update","updateProjectionMatrix","lookAt","actionNum","idle","clipAction","weight","timeScale","console","log","clip","uncacheClip","dispose","rotation","PI","object","skeleton","skinning","Swarm","count","mesh","dummy","random","mul","add","particles","t","xFactor","factor","yFactor","speed","zFactor","particle","cos","sin","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","HookModel","scl","castShadow","fallback","defaultURL","Motion","gltfURL","textureURL","action","gltf","texture","HookMotion","xz","rxz","ry","codeMotion","scrollTop","getElementById","scroll","behavior","pageConfig","customPage","isSign","status","fetcher","headers","axios","get","then","res","Error","data","signin","cred","post","token","username","authtoken","hookTree","getval","hookPage","Hook","CODES","usePage","pageRef","confRef","defaultConf","setPage","newPage","history","pushState","fa","circ","onOpen","xys","userSelect","SidesArea","SidesContainer","backgroundColor","SidesIcon","Sides","opened","setOpened","bool","wobbly","slow","close","stiff","velocity","TransArea","TransIcon","rotateZ","TransContainer","TransItem","alignItems","Trans","getr","unit","onBind","onPinch","offset","transition","item","card","ctrl","CardHook","None","lang","setLang","useGrid","md","lg","setDark","setSize","alpha","rel","Modal","onClose","justifyContent","createPortal","Pills","childPos","childHub","setChildHub","setHub","bottom","App","path","component","exact","initGetURL","initGetter","initPoster","initNoteConfig","getURLRef","getterRef","posterRef","configRef","isFetching","note","getNote","updateURL","updateGetter","updateConfig","previousURL","diff","results","postNote","updatePoster","useNote","setNote","initURL","initSign","initConfig","urlRef","signinRef","useCookies","cookies","del","password","email","credit","setCredit","setUser","updateSignin","onError","catch","target","name","isAuth","input","label","validate","autoComplete","error","success","useUser","next","onMouseEnter","marginTop","paddingTop","ja_text","en_text","source","now","borderRadus","charSet","init","xs","sm","side","setSide","title","anchor","collapsed","ids","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.c3b694e5.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/***Card\r\n  *     Ref : https://codesandbox.io/embed/rj998k4vmm\r\n  *           https://coliss.com/articles/build-websites/operation/css/\r\n ***/\r\nimport React, {CSSProperties as CSS, FC, useCallback, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {useSpring, animated as a} from 'react-spring'\r\nexport type Card = FC<BasedProps<{\r\n    max:number,\r\n    min:number,\r\n    rate:number,\r\n    space:number,\r\n}>>\r\nexport const Card:Card = ({\r\n    children, size=1, rate=1, space=0, style={},\r\n    dark=false, color=\"\",max=0, min=0, ...props\r\n}) => {\r\n    const [{xyz}, set] = useSpring(()=>({xyz:[0,0,0]}))\r\n    const styleCard = useMemo<CSS>(() => {\r\n        const minHeight = min||size*500\r\n        const maxHeight = max||null//size*500\r\n        return {margin:`${space}px auto ${space}px auto`, padding:0,position:\"relative\",\r\n                width:`min(80%,${size*500}px)`,borderRadius:size*25,overflow:\"hidden\",\r\n            ...(minHeight&&{minHeight}),background : dark?\"#212121\":\"#fff\",\r\n            ...(maxHeight&&{maxHeight}),color:color||dark?\"#818181\":\"#000\",}\r\n    }, [size, space, color, dark, max, min])\r\n    const calc = useCallback((x, y)=>[\r\n       (x - window.innerWidth  / 2) / size / 250, // -1 ~ 1\r\n       (y - window.innerHeight / 2) / size / 250, // -1 ~ 1\r\n        rate], [size, rate])\r\n    const bind = useGesture({\r\n        onDrag : ({event})    => event?.stopPropagation(),\r\n        onHover: ({hovering}) => !hovering && set({xyz:[0,0,0]}),\r\n        onMove : ({xy:[x,y]}) => set({xyz:calc(x,y)}),\r\n    })\r\n    return <a.div style={{\r\n            boxShadow:xyz.interpolate((x,y,z) => [\r\n                `${0.5-x*2}rem`,//offset-x     : -1.5 ~ 0.5 ~ 2.5\r\n                `${1.5-y*2}rem`,//offset-y     : -0.5 ~ 1.5 ~ 3.5\r\n                `${1.5 + z}rem`,//blur-radius  : 1.5 =hover=> 2.5\r\n                `${z - 0.5}rem`,//spread-radius:-0.5 =hover=> 0.5\r\n                `hsl(200 50% 20% / ${15+z*5}%)`].join(' ')),\r\n            transform:xyz.interpolate((x,y,z) => [\r\n                `perspective(${size*50}px)`,\r\n                `rotateX(${-y/10}deg)`     ,//-0.1 ~ 0.1\r\n                `rotateY(${ x/10}deg)`     ,//-0.1 ~ 0.1\r\n                `scale(${1+z/10})` ,].join(' ')),\r\n            zIndex:xyz.interpolate((x,y,z) => x*y*z>0 ? 1 : 0),\r\n            ...styleCard, ...style }}\r\n           {...bind()}\r\n           {...{...props,children}}/>\r\n}\r\n","import React, {\r\n    FC, CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Card} from '../../../src'\r\nconst style:CSS = {textAlign:\"center\", verticalAlign:\"middle\", padding:\"auto auto\", fontSize:100}\r\nconst colors = [\"white\", \"black\", ]\r\nconst childs = [\"white\", \"black\", ]\r\nexport const HookCard:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const min   = useControl('min'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const max   = useControl('max'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const color    = useControl('color'   , {type: 'select' , value: colors[0], items: colors})\r\n    const children = useControl('children', {type: 'select' , value: childs[0], items: childs})\r\n    return (\r\n        <Card {...{dark,size,min,max,children}}\r\n            style={{...style,color,margin:`${size*100}px auto ${size*100}px auto`}}/>\r\n    )\r\n}\r\nexport const codeCard =\r\n`import {Card} from '@tsei/core'\r\nconst App =  => (\r\n    <Card\r\n        dark={false}\r\n        size={1}\r\n        min ={0}\r\n        max ={0}\r\n        color=\"\"/>\r\n)`\r\n","import React, {FC, useCallback, useMemo} from \"react\";\r\nimport {BasedProps} from '../types'\r\nconst {atomOneLight, atomOneDark} = require('react-syntax-highlighter/dist/esm/styles/hljs');\r\nconst {Light} = require('react-syntax-highlighter');\r\n\r\nexport type Code = FC<BasedProps<{\r\n    code:string, language:string, inline:boolean\r\n}>>\r\nexport const Code:Code = ({\r\n    code='', language=\"javascript\", inline=false, dark=false, size=1, style={}, ...props//children,\r\n}) => {\r\n    const onDoubleClick = useCallback((_:any)=>navigator.clipboard.writeText(code),[code])\r\n    const customStyle = useMemo(()=>{\r\n        return {...(inline?{verticalAlign:\"top\",padding:0}:{}),padding:\"1rem\",\r\n            display:inline?\"inline-block\":\"fixed\", position:'relative', margin:0,}\r\n    }, [inline])\r\n    return <Light   {...props} PreTag={inline?\"span\":\"pre\"}    useInlineStyles={true}\r\n                    {...{customStyle, onDoubleClick, language}}showLineNumbers={!inline}\r\n             style={{...(dark?atomOneDark:atomOneLight),fontSize:`${size}rem`,...style}}>\r\n                    {code}</Light>\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Code} from '../../../src'\r\nconst items = ['javascript', 'python']\r\nconst codes = [\r\n`import React from 'react'\r\n\r\nexport const usePage = (props, config) => {\r\n    if (typeof props ===\"function\")  props = props()\r\n    if (typeof config===\"function\") config = config()\r\n    const pageRef = React.useRef({...defaultPage, ...props })\r\n    const confRef = React.useRef({...defaultConf, ...config})\r\n    const [p,set] = React.useState( normPage(pageRef.current) )\r\n    const setPage = React.useCallback((state) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    React.useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [p.id])\r\n    return [p, setPage]\r\n}`,]\r\nexport const HookCode:FC = () => {\r\n    const dark  = useControl('dark'   , {type: 'boolean', value: false})\r\n    const inline= useControl('inline' , {type: 'boolean', value: false})\r\n    const size  = useControl('size'   , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const code     = useControl('code'    , {type: 'string', value:codes[0]})\r\n    const language = useControl('language', {type: 'select', value:items[0], items})\r\n    return (\r\n        <Code {...{dark,inline,size,code,language}} />\r\n    )\r\n}\r\nexport const codeCode =\r\n`import {Code} from '@tsei/core'\r\nconst codeCode = \"hello\"\r\nconst App =  => (\r\n    <Code\r\n        dark    = {false}\r\n        inline  = {false}\r\n        size    = {1}\r\n        code    = {\"javascript\"}\r\n        language= {\"...\"}/>\r\n)`\r\n","import React, {CSSProperties as CSS, FC,useEffect, useMemo, useRef} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useView} from 'use-grid'\r\nexport type Grow = FC<BasedProps>\r\nexport const Grow:Grow = ({\r\n    onView=null, role=\"status\",\r\n    size=1, className=\"spinner-grow\", ...props\r\n}) => {\r\n    const fn = useRef()\r\n    const ref = useRef(null)\r\n    useEffect(()=>{fn.current = onView}, [onView])\r\n    useView(ref, (e:any) => 1\r\n        && e.isIntersecting\r\n        && typeof fn.current===\"function\"\r\n        && (fn.current as any)())\r\n    const style = useMemo<CSS>(()=>({\r\n        position:\"relative\",display:\"grid\",margin:`${size*50}px auto 0 auto`,\r\n        width:size*250,height:size*250,...(props.style||{})\r\n    }), [size, props.style])\r\n    return <div  {...props} {...{ref,role,className,style}} />\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Grow} from '../../../src'\r\nexport const HookGrow:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    return (\r\n        <Grow {...{dark, size}}/>\r\n    )\r\n}\r\nexport const codeGrow =\r\n`import {Grow} from '@tsei/core'\r\nconst App =  => (\r\n    <Grow\r\n        dark={true}\r\n        size={1}/>\r\n)`\r\n","import {Page, PageConfig, URLType, UserConfig} from './types'\r\n// *************************  FOR Components  ************************* //\r\n\r\nexport const topUp = (text=\"\"):string => \"\"+text.charAt(0).toUpperCase()+\"\"+text.slice(1).toLowerCase()\r\nexport const clamp = (x:number, min=0, max=1) :number  => (x<min)?min:(x>max)?max:x\r\nexport const range = (x:number, min=0, max=1) :boolean => min < x && x < max\r\nexport const swap  = (arr:number[],ind:number,row:number) => {\r\n    const ret = [...arr.slice(0, ind), ...arr.slice(ind+1, arr.length)]\r\n    return [...ret.slice(0, row), ...arr.slice(ind, ind+1), ...ret.slice(row)]\r\n}\r\nexport const sign =(num=0):number=> 0\r\n    ||  (num < 0 &&-1)\r\n    ||  (num > 0 && 1)\r\n    ||  (num===0 && 0)\r\n    ||  0\r\nexport const samp = <T extends any>(a:T[], l:number, d?:T):T[] => [\r\n    ...a.slice(0,l),\r\n    ...(l-a.length>0? Array(l-a.length).fill(d||a[0]) : [])\r\n]\r\nexport const getWRate = (o=[] as number[],l=0,w=0,width=window.innerWidth) =>\r\n    o instanceof Array && o.length > 0\r\n        ? samp(o, l, -1)\r\n            .map((v=0) => 0\r\n                || (w > 0 && (w <= 1 ? w : w/width))\r\n                || (v > 0 && (v <= 1 ? v : v/width))\r\n                || (v < 0 && -1)\r\n                || 0)\r\n            .map((v,_,s) => v>=0? v : 1 - [...s.filter(v=>v>0),0].reduce((a,b)=>a+b)/s.filter(v=>v<0).length)\r\n        : Array(l).fill(l>0?1/l:l)\r\n\r\n// *************************  use-page  ************************* //\r\nexport const equalPathname = (...urls:(URLType|string|undefined|null|false)[]) =>\r\n    urls.map(u => typeof u===\"string\"? new URL(u) : u)\r\n        .map(u => u && joinURL(u.pathname, \"/\"))\r\n        .every((u, _, self) => u===self[0])\r\n\r\nexport const defaultPageConfig:PageConfig = {\r\n    onChange:null,\r\n}\r\nexport const defaultPage = {\r\n    id      :window.location.pathname.split('/').filter(v=>v).find((_,i)=>i===1)||\"\",\r\n    isHome  :window.location.pathname.split('/').filter(v=>v).length > 1,\r\n    isLocal :window.location.hostname===\"localhost\",\r\n    protocol:window.location.protocol ||\"\",\r\n    hostname:window.location.hostname ||\"\",\r\n    portname:window.location.port     ||\"\",\r\n    pathname:window.location.pathname ||\"\",\r\n    search  :window.location.search   ||\"\",\r\n    hash    :window.location.hash     ||\"\",\r\n    language:window.navigator.language||\"ja\",\r\n    urls    :[new URL(window.location.href)],\r\n}\r\nexport const joinPage = <T={}>(page:Page<T>):string|string[] => {\r\n    const {protocol,hostname,portname,pathname=\"\",search=\"\",hash=\"\"} = page;\r\n    const arr  =[protocol,hostname,portname,pathname,search,hash]\r\n    const getp =(port:any)=>port?`:${port}`:\"\"\r\n    const geti =(i=0,n:any)=>n instanceof Array?(i<n.length?n[i]:n[n.length-1]):n\r\n    if (arr.every(v=>typeof v===\"string\"))\r\n        return joinURL(`${protocol}//${hostname}${getp(portname)}/`,pathname as any, search as any)\r\n    const maxLength = arr.map(v=>v instanceof Array?v.length:1).reduce((a,b)=>a>b?a:b)\r\n    return [...Array(maxLength)].map((_,i) =>\r\n        joinURL( `${geti(i,protocol)}//${geti(i,hostname)\r\n            }${getp(geti(i,portname))}/`,geti(i,pathname),geti(i,search) )\r\n    ) as string[]\r\n}\r\nexport const normPage = <T extends {}={}>(page:Page<T>) => {\r\n    const state = {...page} as any//Page<T>\r\n    Object.entries(state).sort(([_,val]) => typeof val===\"function\"?1:-1)\r\n    .forEach(([key,val]:any) => (state[key]=typeof val===\"function\"?val(state):val))\r\n    const urls = joinPage<T>(state as Page<T>)\r\n    return {...state, urls:urls instanceof Array\r\n      ? urls.map((u:any) => typeof u===\"string\" ? new URL(u) : u) as URLType[]\r\n      : [typeof urls===\"string\" ? new URL(urls) : urls] as URLType[] } as Page<T>\r\n}\r\n\r\n// *************************  For useUser  ************************* //\r\nexport const defaultUserConfig:UserConfig = {\r\n    keys:['username','authtoken'],\r\n    user:null,\r\n    onSign:null,\r\n    onSignin:null,\r\n    onSignout:null\r\n}\r\n// *************************  join-url  ************************* //\r\n// * This function is fork of join-url/urljoin\r\n// * Code : https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\r\n// ************************* *************** ************************* //\r\nexport function joinURL (...strArray:(string|number)[]) : string {\r\n    var resultArray = [];\r\n    if (strArray.length === 0) return ''\r\n    if (typeof strArray[0] !== 'string') throw new TypeError('Url must be string.');\r\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1)\r\n        strArray[0] = strArray.shift() + strArray[0];\r\n    if (strArray[0].match(/^file:\\/\\/\\//))\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\r\n    else\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\r\n    strArray = strArray.filter(str=>str!==\"\")\r\n    for (var i = 0; i < strArray.length; i++) {\r\n        let str = strArray[i];\r\n        if (typeof str === 'number') str = String(str)\r\n        if (typeof str !== 'string') throw new TypeError(`${str} must be a string. Received ${typeof str}`);\r\n        if (str === '') continue;\r\n        if (i > 0) str = str.replace(/^[\\/]+/, '');                   //eslint-disable-line\r\n        if (i < strArray.length - 1) str = str.replace(/[\\/]+$/, ''); //eslint-disable-line\r\n        else str = str.replace(/[\\/]+$/, '/');                        //eslint-disable-line\r\n        resultArray.push(str);\r\n    }\r\n    let str = (resultArray as string[]).join('/');\r\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\r\n    let parts = str.split('?');\r\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\r\n    return str;\r\n}\r\n// *************************  helpers  ************************* //\r\n// * This function is fork of react-spring\r\n// * Code : https://github.com/pmndrs/react-spring/blob/master/src/shared/helpers.ts\r\n// ************************* *************** ************************* //\r\nexport const is = {\r\n    arr: Array.isArray,\r\n    obj: (a: unknown): a is object    => Object.prototype.toString.call(a) === '[object Object]',\r\n    fun: (a: unknown): a is Function  => typeof a === 'function',\r\n    str: (a: unknown): a is string    => typeof a === 'string',\r\n    num: (a: unknown): a is number    => typeof a === 'number',\r\n    und: (a: unknown): a is undefined => a === void 0,\r\n    nul: (a: unknown): a is null      => a === null,\r\n    set: (a: unknown): a is Set<any>  => a instanceof Set,\r\n    map: (a: unknown): a is Map<any, any> => a instanceof Map,\r\n    equ(a: any, b: any) {\r\n    if (typeof a !== typeof b) return false\r\n        if (is.str(a) || is.num(a)) return a === b\r\n        if (is.obj(a) &&\r\n            is.obj(b) &&\r\n            Object.keys(a).length + Object.keys(b).length === 0)\r\n            return true\r\n        let i\r\n        for (i in a) if (!(i in b))     return false\r\n        for (i in b) if (a[i] !== b[i]) return false\r\n        return is.und(i) ? a === b : true\r\n    },\r\n}\r\n\r\nexport function merge(target: any, lowercase: boolean = true) {\r\n  return (object: object) =>\r\n    (is.arr(object) ? object : Object.keys(object)).reduce(\r\n        (acc: any, element) => {\r\n            const key = lowercase\r\n              ? element[0].toLowerCase() + element.substring(1)\r\n              : element\r\n            acc[key] = target(key)\r\n            return acc\r\n        },\r\n        target\r\n    )\r\n}\r\n","import React, {ReactChild as RC, FC, CSSProperties as CSS, Children,useCallback,useEffect,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated as a} from 'react-spring'\r\nimport {useGesture,} from 'react-use-gesture'\r\nimport {clamp, swap} from '../utils'\r\nimport {BasedProps} from '../types'\r\nconst background = ({r=0,g=0,b=0,a=.1,debug=true}:any) => debug?{background:`rgba(${[r,g,b,a].join(',')})`}:{}\r\nconst styles:{[key:string]:CSS} = {\r\n    cont: {position:\"relative\",width:\"100%\",zIndex:0,margin:`auto`},\r\n    main: {position:\"relative\",width:\"100%\",zIndex:0,},\r\n    side: {position:\"absolute\",top:0,left:0,right:0,margin:\"auto\"},\r\n    btn : {position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translate(-50%,-50%)\" },\r\n}\r\nexport const NotesSide:FC<BasedProps> = ({\r\n    children,size=1,height=0,x, debug=false,\r\n}) => x.interpolate((px:number)=>px**2<=0 ) ? null :\r\n    <a.div children={children} style={{...styles.side, height, ...background({b:255,debug}),\r\n        y:0,  x:x.to((px:number)=> -px+(px>0?-.5:.5)*(size*500)),\r\n        scale  :x.to((px:number)=>px**2/4>size**2?1:(px>0?px:-px)/(size)),\r\n        width  :x.to((px:number)=>px>0?px*2:-px*2),\r\n        display:x.to((px:number)=>px?\"inline\":\"none\") }}/>\r\nexport const NotesItem:FC<BasedProps> = ({children,x}) => !children ? null :\r\n    <a.div style={{...styles.btn,display:x.to((px:number)=>px<0?\"inline\":\"none\")}}>\r\n        {children} </a.div>\r\nexport type Notes = FC<BasedProps<{\r\n    grandren:any,right:RC,left:RC, depth:number, space:number|string,\r\n}>>\r\nexport const Notes:Notes = ({\r\n    order=null, grandren=null, debug=false,\r\n    right=null, left=null, depth=0, space=0,\r\n    size=1, style={}, ...props\r\n}) => {\r\n    const [length, setLength] = useState<number>((props?.children as any)?.length||1)\r\n    const [height, setHeight] = useState<number>(props.height || size*500*length)\r\n    const [isOpen, setIsOpen] = useState<boolean[]>(Array(length).fill(false))\r\n    const orderRef    = useRef<number[]>(order||[...Array(length)].map((_,i:number)=>i))\r\n    const heightRef   = useRef( Array(length).fill(size*500) )\r\n    const targetRef   = useRef<HTMLDivElement|null>(null)\r\n    const setPosition = useCallback(() => {\r\n        if (props.height) return setHeight(props.height)\r\n        const childs  = Array.from(targetRef?.current?.children||[])\r\n        heightRef.current = [...childs].map((c:any)=>c.clientHeight||0)\r\n        props.children && setHeight([...heightRef.current,0].reduce((a,b)=>a+b) || size*500*length)\r\n    }, [size, length, props.height, props.children])\r\n    useEffect(()=>{\r\n        const len = (props.children as any)?.length||1\r\n        setLength(len)\r\n        setIsOpen(Array(len).fill(false))\r\n        if (orderRef.current.length === len) return\r\n         orderRef.current = order||[...Array(len)].map((_,i:number)=>i)\r\n        heightRef.current = Array(len).fill(size*500)\r\n    }, [size,order, props.children])\r\n    //  *************************   React Springs  *************************  //\r\n    const getY = ({pre=0,arr=orderRef.current})=>pre<1?0:[...arr.slice(0,pre).map(i=>heightRef.current[i]),0].reduce((a,b)=>a+b)\r\n    const getF = ({i=-1,x=0,s=1.0})=>(j=0)=>({x:j===i?x:0,y:getY({pre:orderRef.current.indexOf(j)}),scale:j===i?s:1})\r\n    const getG = useCallback(({i=-1,arr=orderRef.current,pre=-1,mx=0,my=0,down=false}) =>\r\n        (j:number) => (down&&j===i)\r\n            ? {scale:0.9, x:mx, y:getY({pre})+my}\r\n            : {scale:1.0, x:0 , y:getY({pre:arr.indexOf(j),arr})}, [])\r\n    const [springs, set] = useSprings(length, getG({}))\r\n    const bind = useGesture({\r\n        onClick:()=>setTimeout(()=>{setPosition();set(getG({})) },1),\r\n        onDrag : ({ down,cancel,movement:[mx,my],startTime,\r\n                    last, args:[i], vxvy:[vx,vy],timeStamp, }) => {\r\n            if(!last && cancel && timeStamp-startTime<1) cancel()\r\n            const pre = orderRef.current.indexOf(i)\r\n            const row = clamp( Math.round(pre+my/size*500), 0, length-1 )\r\n            const arr = swap(orderRef.current, pre, row)\r\n            if(!down) orderRef.current = arr\r\n            if(!last) return set( getG({i,arr,pre,mx,my,down}) )\r\n            const x = (mx<0?-1:1) * size*50// * 2 // window.innerWidth/2 -\r\n            const op = (mx**2<.1||x**2<mx**2*2||vx**2+vy**2>1) ? !isOpen[i] : isOpen[i]\r\n            setIsOpen(p=>[...Object.assign([],{[i]:!p[i]})])\r\n            setTimeout(()=>{setPosition();set(getF({i,s:op?1:1}))},1)//TODO: s is .9?\r\n        }\r\n    })\r\n    //  *************************   Child Render  *************************  //\r\n    const children = useMemo(() => Children.map(props.children, (child) => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []//count(child.props.children) || 0\r\n        return (grand.length>1 && depth===0) // TODO for depth > 0\r\n            ? React.cloneElement(child as any, {children:grand[0], grandren:(\r\n                <Notes {...{...props, depth:depth+1,children:grand.slice(1)}}/> )})\r\n            : child\r\n    }), [depth, props])\r\n    useEffect(()=>{ setPosition(); set(getG({})) }, [setPosition, set, getG] )\r\n    return (\r\n        <div ref={targetRef} style={{...styles.cont,height,...style, ...background({r:255,debug})}}>\r\n            {springs.map( ({x,y,scale}, key) =>\r\n                <a.div {...{key}} {...bind(key)} style={{x,y,position:\"absolute\",width:\"100%\"}}>\r\n                    <a.div style={{...styles.main,scale,padding:space, ...background({g:255,debug})}}>\r\n                        {(children as any)[key]}\r\n                    </a.div>\r\n                    <NotesSide {...{x,size,debug,height:heightRef.current[key]}}>\r\n                        <NotesItem x={x}>{right}</NotesItem>\r\n                        <NotesItem x={x}>{left}</NotesItem>\r\n                    </NotesSide>\r\n                    { isOpen[key] ? (children as any)[key]?.props?.grandren||'':'' }\r\n                </a.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Notes, Card} from '../../../src'\r\nexport const HookNotes:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const debug = useControl('debug', {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const space = useControl('space', {type: 'number' , value:50, min: 0, max:100})\r\n    const depth = useControl('depth', {type: 'number' , value: 0, min: 0, max: 2})\r\n    const child = useControl('child', {type: 'number' , value: 3, min: 0, max: 10})\r\n    return (\r\n        <Notes {...{dark, debug, size, space, depth:~~depth}}>\r\n        {[...Array(~~child)].map((_,i) =>\r\n            <Card min={1} key={i} style={{\r\n                height:size*100,\r\n                background:`rgba(255,0,0,0.1)`}}>{i}</Card>\r\n        )}\r\n        </Notes>\r\n    )\r\n}\r\nexport const codeNotes =\r\n`import {Notes} from '@tsei/core'\r\nconst App =()=> (\r\n    <Notes\r\n        dark={true}\r\n        size={1}>\r\n        <div style={{height:size*100,background:\"rgba(255,0,0,0,1)\"}}>1</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>2</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>3</div>\r\n    </Notes>\r\n)`\r\n","import React, {CSSProperties as CSS,FC,Children,useMemo,useEffect,useRef} from 'react'\r\nimport {useSpring, useSprings, animated as a} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {clamp,range,sign,getWRate,} from '../utils'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    cont: {position:\"relative\",overflowX:\"hidden\",width:\"100%\" ,whiteSpace:\"nowrap\",},\r\n    item: {position:\"relative\",overflow:\"visible\",height:\"100%\",display:\"inline-block\",verticalAlign:\"top\"},\r\n}\r\nexport type Split = FC<BasedProps<{\r\n    order :number[]|[], styleItem:CSS,\r\n    width :number, height:number, min:number\r\n}>>\r\nexport const Split:Split = ({\r\n    order=[], width=0, height=0, min=.1,\r\n    dark=false,size=1, style={}, styleItem={}, ...props\r\n}) => {\r\n    const sRef = useRef<number>(0)\r\n    const lRef = useRef<number>((props as any)?.children?.length||1)\r\n    const hRef = useRef<number>(height||1)\r\n    const wRef = useRef<number[]>(getWRate(order, lRef.current, width,))\r\n    const [spring,  setH] = useSpring(() => ({h:hRef.current}))\r\n    const [springs, setW] = useSprings(wRef.current.length, i=>({w:wRef.current[i],z:0}))\r\n    const move = (mx=0, k=0, s=1, m=0, w=wRef.current, W=window.innerWidth) => (i=0) =>\r\n        [k,k+s].every(e => range(e, -1, lRef.current))\r\n        ? (i===k||i===k+s) && range(w[i]+mx*s*(i===k?1:-1)/W, m, w[k]+w[k+s]-m)? {w:w[i]+mx*s*(i===k?1:-1)/W}:null\r\n        : (i===k||i===k-s) && range(w[i]-mx*s*(i===k?1:-1)/W, m, w[k]+w[k-s]-m)? {w:w[i]-mx*s*(i===k?1:-1)/W}:null\r\n    const bind = useGesture({\r\n        onDrag:({first, last, args:[key], movement:[mx,my], direction:[dir]}) => {\r\n            if (sRef.current===0||first) sRef.current = sign(dir);\r\n            sign(dir) && sign(dir)===sRef.current &&\r\n            setW(move(mx,key,sign(dir),min))\r\n            setH({h:clamp(hRef.current+my/window.innerHeight, min, 1)})\r\n            if (!last) return\r\n            wRef.current = springs.map((s:any) => s.w.animation.to || 0)\r\n            hRef.current = spring.h.animation.to as number || 0\r\n        }\r\n    }, {drag:{lockDirection :true}})\r\n    const children = useMemo(() => Children.map(props.children, c=>c), [props.children])\r\n    useEffect(() => {\r\n        const len = (props as any)?.children?.length||0\r\n        if (len===lRef.current) return\r\n        lRef.current = len\r\n        wRef.current = [...wRef.current.map(v=>v-1/len/wRef.current.length), 1/len]\r\n        setW((i) => ({w:wRef.current[i]}))\r\n    },  [props, setW])\r\n    useEffect(() => {\r\n        wRef.current = getWRate(order,lRef.current,width)\r\n        setW(i=>({w:wRef.current[i]}))\r\n    }, [width, setW, order])\r\n    useEffect(() => {\r\n        hRef.current = height||1\r\n        setH({h:hRef.current})\r\n    }, [height, setH])\r\n    return (\r\n        <a.div style={{...styles.cont, height:spring.h.interpolate(v=>`${v*100}%`),\r\n                       ...style}} {...props}>\r\n            {springs.map(({w},key) =>\r\n                <a.div {...bind(key)} {...{key}} style={{\r\n                        ...styles.item, ...styleItem,\r\n                        width:w.interpolate(v => `${100*v}%`),\r\n                        //zIndex:z.interpolate(v => ~~(v*10))\r\n                    }}>\r\n                    {(children as any)[key]}\r\n                </a.div>\r\n            )}\r\n        </a.div>\r\n    )\r\n}\r\n\r\n//https://github.com/gregberge/react-merge-refs/blob/master/src/index.tsx\r\n// export default function mergeRefs<T = any>(\r\n//     refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\r\n// ): React.RefCallback<T> {\r\n//     return (value) => {\r\n//         refs.forEach((ref) => {\r\n//             if (typeof ref === \"function\") {\r\n//                 ref(value);\r\n//             } else if (ref != null) {\r\n//                 (ref as React.MutableRefObject<T | null>).current = value;\r\n//             }\r\n//         });\r\n//     };\r\n// }\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Split,} from '../../../src'\r\n\r\nexport const HookSplit:FC = () => {\r\n    const dark  = useControl('dark'  , {type: 'boolean', value: false})\r\n    const size  = useControl('size'  , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const min   = useControl('min'   , {type: 'number' , value: 0, min: 0, max: 1})\r\n    const width = useControl('width' , {type: 'number' , value: 0, min: 0, max: 1})\r\n    const height= useControl('height', {type: 'number' , value: 0, min: 0, max: 1})\r\n    const number= useControl('number', {type: 'number' , value: 5, min: 0, max:10})\r\n    return (\r\n        <div style={{height:\"50vh\"}}>\r\n            <Split {...{dark,size,min,width,height}}>\r\n            {[...Array(~~number)].map((_, num) =>\r\n                <div key={num} style={{width:\"100%\",height:\"100%\",background:`rgba(${[\r\n                    `${num     % 3 * 255 / 3}`,\r\n                    `${(num+1) % 3 * 255 / 3}`,\r\n                    `${(num+2) % 3 * 255 / 3}`\r\n                ].join(`, `)},.1)`}}/>\r\n            )}\r\n            </Split>\r\n        </div>\r\n    )\r\n}\r\nexport const codeSplit =\r\n`import {Split} from '@tsei/core'\r\nexport const Split = (\r\n        <Target\r\n            dark  = {false}\r\n            size  = {1}\r\n            min   = {0}\r\n            width = {0}\r\n            height= {0}>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n        </Target>\r\n)`\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\n\r\nexport type Head = FC<BasedProps>\r\nexport const Head:Head = ({\r\n    children, color=\"\", dark=false,size=1, style={}, ...props\r\n}) => {\r\n    style = useMemo<CSS>(()=>({\r\n        fontSize:size*50,\r\n        color:color||dark?\"#818181\":\"#000\",\r\n        width:`max(70vw, 100vw - ${size*200}px)`,\r\n        height:\"auto\",\r\n        margin:\"auto\",\r\n        ...style\r\n    }), [color,dark,size,style])\r\n    return <div {...{children,style,...props}}/>\r\n}\r\n","// This is a fork of\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/index.js\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/icons.js\r\n// demo: https://codesandbox.io/embed/rrw7mrknyp\r\n//     @content, Name of the node (string or React-component)\r\n//     @type   , optional description, good for displaying icons, too (string or React-component)\r\n//     @open   , optional: default open state\r\n//     @canHide, optional: when set true displays an eye icon\r\n//     @visible, optional: default visible state\r\n//     @onClick, optional: click events on the eye\r\n//     @springConfig, optional: react-spring animation config\r\nimport React, {\r\n    CSSProperties as CSS, FC, Children,\r\n    useCallback,useMemo, useState, useEffect, //useRef\r\n} from 'react'\r\nimport {useSpring, config, animated as a} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst defaultConfig = {restSpeedThreshold: 1,restDisplacementThreshold: 0.01}\r\nconst styles:{[key:string]:CSS} = {\r\n    tree: {padding:'4px 0px 0px 0px',overflow:'hidden',verticalAlign:'middle',\r\n           position:'relative',whiteSpace:'nowrap',textOverflow: 'ellipsis',},\r\n    tggl: {width:'1em',height:'1em',cursor:'pointer',verticalAlign:'middle',marginRight:10,},\r\n    type: {fontSize:'0.6em',fontFamily:'monospace',verticalAlign:'middle',textTransform:'uppercase',},\r\n    cont: {willChange:'transform, opacity, height',marginLeft:6,},\r\n}\r\nconst paths = {\r\n    close:\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155 q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\",\r\n    minus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0 q0 -15 -11 -25.5t-25 -10.5z\",\r\n    plus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184 q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\",\r\n    eye: \"M963 384q0 14 -21 62q-26 65 -61 109q-57 71 -139 112q-99 50 -230 50t-231 -50q-80 -41 -138 -112q-34 -43 -61 -109q-21 -48 -21 -62v0v0v0v0q0 -14 21 -62q27 -66 61 -109q57 -71 139 -112q100 -50 230 -50t230 50q81 41 139 112q35 44 62 109q20 48 20 62v0v0v0v0z M889 384q-25 -77 -64 -126h-1q-46 -59 -114 -93q-85 -42 -198.5 -42t-198.5 42q-67 34 -114 93q-40 49 -65 126q25 77 65 126q47 59 114 93q85 43 199 43t198 -43q67 -33 114 -93q40 -49 65 -126zM512 558q-72 0 -122.5 -50.5t-50.5 -122.5t50.5 -122.5t122.5 -50.5 t122.5 50.5t50.5 122.5t-50.5 122.5t-122.5 50.5zM614 385q0 -42 -30 -72t-72 -30t-72 30t-30 72t30 72t72 30t72 -30t30 -72z\",\r\n}\r\nexport type TreeIcon = {[key:string]:FC<{style:CSS,onClick:()=>void,className?:string}>}\r\nexport const TreeIcon:TreeIcon = {\r\n    CloseSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.close}/></g></svg>,\r\n    MinusSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.minus}/></g></svg>,\r\n    PlusSquareO : props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.plus}/></g></svg>,\r\n    EyeO        : props => <svg {...props} viewBox=\"61  51 902 666\"><g><path d={paths.eye}/></g></svg>,\r\n}\r\nexport type TreeContent = FC<BasedProps<{\r\n    [key:string]:any, set:any, content:any, type:any,\r\n    canHide:boolean, opacity:number, root:number, icon:\"Minus\"|\"Plus\"|\"Close\"\r\n}>>\r\nexport const TreesContent:TreeContent = ({\r\n    content,type,set,canHide=false,icon=\"Close\",opacity=1,dark=false,//size=1,\r\n}) => {\r\n    const Icon = useMemo(() => TreeIcon[`${icon}SquareO`], [icon])\r\n    const color = useMemo(() => dark?\"#818181\":\"#212121\", [dark])\r\n    const iconClick = useCallback(() => set&&set((p:any) => ({open:!p.open,immediate:false})), [set])\r\n    const eyeClick  = useCallback(() => set&&set((p:any) => ({...p        ,immediate:true })), [set])\r\n    return !content ? null : (\r\n        <>\r\n            <Icon style={{...styles.tggl, opacity, color}} onClick={iconClick}/>\r\n            <span style={{...styles.type, marginRight:type?10:0,color}}>{type}</span>\r\n            { canHide &&\r\n            <TreeIcon.EyeOstyle style={{...styles.tggl}} onClick={eyeClick}/> }\r\n            <span style={{verticalAlign:'middle',color}}>{content}</span>\r\n        </>\r\n    )\r\n}\r\nexport type Trees = FC<BasedProps<{\r\n    open:boolean, visible:boolean, immediate:boolean, springConfig:any,\r\n    canHide:boolean, topStyle:CSS, depth:number, type:any, content:any,\r\n}>>\r\nexport const Trees:Trees = ({\r\n    open=true, visible=true, immediate=true, depth=0, root=1, springConfig=defaultConfig,\r\n    dark=false, size=1, style={}, topStyle={}, ...props\r\n}) =>  {\r\n    const [state, set] = useState<{[key:string]:boolean}>({open,visible,immediate})\r\n    const spring = useSpring<any>({\r\n        immediate:state.immediate,\r\n        config: {...config.default,...springConfig},\r\n        from: {height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\r\n        to: {  height: state.open ? 'auto' : 0,\r\n              opacity: state.open ? 1      : 0,\r\n            transform: state.open ? 'translate3d(0px,0,0)' : 'translate3d(20px,0,0)'},\r\n    })\r\n    const children = useMemo(() => Children.map(props.children, child => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []\r\n        return props.children &&\r\n            <Trees {...{...props,\r\n                dark, size, style, depth:depth+1, topStyle:{},\r\n                open:depth<root, children:grand.length>1 ? grand.slice(1) : null,\r\n                immediate:false, content:grand.length>1 ? grand[0] : child,}}/>\r\n    }), [props, dark, size, style, depth, root])\r\n    const icon = useMemo(() => children instanceof Array && children.length>0\r\n        ? (state.open ? 'Minus' : 'Plus')\r\n        : 'Close', [children, state.open])\r\n    useEffect(() => void (set(p => visible!==p.visible? {...p, visible} : p)), [visible])\r\n    return (\r\n        <div style={{...styles.tree, fontSize:size*50, zIndex:-depth, ...style, ...topStyle}}>\r\n            <TreesContent{...{...props, dark, size, icon, set, opacity:children?.length?1:.3}}/>\r\n            <a.div style={{\r\n                ...(depth>0?{borderLeft:`1px dashed #${dark?818181:212121}`}:{}),\r\n                ...styles.cont, padding:`4px 0px 0px ${size*25}px`,\r\n                ...spring, }}>{children}</a.div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Trees, Head} from '../../../src'\r\nconst items = ['0', '1', '2', '3']\r\nexport const HookTrees:FC = () => {\r\n    const dark     = useControl('dark'     , {type: 'boolean', value: false})\r\n    const open     = useControl('open'     , {type: 'boolean', value: true })\r\n    const visible  = useControl('visible'  , {type: 'boolean', value: true })\r\n    const immediate= useControl('immediate', {type: 'boolean', value: true })\r\n    const canHide  = useControl('canHide'  , {type: 'boolean', value: false})\r\n    const depth    = useControl('depth'    , {type: 'number' , value: 0, min: 0, max: 2})\r\n    const root     = useControl('root'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const size     = useControl('size'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const icon     = useControl('icon'     , {type: 'select' , value: 'Close' , items:['Minus','Plus','Close']})\r\n    const content  = useControl('content'  , {type: 'select' , value: items[0], items})\r\n    return (\r\n        <Head {...{dark,open,visible,immediate,canHide,depth,root,size,icon,content}}>\r\n            <Trees>\r\n                <>\r\n                    <>1</>\r\n                    <>1 - 1</>\r\n                    <>1 - 2</>\r\n                </>\r\n                <>\r\n                    <>2</>\r\n                    <>2 - 1</>\r\n                    <>2 - 2</>\r\n                </>\r\n            </Trees>\r\n        </Head>\r\n    )\r\n}\r\nexport const codeTrees =\r\n`import {Trees} from '@tsei/core'\r\nconst App = () => (\r\n    <Trees\r\n        dark = {false}\r\n        open = {true}\r\n        visible = {true}\r\n        immediate = {true}\r\n        canHide = {false}\r\n        depth = {0}\r\n        root = {1}\r\n        size = {1}\r\n        icon = {\"Close\"}\r\n        content={\"0\"}>\r\n        <>\r\n            <>1</>\r\n            <>1 - 1</>\r\n            <>1 - 2</>\r\n        </>\r\n        <>\r\n            <>2</>\r\n            <>2 - 1</>\r\n            <>2 - 2</>\r\n        </>\r\n    </Trees>\r\n)\r\n`\r\n\r\n// const bind = (background=\"\") => ({\r\n//     style: {background},\r\n//     onClick: () => console.log('HI')\r\n// })\r\n// export const Trees:FC = () => {\r\n//     return (\r\n//         <Head {...{dark:0,size:1}}>\r\n//             <TREES content=\"Hook\">\r\n//                 <>\r\n//                     <span {...bind(\"rgba(255,0,0,.1)\")}>Components</span>\r\n//                     <span {...bind(\"rgba(0,255,0,.1)\")}>Card</span>\r\n//                     <span {...bind(\"rgba(0,0,255,.1)\")}>Modal</span>\r\n//                 </>\r\n//                 <span {...bind(\"rgba(0,0,0,.1)\")}>_</span>\r\n//             </TREES>\r\n//         </Head>\r\n//     )\r\n// }\r\n","import React, { useMemo, useRef} from 'react'\r\nimport {useFrame} from 'react-three-fiber'\r\nimport {useSpring, a} from 'react-spring/three'\r\nimport * as THREE from 'three'\r\n\r\nconst cropValue=(dir:any)=>Object.assign({},...Object.keys(dir).map(key=>(\r\n    {[key]:{value:dir[key]}}\r\n)))\r\n\r\nconst vertexShader = `\r\nvarying vec2 vUv;\r\nuniform sampler2D map;\r\nuniform float width, height, space, pointSize, zOffset, nearClipping, farClipping;\r\nconst float XtoZ = 1.11146; // tan( 1.0144686 / space ) * space;\r\nconst float YtoZ = 0.83359; // tan( 0.7898090 / space ) * space;\r\n\r\nvoid main() {\r\n    vUv = vec2( position.x / width, position.y / height );\r\n    vec4 color = texture2D( map, vUv );\r\n    float depth = ( color.r + color.g + color.b ) / 3.0;\r\n    float z = ( 1.0 - depth ) * (farClipping - nearClipping) + nearClipping;\r\n    vec4 pos = vec4(\r\n        ( position.x / width - 0.5 ) * z * XtoZ,\r\n        ( position.y / height - 0.5 ) * z * YtoZ,\r\n        - z + zOffset,\r\n        1.0\r\n    );\r\n\r\n    gl_PointSize = pointSize;\r\n    gl_Position = projectionMatrix * modelViewMatrix * pos;\r\n}\r\n`\r\nconst fragmentShader = `\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    vec4 color = texture2D( map, vUv );\r\n    gl_FragColor = vec4( color.r, color.g, color.b, .5);\r\n}\r\n`\r\n\r\nexport const Kinect = ({ url,\r\n    position=[0,0,0],\r\n    width=640, nearClipping=1000, depthWrite=false, pointSize=5, space=2,\r\n    height=850, farClipping=4000, depthTest=false, zOffset=1000, ...props\r\n}:any) => {\r\n    // ******************** Mount ******************** //\r\n    const map = useMemo<any>(()=>{\r\n        const video = document.createElement('video');\r\n        if (!video) return\r\n        video.src   = url;\r\n        video.loop  = true; video.load();\r\n        video.muted = true; video.play();\r\n        return new THREE.VideoTexture(video)\r\n    }, [url])\r\n    const points   = useRef<any>()\r\n    const geometry = useRef<any>()\r\n    const material = useRef<any>()\r\n    const uniforms = useSpring(() => cropValue({\r\n        width, nearClipping, map, space,\r\n        height, farClipping, pointSize, zOffset\r\n    }))\r\n    // ******************** Render ******************** //\r\n    useFrame(()=>{\r\n        const pos = new Float32Array( width*height*3 )\r\n        for ( var i=0, j=0, l=pos.length; i<l; i+=3, j++ ) {\r\n            pos[ i ] = j % width;\r\n            pos[i+1] = Math.floor( j/width );\r\n        }\r\n        geometry.current.setAttribute('position', new THREE.BufferAttribute(pos,3));\r\n        points.current.position.x = position[0]\r\n        points.current.position.y = position[1]\r\n        points.current.position.z = position[2]\r\n        material.current.depthTest  = depthTest\r\n        material.current.depthWrite = depthWrite\r\n        material.current.uniforms = cropValue({\r\n            width, nearClipping, map, space,\r\n            height, farClipping, pointSize, zOffset\r\n        })\r\n    })\r\n    return (\r\n        <a.points {...props}  ref={points} position={position} >\r\n            <a.bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n            <a.shaderMaterial ref={material} attach=\"material\"\r\n                transparent blending={THREE.AdditiveBlending}\r\n                {...{...uniforms,\r\n                    depthTest, fragmentShader,\r\n                    depthWrite, vertexShader,\r\n                }}/>\r\n        </a.points>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas, } from 'react-three-fiber'\r\nimport {useControl as use} from 'react-three-gui';\r\nimport {TransformControls} from 'drei'\r\nimport {Kinect} from '../../../src'\r\n\r\nexport const HookKinect :FC = () => {\r\n    const depthTest = use('depthTest', {type:'boolean', value:false, })\r\n    const depthWrite = use('depthWrite', {type:'boolean', value:false})\r\n    const nearClipping = use('nearClipping', {type:'number', value:1000, min:0, max:2000})\r\n    const farClipping = use('farClipping', {type:'number', value:4000, min:0, max:8000})\r\n    const pointSize = use('pointSize', {type:'number', value:5, min:0, max:10, spring: true})\r\n    const zOffset = use('zOffset', {type:'number', value:1000, min:0, max:2000})\r\n    const space = use('space', {type:'number', value:5, min:0, max:10})\r\n    const url = use('url', {type: \"select\", items: [\"/static/core/kinect.mp4\", \"\"]})\r\n    const pos = use('position', {type:'xypad', value: {x:0,y:0}, scrub:true, distance:1000})\r\n    const props = {\r\n        nearClipping,\r\n        farClipping,\r\n        depthTest,\r\n        depthWrite,\r\n        pointSize,\r\n        zOffset,\r\n        space,\r\n        url,\r\n        position:[pos.x, 0, 500+pos.y]\r\n    }\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer: true}}\r\n                style={{width:'100%',height:'calc(100vh - 2rem)'}}\r\n                camera={{position:[0,0,500], far:2000}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated ={({gl}:any) => {\r\n                    gl.outputEncoding = THREE.sRGBEncoding\r\n                    gl.toneMapping    = THREE.ACESFilmicToneMapping\r\n                }}>\r\n            <ambientLight intensity={1.1} />\r\n            <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n            <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n            <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n            <TransformControls>\r\n                <Kinect {...props}/>\r\n            </TransformControls>\r\n        </Canvas>\r\n    )\r\n}\r\nexport const codeKinect =\r\n`\r\nimport {Kienct} from '@tsei/core'\r\nimport {Canvas} from 'react-three-fiber'\r\nconst MyCanvas = () =>\r\n    <Canvas>\r\n        <Kinect />\r\n    </Canvas\r\n`\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n//import { draco } from 'drei'\r\n\r\nconst defaultURL = \"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb\"\r\n\r\nexport const Model = ({\r\n    url=defaultURL,dark=true, size=50, position=[0,-11,0],scale=[7,7,7]}:any) => {\r\n    const {animations, nodes}:any = useLoader(GLTFLoader, url, )\r\n    const group = useRef<any>(null)\r\n    const actions = useRef<any>(null)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(null as any))\r\n    const modelPos  = {x:position[0],y:position[2]}\r\n    useFrame(({camera}:any, delta)=>{\r\n        mixer.update(delta)\r\n        if(! group?.current?.position) return\r\n        group.current.position.x = modelPos.x\r\n        group.current.position.z = modelPos.y\r\n        camera.updateProjectionMatrix(void (\r\n            camera.lookAt(new THREE.Vector3(modelPos.x/2,0,modelPos.y/2))))\r\n    })\r\n    useEffect(() => {\r\n        const actionNum = size > 50 ? 3 : 1\r\n        actions.current = { idle: mixer.clipAction(animations[actionNum], group.current) }\r\n        actions.current.idle.play()\r\n        actions.current.idle.weight = 1\r\n        actions.current.idle.timeScale = 1\r\n        console.log(actions.current.idle)\r\n        return () => animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [animations,mixer,size])\r\n    if (!nodes)\r\n        return null\r\n    console.log(nodes)\r\n    return (\r\n        <group ref={group} {...{position, scale}} dispose={null}>\r\n          <group rotation={[Math.PI/2,0,0]} scale={[0.01,0.01,0.01]}>\r\n            <primitive object={nodes[\"mixamorigHips\"]} />\r\n            <skinnedMesh geometry={nodes[\"Beta_Joints\"].geometry}\r\n                skeleton={nodes[\"Beta_Joints\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x212121:0x000000}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n            <skinnedMesh geometry={nodes[\"Beta_Surface\"].geometry}\r\n                skeleton={nodes[\"Beta_Surface\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x000000:0xffffff}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n          </group>\r\n        </group>\r\n    )\r\n}\r\n","import React, {useCallback, useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const Swarm = ({ dark=false, size=50, count=25}:any) => {\r\n    const mesh = useRef<any>(null)\r\n    const dummy = useMemo(() => new THREE.Object3D(), [])\r\n    const random = useCallback((mul=1,add=0)=>add+Math.random()*mul, [])\r\n    const particles = useMemo(() => [...Array(count)].map(()=>({\r\n        t     :random(100),       xFactor:random(40,-20), mx:0,\r\n        factor:random(100,2),     yFactor:random(40,-20), my:0,\r\n        speed :random(1/200,0.01),zFactor:random(40,-20),})), [random,count])\r\n    useFrame(() => {\r\n        particles.forEach((particle, i) => {\r\n            let { t, factor, speed, xFactor, yFactor, zFactor } = particle\r\n            t = particle.t += speed / 2\r\n            const a = Math.cos(t) + Math.sin(t * 1) / 10\r\n            const b = Math.sin(t) + Math.cos(t * 2) / 10\r\n            const s = Math.max(1.5, Math.cos(t) * size / 10)\r\n            dummy.position.set(\r\n                (particle.mx/10)*a + xFactor + Math.cos((t/10)*factor) + (Math.sin(t*1)*factor)/10,\r\n                (particle.my/10)*b + yFactor + Math.sin((t/10)*factor) + (Math.cos(t*2)*factor)/10,\r\n                (particle.my/10)*b + zFactor + Math.cos((t/10)*factor) + (Math.sin(t*3)*factor)/10,\r\n            )\r\n            dummy.scale.set(s, s, s)\r\n            dummy.updateMatrix()\r\n            mesh.current.setMatrixAt(i, dummy.matrix)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <>\r\n            <instancedMesh ref={mesh} args={[null,null,count] as [any,any,number]}>\r\n                <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                <meshPhongMaterial attach=\"material\" color={dark?0x000000:0xffffff} />\r\n            </instancedMesh>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC, Suspense, } from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {useControl} from 'react-three-gui'\r\nimport {Model, Swarm} from \"../../../src\"\r\nexport const HookModel :FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max:  2})\r\n    const scl   = useControl('scale', {type: 'number' , value: 7, min: 0, max: 15})\r\n    const pos   = useControl('position', {type:'xypad', value: {x:0,y:0}, scrub:true, distance:10})\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer:true}}\r\n                style={{width:\"100%\", height:\"calc(100vh - 2rem)\"}}\r\n                camera={{position:[0,-2,3]}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated={({gl})=>{gl.outputEncoding=THREE.sRGBEncoding}}>\r\n            <fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <Model {...{dark,size,position:[pos.x,-11,pos.y],scale:[scl,scl,scl]}}/>\r\n                <Swarm  {...{dark,size}}/>\r\n            </Suspense>\r\n        </Canvas>\r\n    )\r\n}\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n// https://codesandbox.io/s/r3f-character-interaction-voef7?file=/src/Character.jsx:1209-1219\r\nimport * as THREE from \"three\"\r\nimport React, {useRef, useState} from \"react\"\r\nimport {useLoader,useFrame} from \"react-three-fiber\"\r\nimport {GLTFLoader} from \"three/examples/jsm/loaders/GLTFLoader\"\r\nconst defaultURL =\r\n   [\"/static/core/FallGuyDefalti.glb\",\r\n    \"/static/core/FallGuyDefalti.png\"]\r\nexport const Motion = ({\r\n    gltfURL=\"/static/core/FallGuyHiphopDancing.glb\",//defaultURL[0],\r\n    textureURL=defaultURL[1],\r\n    action=0, dark=true, size=50, ...props\r\n}) => {\r\n    const group   = useRef<any>(null)\r\n    const gltf    = useLoader<any>(GLTFLoader, gltfURL)\r\n    const texture = useLoader(THREE.TextureLoader, textureURL);\r\n    const actions = useRef<any>(null)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(null as any))\r\n    React.useEffect(() => {\r\n        const num = -1<action && action<gltf.animations.length ? action: 0\r\n        const idle = mixer.clipAction(gltf.animations[num], group.current)\r\n        actions.current = { idle }\r\n        actions.current.idle.play()\r\n        return () => gltf.animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [action, gltf.animations, mixer])\r\n    useFrame((_, delta) => {mixer.update(delta)})\r\n    return (\r\n        <group ref={group} {...props} dispose={null}>\r\n            <group scale={[.01,.01,.01]} rotation={[1.3,0,0]} position={[0,-1,2]}>\r\n                <primitive object={gltf.nodes['mixamorigHips']} />\r\n                <skinnedMesh\r\n                    geometry={gltf.nodes[\"Body\"].children[0].geometry}\r\n                    skeleton={gltf.nodes[\"Body\"].children[0].skeleton}>\r\n                    <meshPhongMaterial attach=\"material\" map={texture} skinning/>\r\n                </skinnedMesh>\r\n                <skinnedMesh\r\n                    geometry={gltf.nodes[\"Body\"].children[1].geometry}\r\n                    skeleton={gltf.nodes[\"Body\"].children[1].skeleton}\r\n                    material={gltf.nodes[\"Body\"].children[1].material}>\r\n                </skinnedMesh>\r\n                <skinnedMesh\r\n                    geometry={gltf.nodes[\"Body\"].children[2].geometry}\r\n                    skeleton={gltf.nodes[\"Body\"].children[2].skeleton}\r\n                    material={gltf.nodes[\"Body\"].children[2].material}>\r\n                </skinnedMesh>\r\n            </group>\r\n        </group>\r\n    )\r\n}\r\n//<primitive object={gltf.nodes[\"Scene\"]} />\r\n","import React, {FC, Suspense, } from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {useControl as use} from 'react-three-gui'\r\nimport {Motion} from \"../../../src\"\r\nexport const HookMotion :FC = () => {\r\n    const dark = use('dark' , {type: 'boolean', value: false})\r\n    const size = use('size' , {type: 'number' , distance:2, value: 1})\r\n    const scl  = use('scale', {type: 'number' , distance:2, value: 1})\r\n    const xz   = use('xz'   , {type: 'xypad'  , distance:2, value: {x:0,y:0}, scrub:true})\r\n    const y    = use('y'    , {type: 'number' , distance:2, value: 0, min:-1})\r\n    const rxz  = use('rxz'  , {type: 'xypad'  , distance:2, value: {x:0,y:0}, scrub:true})\r\n    const ry   = use('ry'   , {type: 'number' , distance:2, value: 0, min:-1})\r\n    const action= use('action'   , {type: 'number' , distance:10, value: 0})\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer:true}}\r\n                style={{width:\"100%\", height:\"calc(100vh - 2rem)\"}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated={({gl})=>{\r\n                    gl.outputEncoding=THREE.sRGBEncoding\r\n                }}>\r\n            {/*<fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />*/}\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <Motion {...{\r\n                    dark,size,action:~~action,\r\n                    position:[ xz.x,  y,  xz.y],\r\n                    rotation:[rxz.y, rxz.x,-ry],\r\n                    scale   :[scl,scl,scl]}}/>\r\n            </Suspense>\r\n        </Canvas>\r\n    )\r\n}\r\nexport const codeMotion =\r\n`import {Motion} from '@tsei/core'\r\nconst App = () => (\r\n    <Canvas {...{config}}>\r\n        <Motion\r\n            dark={false}\r\n            size={1}\r\n            position={[0,-1,0]}\r\n            rotation={[0,.5,0]}\r\n            scale   ={[1,1,1]}\r\n            />\r\n    </Canvas>\r\n)\r\n`\r\n","import axios  from 'axios'\r\nimport * as CODES from './codes'\r\nimport {Credit, URLType, Page, topUp} from '../src'\r\n// ************************* FOR NOTE ************************* //\r\nexport const scrollTop=()=>document.getElementById('root')?.scroll({top:0,left:0,behavior:'smooth',});\r\nexport const pageConfig = { onChange:() => scrollTop() }\r\nexport type CustomPage =\r\n   {portname:string[], isHome:boolean,\r\n    pathname:string[], status:string, }\r\nexport const customPage : Partial<Page<CustomPage>> = {\r\n    isSign:false,status:\"\", portname: ({isLocal}) => isLocal?[\"3000\",\"8000\",\"8000\"]:[],\r\n    isHome:({id}) => !id  , pathname: ({id,status}) =>\r\n        [   `/note/${ id?id+'/':'' }`,\r\n        `/api/note/${ id?id+'/':'' }`,\r\n        status!==\"UP\"? `/auth/`: `/api/user/`]\r\n}\r\nexport const fetcher = async (url:URLType,headers={'Content-Type':'application/json'}) =>\r\n   axios.get(url.href, {headers})\r\n        .then(res => {\r\n            if(!res || res.status!==200)\r\n                throw new Error('Bad Request')\r\n            return res.data\r\n        })\r\nexport const signin = async (url:URLType, cred:Credit, headers={'Content-Type':'application/json'}) =>\r\n   axios.post(url.href, cred, {headers})\r\n        .then((res) => {\r\n            if (res.status>201 || !res.data.token)\r\n                throw new Error('Bad Request')\r\n            return {username:cred.username, authtoken:res.data.token}\r\n        })\r\n\r\n// ************************* FOR HOOK ************************* //\r\nexport const hookTree = [\r\n    [\"Components\",\"Card\",\"Code\",\"Grow\",],//\"Head\",\"Icon\"],\r\n    [\"Containers\",\"Notes\",\"Split\",\"Trees\"],\r\n    [\"Mesh\",\"Kinect\",\"Model\",\"Motion\"],\r\n]\r\nexport type  HookPage = {pathname:string, Hook:any, code:any, codes:any}\r\nconst getval = (obj={},key='') => key in obj ? (obj as any)[key] : \"\"\r\nexport const hookPage = {\r\n    pathname: ({id=\"\"}) => `/hook/${id}`,\r\n    Hook : ({id=\"\",codes={}}) => getval(codes, 'Hook' + topUp(id)), //'page' +\r\n    code : ({id=\"\",codes={}}) => getval(codes, 'code' + topUp(id)),\r\n    codes: Object.assign({}, ...Object.entries(CODES).map(([k,v])=>({[k]:v})))\r\n}\r\n","/** ************************* USE PAGE *************************\r\n * This is a hook to record the URL of the Restfl API\r\n *   - `const [page, set] = usePage({id:null,home:({id})=>!id}, config)`\r\n *   - `const onClick=()=>set({id:90}, config)`\r\n *   - ```\r\n *     {Page, id:null}  <=data=> (DB1 : URL1 by id), (DB2 : URL2 by id)\r\n *          | change id\r\n *          |  => change URLs by id (e.g. /api to /api/90)\r\n *          v  => change user state (e.g. home:true to home:false)\r\n *     {New Page, id:90}\r\n *     ```\r\n * # ***** usePage API Configs *****\r\n * ## Props Values\r\n *   - `const _ = usePage(@initPage, @config)`\r\n *   - @initPage = {\r\n *         @isHome  :boolean\r\n *         @isLocal :boolean\r\n *         @id      :string e.g. 2\r\n *         @protocol:string e.g. \"https:\"\r\n *         @hostname:string e.g. \"localhost\"\r\n *         @portname:string e.g. \"3000\"   or [\"3000\"(npm), \"8000\"(django)]\r\n *         @pathname:string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @search  :string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @hash    :string e.g. \"#note\"  or [\"#note\"]\r\n *   - @config = {TODO}\r\n *   - type MultiPage<T=any> = T|T[]|((p:Page)=>T|T[])\r\n * ## Return Values\r\n *   - @page : {...@initPage(as T|T[]),\r\n *         @url ?: from initPage parameters    e.g. \"http...\" or [\"http...\", ...more]\r\n *         @XXX ?: any value you set when init e.g. @home:true\r\n *   - @set   : (args) => void ( setState )\r\n ** ************************* ********* *************************/\r\n\r\nimport {useEffect, useState, useCallback, useRef} from 'react'\r\nimport {defaultPageConfig as defaultConf, defaultPage, normPage} from '../utils'\r\nimport {Page , PageConfig as Conf, BasicProps, BasicState, BasicAction} from '../types'\r\nexport const usePage = <T extends {}={}>(\r\n    props :BasicProps<Partial<Page<T>>>,//BasicProps<Page<T>>,\r\n    config:BasicProps<Partial<Conf<T>>>={},\r\n) : [Page<T>, BasicAction<Partial<Page<T>>>] => {\r\n    if (typeof props===\"function\") props  = props()\r\n    if (typeof config===\"function\")config = config()\r\n    const pageRef = useRef<Page<T>>({...defaultPage, ...props } as Page<T>)\r\n    const confRef = useRef<Conf<T>>({...defaultConf, ...config} as Conf<T>)\r\n    const [page,set] = useState<Page<T>>( normPage(pageRef.current) )\r\n    const setPage = useCallback((state:BasicState<Partial<Page<T>>>) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current as Partial<Page<T>>)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [page.id])\r\n    return [page, setPage]\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nexport type Icon = FC<BasedProps>\r\nexport const Icon:Icon = ({\r\n    fa=\"\",dark=false,circ=true,size=1,onOpen=null, //onClose=null,\r\n    children,className='',...props//,color=''\r\n}) => {\r\n    const [{xys}, set] = useSpring(() => ({xys:[0,0,0]}))\r\n    const bind = useGesture({\r\n        onMove : ({vxvy:[vx,vy],last}) => set({xys:[vx,vy,last?0:1]})\r\n    })\r\n    const color = useMemo(()=>props.color||circ\r\n      ? dark?\"#818181\":\"#fff\"\r\n      : \"#212121\",[props.color,circ,dark])\r\n    const style = useMemo<CSS>(() => ({\r\n        padding:\"0px\",top:0,right:0,textAlign:\"center\",userSelect:\"none\",\r\n        ...(circ?{borderRadius:size*50,background:\"#212121\"}:{}),\r\n        ...props.style,color,height:size*50,width:size*50,fontSize:size*50\r\n    }), [size,circ,color,props.style] )\r\n    return <a.div style={{\r\n                x : xys.interpolate((x,y,s) => x*size*50+y*s),\r\n                y : xys.interpolate((x,y,s) => y*size*50+x*s),\r\n                filter : xys.interpolate((x,y,s) => [\r\n                    `drop-shadow(${0.1+x}rem`, // -x~0.5~x\r\n                                `${0.5+y}rem`, // -y~1.5~y\r\n                                `${1-s/2}rem`, // 1 =hover=> 0.5\r\n                    `rgba(0,0,0, ${0.5+s/20}))`// 0.50 =hover=> 0.55\r\n                ].join(' ')),\r\n                transform : xys.interpolate((x,y,s) => [\r\n                    `perspective(${size*50}px)`,\r\n                    `rotateX(${-y}deg)`,//-1 ~ 1\r\n                    `rotateY(${x}deg)` ,//-1 ~ 1\r\n                    `scale(${1+s/10})` ,// 1 ~ 1.1\r\n                ].join(' ')),\r\n            ...style} as CSS}\r\n           {...{children,className:className+fa?` fas fa-${fa}`:\"\"}}\r\n           {...bind()} {...props} />\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from'../types'\r\nimport {Trees} from '../containers'\r\nimport {Icon} from '../components'\r\nconst styles:{[key:string]:CSS} = {\r\n    area: {position:\"fixed\",top:0,left:0,height:\"100%\",zIndex:1},\r\n    cont: {position:\"fixed\",top:\"2%\",left:0,zIndex:1,overflowX:\"hidden\",height:`96%`},\r\n    icon: {position:\"absolute\",transform:`translate(-50%,-50%)`},\r\n    item: {padding:\"10px 10px 10px 32px\",color:\"#818181\",display:\"block\",}\r\n}\r\nexport const SidesArea :FC<BasedProps> = ({spring, bind, size=1}) =>\r\n    <a.div style={{...styles.area,\r\n        width     : spring.x.to((x:number)=>x>1?\"100%\":`${size*50/2}px`),\r\n        background: spring.scale.to((s:number)=>{\r\n            const rate  = spring.x.animation.to/window.innerWidth //0 ~ 0.5\r\n            return `linear-gradient(90deg,rgba(0,0,0,${rate+s-1}),rgba(0,0,0,0))`})\r\n        }} {...bind()} />\r\n\r\nexport const SidesContainer : FC<BasedProps> = ({size=1, spring, children}) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.x.interpolate((x:number)=>x>0?x:0),\r\n        borderRadius:`0px ${50*size}px ${50*size}px 0px`,\r\n        backgroundColor:\"#212121\"}}>\r\n        <div style={{margin:`${50*size}px 0px 0px 0px`, position:\"absolute\"}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const SidesIcon : FC<BasedProps> = ({spring, bind, circ=false, size=1}) =>\r\n    <a.div {...bind()} style={{...styles.icon,...spring,top:size*50,left:size*50}}>\r\n        <Icon fa=\"align-left\" {...{circ,size}} />\r\n    </a.div>\r\n\r\n// export const SidesItem :FC<BasedProps> = ({children, size=1}) =>\r\n//     <a.div style={{...styles.item,transition:\"0.75s\",fontSize:50*size}}>{children}</a.div>\r\n\r\nexport type Sides = FC<Partial<BasedProps<{}>>>\r\nexport const Sides:Sides = ({children, width=window.innerWidth/2,dark=false,size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool=true)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring( () => ({x:0,y:0,scale:1}) )\r\n    const open =(v=0)=>1&&(setOpened(true),set({x:width,y:0,config:v!==0?config.wobbly:config.slow}))\r\n    const close=(v=0)=>1&&(setOpened(false),set({x:0    ,y:0,config:{...config.stiff,velocity:v }}))\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:(opened.current?width:0)+(down?mx:0),y:down?my:0})\r\n            if(!opened.current) return (mx===0||mx> width*0.5||vx> 0.5) ? open(vx) : close(vx)\r\n            if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ? close(vx): open(vx)\r\n        },\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\", top:0,left:0,zIndex:100}}>\r\n            <SidesIcon   {...{size, spring, bind, }} />\r\n            <SidesArea     {...{size, spring, bind, }} />\r\n            <SidesContainer{...{size, spring, bind, }}>\r\n            <Trees {...{dark:true,size}}>\r\n                {children}\r\n                {/*React.Children.map(children, ((child, key) =>\r\n                    <SidesItem {...{size, key}}>{child}</SidesItem>\r\n                ))*/}\r\n            </Trees>\r\n            </SidesContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config, UseSpringProps} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {Icon} from '../components'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    top : {position:\"fixed\",top:0,right:0,zIndex:100                        },//*dev*/, background:\"rgba(0,0,0,.1)\"},\r\n    area: {position:\"fixed\",top:0,right:0,height:\"100%\"                     },//*dev*/,background:\"rgba(255,0,0,.1)\"},\r\n    cont: {position:\"fixed\",height:`96%`,top:\"2%\",right:0,overflowX:\"hidden\"},//*dev*/,background:\"rgba(0,255,0,.1)\"},\r\n    icon: {position:\"absolute\",right:0,transform:`translate(-50%,-50%)`     },//*dev*/,background:\"rgba(0,0,255,.1)\"},\r\n    item: {backgroundColor:\"#212121\",color:\"#818181\", display:\"inline-block\"},\r\n}\r\nexport const TransArea :FC<BasedProps> = ({size=1, spring}) =>\r\n    <a.div style={{\r\n        width: spring.r.interpolate((r:number)=>`${\r\n            50*size*( Math.cos(r/90*Math.PI)+1.5)\r\n        }px`),\r\n        background: spring.scale.interpolate((s:number)=>[\r\n            `linear-gradient(90deg`,\r\n            `rgba(0,0,0,0)`,\r\n            `rgba(0,0,0,${s-1}))`\r\n        ].join(',')),\r\n        ...styles.area}}\r\n       />\r\n\r\nexport const TransIcon : FC<BasedProps> = ({size=1, spring, circ=false}) =>\r\n    <a.div style={{...styles.icon, top:50*size, rotateZ:spring.r}}>\r\n        <Icon fa=\"align-justify\" {...{circ,size}} />\r\n    </a.div>\r\n\r\nexport const TransContainer : FC<BasedProps> = ({children, size=1, spring, }) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.r.interpolate((r=0) => `${ 50*size*(Math.cos(r/90*Math.PI)+1) }px` )}}>\r\n        <div style={{margin:`calc(${50*size*2}px - 2%) 0px 0px 0px`}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const TransItem :FC<BasedProps> = ({children, size=1}) =>\r\n    <a.div style={{...styles.item,\r\n        margin:`${50*size/4}px 0px`,\r\n        borderRadius:`${50*size}px 0px  0px ${50*size}px`,}}>\r\n        <div onClick={e=>e?.stopPropagation()} style={{\r\n            height:50*size, margin:`auto ${50*size/2}px`,\r\n            fontSize:50*size, zIndex:1, display:\"flex\", alignItems:\"center\",\r\n        }}>{children}</div>\r\n    </a.div>\r\n\r\nexport const Trans : FC<BasedProps> = ({children, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool:boolean)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring<UseSpringProps>( () => ({x:0, y:0, r:90, scale:1,}) )\r\n    const getr = (velocity=0) => {\r\n        const pre  = ~~(spring.r.animation.to/90) //  Math.round( spring.r.animation.to/90 || 0 ) //\r\n        const unit = ((opened.current?1:0) === (pre%2)?0:1) ? 0:1 //to change:1 no diff:0\r\n        return 90 * ( pre + unit * (velocity<0?-1:1) )\r\n    }\r\n    const open  =(v=0)=>1&&(setOpened(true) ,set({r:getr(v),config:v!==0?config.wobbly:config.slow}))\r\n    const close =(v=0)=>1&&(setOpened(false),set({r:getr(v),config:{...config.stiff }}))\r\n    const onBind=({mx=0,vx=0,down=false,last=false}) => {\r\n        if (!last) return set({r:spring.r.animation.to+(down?2*(-mx)/size/500:0)})\r\n        if(!opened.current) return (mx===0||mx<-size*250||vx<-0.5) ?  open(-vx) : close(-vx)\r\n        if( opened.current) return (mx===0||mx<-size*250||vx<-0.5||0.5<vx) ? close(-vx) :  open(-vx)\r\n    }\r\n    const bind = useGesture({\r\n        onHover: ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onPinch: ({last,down,offset :[_,a]})  => onBind({down,last,vx:0,mx:a}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,],}) => onBind({down,last,vx,mx:mx})\r\n    })\r\n    return (\r\n        <a.div {...bind()} style={{...styles.top}}>\r\n            <TransIcon      {...{size, spring, }} />\r\n            <TransArea      {...{size, spring, }} />\r\n            <TransContainer {...{size, spring, }} >\r\n            {React.Children.map(children, ((child, key:number)=>\r\n                <TransItem {...{size/*, spring*/, key}} >{child}</TransItem>\r\n            ))}\r\n            </TransContainer>\r\n        </a.div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC} from 'react';\r\nimport {useGrid}  from 'use-grid';\r\nimport {Controls} from 'react-three-gui';\r\nimport {Helmet}   from 'react-helmet-async';\r\nimport {hookTree,hookPage,HookPage,pageConfig} from './utils';\r\n\r\nimport {is,topUp,usePage,Card,Code,Notes,Sides,Split,Trees,Trans} from '../src'\r\nconst styles:{[key:string]:CSS} = {\r\n    top : {position:\"relative\",transition:\"1s\",overflowX:\"hidden\",minHeight:\"100%\",},\r\n    item: {position:\"relative\",height:\"100vh\",},\r\n    card: {position:\"relative\",overflow:\"hidden\",width:\"100%\",height:\"100%\",},\r\n    ctrl: {position:\"relative\",width:\"100%\",top:0,left:0,margin:0,padding:0},\r\n}\r\nconst CardHook:FC = (props) => <Card min={-1} style={styles.card} rate={.1} {...props}/>\r\nexport const Hook:FC = () => {\r\n    const [dark, setDark] = useGrid<number>({init:0, md:1, lg:0  })\r\n    const [size, setSize] = useGrid<number>({init:0, md:1, lg:1.5})\r\n    const [page, setPage] = usePage<HookPage>(hookPage, pageConfig)\r\n    const [side, setSide] = useGrid({xs:0,sm:size*100,lg:89/233,init:250})\r\n    return (\r\n    <div style={{...styles.top,background:dark?\"#000\":\"#fff\",}}>\r\n        <Split order={page.Hook?[side,-1]:[1,0]} min={.1} styleItem={styles.item}>\r\n            <Notes {...{dark,size,space:\"1rem\"}}>\r\n                <CardHook {...{dark,size}}>{page.Hook &&\r\n                    <Controls\r\n                        title={topUp(page.id)} anchor='top_left'\r\n                        style={{background:dark?\"#212121\":\"#fff\",...styles.ctrl,\r\n                                color:dark?\"#818181\":\"#000\",fontSize:size*25,x:0,y:0}}\r\n                        collapsed={true}/>}\r\n                </CardHook>\r\n                <CardHook {...{dark,size}}>\r\n                    <Trees  {...{dark,size:size/2,root:page.id?0:1}}\r\n                            {...(page.id?{fontSize:\"14px\"}:{})}\r\n                           topStyle={{padding:page.Hook?25*size:100*size}}\r\n                           content ={\r\n                            <span onClick={() => setPage({id:\"\"})}>Hook</span>}>\r\n                        { hookTree.map((ids,i) => ids instanceof Array\r\n                        ?   <span key={i}>{ ids.map((id, j) =>\r\n                            <span key={id} onClick={() => j&&setPage({id})}>{id}</span>) }</span>\r\n                        :   <span key={i}  onClick={() =>    setPage({id:ids})}>{ids}</span>) }\r\n                    </Trees>\r\n                </CardHook>\r\n            </Notes>\r\n            <Notes {...{dark,size,space:\"1rem\"}}>\r\n                <CardHook {...{dark,size}}>\r\n                    {page.Hook && <page.Hook />}\r\n                </CardHook>\r\n                { page.code && is.str(page.code) &&\r\n                <CardHook {...{dark,size}}>\r\n                    <Code {...{dark,size,code:page.code}}/>\r\n                </CardHook> }\r\n            </Notes>\r\n        </Split>\r\n        <Sides {...{size}}>\r\n            <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n            <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n            <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            <div onClick={()=>setSide((p:any)=>p.lg?{xs:0,sm:0,lg:0}:{xs:0,sm:250,lg:1/3})}>{side?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {topUp(page.id)}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useState} from 'react'\r\n//import { Card, Foot, Head } from '../src/components'\r\nimport { /*Modal, Pills, */Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { TransformControls } from 'drei'\r\nimport { Kinect } from '../src'\r\nimport * as THREE from 'three'\r\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {position:\"fixed\",top:0,left:0,width:'100%',height:'100%'},\r\n}\r\n\r\nexport const None :FC = () => {\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1    , lg:1.5 })\r\n    return (\r\n        <>\r\n            <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n                <Canvas gl={{ alpha: false, antialias: false, logarithmicDepthBuffer: true }}\r\n                        camera={{ position:[0,0,500], far:2000 }}\r\n                        pixelRatio={window.devicePixelRatio}\r\n                        onCreated ={({gl}:any) => {\r\n                            gl.outputEncoding = THREE.sRGBEncoding\r\n                            gl.toneMapping    = THREE.ACESFilmicToneMapping }}>\r\n                    <ambientLight intensity={1.1} />\r\n                    <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                    <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                    <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n                    <TransformControls>\r\n                        <Kinect url=\"/static/core/kinect.mp4\"/>\r\n                    </TransformControls>\r\n                </Canvas>\r\n            </div>\r\n            <Helmet>\r\n                <title>404 NOT FOUND</title>\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Sides {...{size}}>\r\n                <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n                <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n                <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            </Trans>\r\n        </>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS,FC,useEffect,useCallback,useMemo} from 'react';\r\nimport {useSpring, animated as a} from 'react-spring';\r\nimport {useGesture} from 'react-use-gesture';\r\nimport {createPortal} from 'react-dom';\r\nimport {BasedProps} from '../types';\r\nexport type Modal = FC<BasedProps<{open:boolean}>>\r\nexport const Modal:Modal = ({\r\n        open=false, onClose=null, dark=false, size=1, //onOpen=null,\r\n        children, color=\"\", ...props\r\n    }) => {\r\n    const width = useMemo(()=>500 * size,[size])\r\n    const [spring, set] = useSpring(()=>({x:0,y:-width,scale:0}))\r\n    useEffect(()=>{open&&set({x:0,y:0,scale:1})}, [open, set])\r\n    const close=useCallback( (vx=0,vy=0) => {\r\n        set({x:vx*width, y:(vy-1)*width, scale:0})\r\n        onClose && setTimeout(()=>onClose(), vx**2+vy**2)\r\n    }, [onClose, width, set] )\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?0.9:1}),\r\n        onDrag : ({last,down,vxvy:[vx,vy],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:down?mx:0,y:down?my:0})\r\n            return (mx**2>width**2/4||vx**2+vy**2>10)\r\n                ? close(vx,vy)\r\n                : set({x:0,y:0,scale:1})\r\n        },\r\n    })\r\n    const root = useMemo<HTMLElement|null>(()=>document.getElementById('root'),[])\r\n    const style = useMemo<CSS>(()=>({\r\n        left:0, width:\"100%\",  display:\"flex\",justifyContent:\"center\",\r\n        top:0, height:\"100%\", position:\"fixed\",   alignItems:\"center\",\r\n        transition:\"1s\", color:color||dark?\"#212121\":\"#000\",\r\n        zIndex:200,background:`rgba(${dark?\"80,80,80\":\"0,0,0\"},.5)`, ...props.style\r\n    }), [dark, color, props.style])\r\n    return open ? createPortal(\r\n        <div style={style} onClick={()=>onClose&&onClose()}>\r\n            <a.div style={{position:\"relative\",...spring}} {...bind()}\r\n                onClick={e=>e.stopPropagation()}>\r\n                {children}\r\n            </a.div>\r\n        </div>\r\n    , root as HTMLElement) : null\r\n}\r\n","import React, {FC,Children,CSSProperties as CSS,\r\n    useCallback,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst styles:{[key:string]:CSS} = {\r\n    pill: {position:\"absolute\",padding:\"0px\",zIndex:1,transform:`translate(-50%,-50%)`,}\r\n}\r\nexport type Pills = FC<BasedProps<{\r\n    position: {x:number, y:number, r:number},\r\n    depth:number, rate:number, size:number,\r\n    isOpen:boolean\r\n}>>\r\nexport const Pills:Pills = ({\r\n    position={x:0,y:0,r:Math.PI/4}, depth=0, rate=1.414,\r\n    size=1, isOpen=true, ...props\r\n}) => {\r\n    const length = useMemo( () => (props?.children as any)?.length||1, [props] )\r\n    const childPos = useRef( Array(length).fill(position) )\r\n    const fn = useCallback(() => (i=0) => {\r\n        const r = position.r/2 + (Math.PI/2) * ((length-i-1)*10+1)/((length-1)*10+2)-Math.PI/8\r\n        const x = isOpen ?  50*rate*size*Math.cos(r) : 0\r\n        const y = isOpen ? -50*rate*size*Math.sin(r) : 0\r\n        childPos.current[i] = {x,y:-y,r}\r\n        return {x, y, scale:isOpen?1:0 }\r\n    }, [isOpen, length, position.r, rate, size])\r\n    const [springs, set] = useSprings( length, fn() )\r\n    const [childHub, setChildHub] = useState( Array(length).fill(false) )\r\n    const setHub = useCallback((e, key)=>{\r\n        setChildHub(p => Object.assign([], p, {[key]:!p[key]}))\r\n        e.stopPropagation()\r\n    },[])\r\n    const children = useMemo(() => Children.map( props.children, (child,key) => {\r\n        set(fn())\r\n        return child && (child as any)?.props?.children\r\n          ? React.cloneElement(child as any, {children:\r\n                <Pills {...{key, isOpen:isOpen&&childHub[key],\r\n                    depth:depth+1, position:childPos.current[key],\r\n                    rate:rate*(1+(depth+1)*0.2),\r\n                    fontSize:50*size/(1+(depth+1)*0.2),\r\n                    ...((child as any).props||{})}}/>\r\n            })\r\n          : child\r\n    }), [childHub, depth, fn, isOpen, props.children, rate, set, size])\r\n    return (\r\n        <div style={{position:\"fixed\",left:position.x,bottom:position.y}}>\r\n            {springs.map((spring, key) =>\r\n                <animated.div key={`${depth}-${key}`} style={{...spring, ...styles.pill}}\r\n                    onClick={e=>setHub(e, key)}>\r\n                    {(children as any)[key]}\r\n                </animated.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC, CSSProperties as CSS,useState, useMemo} from 'react'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { MDBInput, MDBBtn } from 'mdbreact'\r\nimport { Mdmd } from '@tsei/mdmd'\r\nimport { useGrid } from 'use-grid'\r\nimport { Card, Grow, Head, Icon } from '../src/components'\r\nimport { useNote, usePage, useUser } from '../src/hooks'\r\nimport { Modal, Notes, Pills, Sides, Trans } from '../src/containers'\r\nimport { customPage, CustomPage, pageConfig, fetcher, signin, scrollTop } from './utils'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {minHeight:\"100%\",overflow:\"hidden\"},\r\n\r\n}\r\nexport const Note :FC = () => {\r\n    // ******************** FOR FETCH ******************** //\r\n    const [page, setPage] = usePage<CustomPage>(customPage, pageConfig)\r\n    const [note, setNote] = useNote(page.urls[1], fetcher)\r\n    const [user, setUser] = useUser(page.urls[2], signin, {onSign:()=>setPage({status:\"\"})})\r\n    // ******************** FOR DESIGN ******************** //\r\n    const [lang, setLang] = useState<string>(page.language)\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    // ******************** FOR RENDER ******************** //\r\n    const onView       = useMemo(()=>()=>setNote(p=>p?.next),[setNote])\r\n    const onClick      = useMemo(()=>()=>setPage({id:\"\"})   ,[setPage])\r\n    const onSignin     = useMemo(()=>()=>setPage(p=>({status:p.status===  \"\"?\"IN\":\"\"  })),[setPage])\r\n    const onMouseEnter = useMemo(()=>()=>setPage(p=>({status:p.status===\"UP\"?\"IN\":\"UP\"})),[setPage])\r\n    const [left,right] = useMemo(()=>{\r\n        const style = {transform:\"translate(-50%)\",left:\"50%\",marginTop:size*50}\r\n        return [\"cooment\",\"arrow-left\"].map(fa => (<Icon {...{fa,size,style,onClick}}/>))\r\n    }, [size,onClick])\r\n    return (\r\n        <div style={{...styles.top, background:dark?\"#000\":\"#f1f1f1\", paddingTop:size*100,}}>\r\n            <Head {...{dark,size,onClick,}}>Note</Head>\r\n            { note && note.results instanceof Array &&\r\n            <Notes {...(page.isHome?{}:{size,left,right})}>{note.results.map(({\r\n                ja_text=\"\",//note_id=\"\",author_name=null, //,posted_time=null,\r\n                en_text=\"\",     id=\"\" }) =>\r\n                <div key={id}>\r\n                    <Card {...{...page.isHome?{max:500,onClick:()=>setPage({id:id+\"\"})}:{size},dark,space:size*25}}>\r\n                        <Mdmd color={dark?\"dark\":\"elegant\"} style={{fontSize:\"1.2rem\"}}\r\n                             source={lang===\"ja\"?ja_text:en_text}/>\r\n                    </Card>\r\n                </div> )}\r\n            </Notes> } { (!note || note.next) &&\r\n            <Grow {...{size,onView,onClick:()=>setNote(p=>p?p?.next||p?.now:null )}} /> }\r\n            {/******************** Modals ********************/}\r\n            <Modal {...{dark,size,open:!!page.status,onClose:()=>setPage({status:\"\"})}}>\r\n                <Card {...{dark,size,style:{max:\"100vh\"},space:size*25}}>\r\n                    <Head {...{dark,size,onMouseEnter}}>SIGN {user.isAuth?\"OUT\":page.status}</Head>\r\n                    {!user.isAuth && user.input.map((v,k)=>v.name===\"email\"&&page.status!==\"UP\"?null:\r\n                    <MDBInput {...v} key={k}/> )}\r\n                    <MDBBtn color=\"elegant\"\r\n                        style={{width:\"100%\",borderRadus:size*50}}\r\n                        onClick={()=>setUser(page.urls[2])}\r\n                        children={user.isAuth?\"Signout\":\"Get!\"}/>\r\n                </Card>\r\n            </Modal>\r\n            {/******************** FANTASTIC UI ********************/}\r\n            <Sides {...{size}}>\r\n                <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n                <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n                <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'ja':'en')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size>1?'':''}</div>\r\n            </Trans>\r\n            <Pills {...{size}}>\r\n                <Icon fa=\"ellipsis-h\"        {...{dark,size}} onClick={()=>null}>\r\n                    <Icon fa=\"arrow-left\"    {...{dark,size}} onClick={onClick}/>\r\n                    <Icon fa=\"location-arrow\"{...{dark,size}} onClick={scrollTop}/>\r\n                    <Icon fa=\"sign-in-alt\"   {...{dark,size}} onClick={onSignin}/>\r\n                </Icon>\r\n            </Pills>\r\n            <Helmet>\r\n                <title>{note?\"note\":\"Loading...\"}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TODO : make in last of note\r\n// !isHome && (note.children||[]).map((child:any,i:number) =>\r\n//     <Card {...{key:i,dark,size,style:{fontSize:\"1.2rem\"}}}>\r\n//         <Mdmd source={child[`${lang}_text`]}/>\r\n//     </Card>)\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {unregister} from './serviceWorker';\nimport {HelmetProvider} from 'react-helmet-async';\nimport {ControlsProvider} from 'react-three-gui';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\n\nimport {Hook} from './Hook';\nimport {None} from './None';\nimport {Note} from './Note';\n\nimport './styles.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App = (\n    <HelmetProvider>\n        <ControlsProvider>\n            <BrowserRouter>\n                <Switch>\n                    <Route    path=\"/\"     component={None} exact/>//Home TODO\n                    <Route    path=\"/note\" component={Note}/>\n                    <Route    path='/none' component={None}/>\n                    <Route    path='/hook' component={Hook}/>\n                    <Redirect path=\"/home\" to='/' />\n                    <Redirect              to='/none' />\n                </Switch>\n            </BrowserRouter>\n        </ControlsProvider>\n    </HelmetProvider>\n)\n\nReactDOM.render( App , document.getElementById('root'));\nunregister();\n","import { useEffect, useCallback, useState, useRef } from 'react'\r\nimport { None, NoteNode as NN, NoteGetter, NotePoster, NoteConfig, URLType, BasicProps } from '../types'\r\nimport { is, equalPathname } from '../utils'\r\n//import useSWR from 'swr'\r\nexport const useNote = (\r\n    initGetURL: BasicProps<URLType|string>,\r\n    initGetter: NoteGetter|null=null,\r\n    initPoster: NotePoster|null=null,\r\n    initNoteConfig: Partial<NoteConfig>={}\r\n) : [ NN, (\r\n        updateGetURL: ((pre:NN)=>None<URLType|string>)|None<URLType|string>,\r\n        updateGetter?: NoteGetter|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void, (\r\n        updatePoster?: NotePoster|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void\r\n] => {\r\n    if (is.fun(initGetURL)) initGetURL = initGetURL()\r\n    if (is.str(initGetURL)) initGetURL = new URL(initGetURL)\r\n    const getURLRef  = useRef<URLType>()\r\n    const getterRef  = useRef(initGetter)\r\n    const posterRef  = useRef(initPoster)\r\n    const configRef  = useRef(initNoteConfig)\r\n    const isFetching = useRef<boolean>(false)\r\n    const [note,set] = useState<NN>(null)\r\n    //  *************************  useEffect  *************************  //\r\n    useEffect(() => {\r\n        if (equalPathname(getURLRef.current, initGetURL as URLType)) return\r\n        getURLRef.current = initGetURL as URLType\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (getterRef.current)\r\n            getterRef.current(getURLRef.current).then((res:any) => {\r\n                setTimeout(() => void (isFetching.current = false), 1000)\r\n                set(pre => res || pre)\r\n            })\r\n    }, [initGetURL])\r\n    //  *************************  getNote  *************************  //\r\n    //  * getNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * getNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    const getNote = useCallback((updateURL,updateGetter=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.fun(updateURL   )) updateURL = updateURL(note);\r\n        if (is.str(updateURL   )) updateURL = new URL(updateURL);\r\n        if (is.nul(updateGetter)) updateGetter = getterRef.current;\r\n        const previousURL = getURLRef.current\r\n        getURLRef.current = updateURL\r\n        getterRef.current = updateGetter\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        if (getterRef.current)\r\n            getterRef.current(updateURL).then((res:any) => {\r\n                setTimeout(() => (isFetching.current = false), 1000)\r\n                set(pre => {\r\n                    console.log(\"update\");\r\n                    if (!equalPathname(previousURL, getURLRef.current)) return res\r\n                    const {onChange=null} = configRef.current\r\n                    typeof onChange===\"function\" && onChange()\r\n                    const diff = pre\r\n                      ? (pre.results||[]).filter((p:any) =>\r\n                      ! (res.results||[]).find((r:any) => r.id===p.id)\r\n                    ) : []\r\n                    return {...res, results:[...diff, ...res.results]}\r\n                })\r\n            })\r\n    }, [note])\r\n    //  *************************  postNote  *************************  //\r\n    //  ************************* ************** *************************  //\r\n    const postNote = useCallback((updatePoster=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.nul(updatePoster)) updatePoster = posterRef.current;\r\n        posterRef.current = updatePoster\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        return\r\n        // TODO\r\n        // posterRef.current().then(res => {\r\n        //     setTimeout\r\n        // })\r\n    }, [])\r\n    return [note, getNote, postNote]\r\n}\r\n","/** *************************  USE USER  *************************\r\n *  This is a hook to manage user info and API\r\n *    - const [user, set] = useUser(url, fetcher)\r\n *    - ```\r\n *      ```\r\n *  # ***** useUser API Configs *****\r\n *  ## Props Values\r\n *    - `const _ = usePage(@initURL, @initFetcher, @initConifg)`\r\n *    - @initURL:string\r\n *    - @initFetcher:function\r\n *    - @initConfig : {\r\n *        @\r\n *      }\r\n *  ## Return Values\r\n *    - `const [user, setUser] = useUser(...)`\r\n *    - @user : {\r\n *        @username : user name from fetched API e.g. tseijp\r\n *        @authtoken: user token from cookie\r\n *        @input    : for input Components\r\n *       ~@credit   : the value to send at fetching~\r\n *        @status   : the acton at fetch e.g. IN, UP, OUT or \"\"\r\n *        @userlang : user language from window.navigator.language e.g. ja, en\r\n *      }\r\n *    - @setUser\r\n *      `setUser()`       : Toggle fetching\r\n *      ~`setUser(null)`   : switch status IN->UP or UP->IN~\r\n *      ~`setUser(boolean)`: switch status '' or IN|UP|OUT~\r\n *  # TODO : from usePages : add following keys\r\n ** ************************* ************** *************************/\r\nimport {useCallback, useState, useMemo, useRef} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport {URLType,User,UserConfig,UserSignin} from '../types'\r\nimport {defaultUserConfig} from '../utils'\r\nexport const useUser = (\r\n    initURL :URLType,\r\n    initSign:UserSignin,\r\n    initConfig:Partial<UserConfig>=defaultUserConfig // TODO to config.keys.map\r\n) : [ User, {(\r\n    updateURL ?:URLType|null,\r\n    updateSignin?:UserSignin|null,\r\n    updateConfig?:Partial<UserConfig>,\r\n) : void } ] => {\r\n    const urlRef    = useRef<URLType>(initURL)\r\n    const signinRef = useRef<UserSignin>(initSign)\r\n    const configRef = useRef<UserConfig>({...defaultUserConfig,...initConfig})\r\n    const [cookies, set, del] = useCookies(configRef.current.keys)\r\n    const [credit, setCredit] = useState({username:cookies.username||'',password:'',email:''})\r\n    // *************************  For setUser  ************************* //\r\n    const setUser = useCallback((\r\n        updateURL    = null,\r\n        updateSignin = null,\r\n        updateConfig = {}\r\n    ) => {\r\n        const {onSign=null,onSignin=null,onSignout=null,onError=null} = initConfig\r\n        if (updateURL)       urlRef.current = updateURL\r\n        if (updateSignin) signinRef.current = updateSignin\r\n        if (updateConfig) configRef.current = updateConfig\r\n        return (cookies.authtoken)\r\n          ? (del('authtoken',{path:'/'}), onSign&&onSign(), onSignout&&onSignout())\r\n          : signinRef\r\n            .current(urlRef.current, credit)\r\n            .then( (user:{[K in 'username'|'authtoken']:string}) => {\r\n                if (!user.username || !user.authtoken)\r\n                    throw new Error()\r\n                onSign   && onSign()  ; set(\"username\" ,user.username ,{path:'/'});\r\n                onSignin && onSignin(); set(\"authtoken\",user.authtoken,{path:'/'});\r\n            })\r\n            .catch((_:any)=>onError&&onError())\r\n    }, [cookies,set,del,credit,initConfig] )\r\n    // *************************  For Render  ************************* //\r\n    const onChange = useCallback(({target}:any) => {\r\n        setCredit(p => ({...p, [target.name]:target.value}) )\r\n    }, [])\r\n    const user = useMemo<User>(() => ({\r\n        username :cookies.username ||'', isAuth:!!cookies.authtoken,\r\n        authtoken:cookies.authtoken||'', input: Object\r\n            .entries({username:'user',password:'lock',email:'envelope'})\r\n            .map(([name,icon]) => ({\r\n                label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n                group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n                ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"})\r\n            }))\r\n    }), [cookies, credit, onChange])\r\n    return [user, setUser]\r\n}\r\n    /*const input = useMemo<User[\"input\"]>(() => Object\r\n        .entries({username:'user',password:'lock',email:'envelope'})\r\n        .map(([name,icon]) => ({\r\n            label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n            group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n            ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"}),\r\n    })), [credit, onChange])\r\n    return [useMemo(() => ({\r\n        username :cookies.username ||'',\r\n        authtoken:cookies.authtoken||'', input,\r\n        //status : sign?\"\":cookies.authtoken?\"OUT\":inup\r\n    }), [cookies, input]), setUser]\r\n}*/\r\n"],"sourceRoot":""}