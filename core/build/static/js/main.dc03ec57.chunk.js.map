{"version":3,"sources":["page/serviceWorker.ts","page/meshs/Kinect.tsx","page/meshs/Swarm.tsx","page/meshs/Model.tsx","src/components/Card.tsx","page/codes/core/Card.tsx","src/components/Code.tsx","page/codes/core/Code.tsx","src/components/Grow.tsx","page/codes/core/Grow.tsx","src/utils.ts","src/containers/Notes.tsx","page/codes/core/Notes.tsx","src/containers/Split.tsx","page/codes/core/Split.tsx","src/components/Head.tsx","src/containers/Trees.tsx","page/codes/core/Trees.tsx","page/utils.ts","src/hooks/usePage.ts","src/components/Icon.tsx","src/containers/Sides.tsx","src/containers/Trans.tsx","page/Hook.tsx","page/Mesh.tsx","page/None.tsx","src/containers/Modal.tsx","src/containers/Pills.tsx","page/index.tsx","page/Note.tsx","src/hooks/useNote.ts","src/hooks/useUser.ts"],"names":["Boolean","window","location","hostname","match","Kinect","url","width","nearClipping","pointSize","height","farClipping","zOffset","geometry","useRef","material","texture","useMemo","video","document","createElement","src","loop","load","muted","play","THREE","useFrame","position","Float32Array","i","j","l","length","Math","floor","current","setAttribute","dir","uniforms","map","Object","assign","keys","key","value","console","log","ref","attach","fragmentShader","vertexShader","depthTest","blending","depthWrite","transparent","Swarm","dark","size","count","mesh","dummy","random","useCallback","mul","add","particles","Array","t","xFactor","mx","factor","yFactor","my","speed","zFactor","forEach","particle","a","cos","sin","b","s","max","set","scale","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","args","color","Model","mouse","useLoader","GLTFLoader","animations","nodes","group","actions","useState","undefined","mixer","modelPos","delta","camera","update","x","z","updateProjectionMatrix","lookAt","useEffect","actionNum","idle","clipAction","weight","timeScale","clip","uncacheClip","dispose","rotation","PI","object","skeleton","skinning","Card","children","rate","style","props","useSpring","xys","styleCard","min","minHeight","maxHeight","margin","padding","borderRadius","background","calc","clientX","y","clientY","innerWidth","innerHeight","onMouseMove","e","onMouseLeave","div","boxShadow","interpolate","join","transform","textAlign","verticalAlign","fontSize","colors","childs","useControl","type","items","codeCard","require","atomOneLight","atomOneDark","Light","Code","code","language","inline","onDoubleClick","_","navigator","clipboard","writeText","customStyle","display","PreTag","useInlineStyles","showLineNumbers","langs","codes","codeCode","Grow","onView","role","className","fn","useView","isIntersecting","codeGrow","topUp","text","charAt","toUpperCase","slice","toLowerCase","clamp","equalPathname","urls","u","URL","joinURL","pathname","every","self","defaultPageConfig","onChange","defaultPage","id","split","filter","v","find","isHome","isLocal","protocol","portname","port","search","hash","href","normPage","page","state","entries","sort","val","arr","getp","geti","n","maxLength","reduce","joinPage","defaultUserConfig","user","onSign","onSignin","onSignout","strArray","resultArray","TypeError","shift","replace","str","String","push","parts","is","isArray","obj","prototype","toString","call","fun","num","und","nul","Set","Map","equ","styles","top","left","right","Notes","order","grandren","depth","setLength","setHeight","fill","isOpen","setIsOpen","orderRef","heightRef","targetRef","setPosition","from","c","clientHeight","len","getY","pre","getG","down","indexOf","useSprings","springs","bind","useGesture","onClick","setTimeout","onDrag","cancel","movement","startTime","last","vxvy","vx","vy","timeStamp","row","round","ind","ret","swap","p","getF","Children","child","grand","toArray","React","cloneElement","px","to","codeNotes","sign","samp","d","getW","o","w","overflow","whiteSpace","Split","forwardRef","styleItem","sRef","lRef","hRef","wRef","h","spring","setH","setW","first","direction","k","ws","mW","iw","move","animation","zIndex","codeSplit","Head","defaultConfig","restSpeedThreshold","restDisplacementThreshold","textOverflow","cursor","marginRight","fontFamily","textTransform","willChange","marginLeft","paths","TreeIcon","CloseSquareO","viewBox","MinusSquareO","PlusSquareO","EyeO","TreesContent","content","canHide","icon","opacity","Icon","iconClick","open","immediate","eyeClick","EyeOstyle","Trees","visible","root","springConfig","topStyle","config","default","borderLeft","codeTrees","scrollTop","getElementById","scroll","behavior","pageConfig","customPage","isSign","status","fetcher","headers","axios","get","then","res","Error","data","signin","cred","post","token","username","authtoken","hookTree","getval","hookPage","Hook","CODES","canvas","gl","antialias","logarithmicDepthBuffer","onCreated","outputEncoding","pixelRatio","devicePixelRatio","meshPage","Mesh","MESHS","Canvas","usePage","pageRef","confRef","defaultConf","setPage","newPage","history","pushState","fa","circ","onOpen","onMove","userSelect","overflowX","SidesArea","SidesContainer","backgroundColor","SidesIcon","Sides","opened","setOpened","bool","wobbly","slow","close","stiff","velocity","onHover","hovering","TransArea","r","TransContainer","TransIcon","rotateZ","TransItem","alignItems","Trans","getr","unit","onBind","onPinch","offset","transition","item","card","paddingLeft","ctrl","useGrid","md","lg","setDark","setSize","intensity","castShadow","fallback","rel","Modal","onClose","justifyContent","createPortal","stopPropagation","Pills","childPos","childHub","setChildHub","setHub","bottom","App","path","component","exact","initGetURL","initGetter","initPoster","initNoteConfig","getURLRef","getterRef","posterRef","configRef","isFetching","note","getNote","updateURL","updateGetter","updateConfig","previousURL","diff","results","postNote","updatePoster","useNote","setNote","initURL","initSign","initConfig","urlRef","signinRef","useCookies","cookies","del","password","email","credit","setCredit","setUser","updateSignin","onError","catch","target","name","isAuth","input","label","validate","autoComplete","error","success","useUser","lang","setLang","next","onMouseEnter","marginTop","paddingTop","charSet","ja_text","en_text","source","now","borderRadus","alpha","far","toneMapping","xs","sm","init","side","setSide","title","anchor","collapsed","ids","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.dc03ec57.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nconst cropValue=(dir:any)=>Object.assign({},...Object.keys(dir).map(key=>({[key]:{value:dir[key]}})))\r\n\r\n\r\nconst vertexShader = `\r\nvarying vec2 vUv;\r\nuniform sampler2D map;\r\nuniform float width, height, pointSize, zOffset, nearClipping, farClipping;\r\nconst float XtoZ = 1.11146; // tan( 1.0144686 / 2.0 ) * 2.0;\r\nconst float YtoZ = 0.83359; // tan( 0.7898090 / 2.0 ) * 2.0;\r\n\r\nvoid main() {\r\n    vUv = vec2( position.x / width, position.y / height );\r\n    vec4 color = texture2D( map, vUv );\r\n    float depth = ( color.r + color.g + color.b ) / 3.0;\r\n\r\n    // Projection code by @kcmic\r\n    float z = ( 1.0 - depth ) * (farClipping - nearClipping) + nearClipping;\r\n    vec4 pos = vec4(\r\n        ( position.x / width - 0.5 ) * z * XtoZ,\r\n        ( position.y / height - 0.5 ) * z * YtoZ,\r\n        - z + zOffset,\r\n        1.0\r\n    );\r\n\r\n    gl_PointSize = pointSize;\r\n    gl_Position = projectionMatrix * modelViewMatrix * pos;\r\n}\r\n`\r\nconst fragmentShader = `\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    vec4 color = texture2D( map, vUv );\r\n    gl_FragColor = vec4( color.r, color.g, color.b, 0.2 );\r\n}\r\n`\r\n\r\nexport const Kinect = ({ url, /*center=[0,0,-1000],*/\r\n        width=640, nearClipping=850, pointSize=2,\r\n        height=850, farClipping=4000, zOffset=1000,\r\n    }:any) => {\r\n    // ******************** Mount ******************** //\r\n    const geometry = useRef<any>()\r\n    const material = useRef<any>()\r\n    const texture = useMemo<any>(()=>{\r\n        const video = document.createElement('video', )\r\n        video.src = url\r\n        video.loop  = true; video.load();\r\n        video.muted = true; video.play();\r\n        return new THREE.VideoTexture( video )\r\n    }, [url])\r\n    // ******************** Render ******************** //\r\n    useFrame((/*{camera, mouse}*/)=>{\r\n        const position = new Float32Array( width*height*3 )\r\n        for ( var i=0, j=0, l=position.length; i<l; i+=3, j++ ) {\r\n            position[i]   = j % width;\r\n            position[i+1] = Math.floor( j/width );\r\n        }\r\n        geometry.current?.setAttribute( 'position', new THREE.BufferAttribute(position,3) );\r\n    })\r\n    const uniforms = cropValue({\r\n        map:texture,width,height,nearClipping,farClipping,pointSize,zOffset\r\n    })\r\n    console.log('Render Kinect');\r\n    return (\r\n        <>\r\n            <points position={[0,0,500]} >\r\n                <bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n                <shaderMaterial ref={material} attach=\"material\"\r\n                    {...{uniforms,fragmentShader,vertexShader}}\r\n                    depthTest ={false} blending={THREE.AdditiveBlending}\r\n                    depthWrite={false} transparent />\r\n            </points>\r\n        </>\r\n    )\r\n}\r\n","import React, {useCallback, useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const Swarm = ({ dark=false, size=50, count=25}:any) => {\r\n    const mesh = useRef<any>(null)\r\n    const dummy = useMemo(() => new THREE.Object3D(), [])\r\n    const random = useCallback((mul=1,add=0)=>add+Math.random()*mul, [])\r\n    const particles = useMemo(() => [...Array(count)].map(()=>({\r\n        t     :random(100),       xFactor:random(40,-20), mx:0,\r\n        factor:random(100,2),     yFactor:random(40,-20), my:0,\r\n        speed :random(1/200,0.01),zFactor:random(40,-20),})), [random,count])\r\n    useFrame(() => {\r\n        particles.forEach((particle, i) => {\r\n            let { t, factor, speed, xFactor, yFactor, zFactor } = particle\r\n            t = particle.t += speed / 2\r\n            const a = Math.cos(t) + Math.sin(t * 1) / 10\r\n            const b = Math.sin(t) + Math.cos(t * 2) / 10\r\n            const s = Math.max(1.5, Math.cos(t) * size / 10)\r\n            dummy.position.set(\r\n                (particle.mx/10)*a + xFactor + Math.cos((t/10)*factor) + (Math.sin(t*1)*factor)/10,\r\n                (particle.my/10)*b + yFactor + Math.sin((t/10)*factor) + (Math.cos(t*2)*factor)/10,\r\n                (particle.my/10)*b + zFactor + Math.cos((t/10)*factor) + (Math.sin(t*3)*factor)/10,\r\n            )\r\n            dummy.scale.set(s, s, s)\r\n            dummy.updateMatrix()\r\n            mesh.current.setMatrixAt(i, dummy.matrix)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <>\r\n            <instancedMesh ref={mesh} args={[null,null,count] as [any,any,number]}>\r\n                <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                <meshPhongMaterial attach=\"material\" color={dark?0x000000:0xffffff} />\r\n            </instancedMesh>\r\n        </>\r\n    )\r\n}\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n//import { draco } from 'drei'\r\n\r\n\r\nexport const Model = ({dark=true, size=50, mouse={current:[0,0]}, position=[0,-11,0],scale=[7,7,7]}:any) => {\r\n    const url = \"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb\"\r\n    const {animations, nodes}:any = useLoader(GLTFLoader, url, )\r\n    const group = useRef<any>(null)\r\n    const actions = useRef<any>(null)\r\n    //const [action] = useState(3)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(undefined as any))\r\n    const modelPos  = {x:0,y:0}\r\n    useFrame(({camera}:any, delta)=>{\r\n        mixer.update(delta)\r\n        if(! group?.current?.position) return\r\n        group.current.position.x = modelPos.x\r\n        group.current.position.z = modelPos.y\r\n        camera.updateProjectionMatrix(void (\r\n            camera.lookAt(new THREE.Vector3(modelPos.x/2,0,modelPos.y/2))))\r\n    })\r\n    useEffect(() => {\r\n        const actionNum = size > 50 ? 3 : 1\r\n        actions.current = { idle: mixer.clipAction(animations[actionNum], group.current) }\r\n        actions.current.idle.play()\r\n        actions.current.idle.weight = 1\r\n        actions.current.idle.timeScale = 1\r\n        return () => animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [animations,mixer,size])\r\n    if (!nodes)\r\n        return null\r\n    return (\r\n        <group ref={group} {...{position, scale}} dispose={null}>\r\n          <group rotation={[Math.PI/2,0,0]} scale={[0.01,0.01,0.01]}>\r\n            <primitive object={nodes[\"mixamorigHips\"]} />\r\n            <skinnedMesh geometry={nodes[\"Beta_Joints\"].geometry}\r\n                skeleton={nodes[\"Beta_Joints\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x212121:0x000000}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n            <skinnedMesh geometry={nodes[\"Beta_Surface\"].geometry}\r\n                skeleton={nodes[\"Beta_Surface\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x000000:0xffffff}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n          </group>\r\n        </group>\r\n    )\r\n}\r\n","/***Card\r\n  *     Ref : https://codesandbox.io/embed/rj998k4vmm\r\n  *           https://coliss.com/articles/build-websites/operation/css/\r\n ***/\r\nimport React, {FC, useCallback, useMemo} from 'react'\r\nimport { BasedProps } from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nexport type Card = FC<BasedProps<{\r\n    max:number,\r\n    min:number,\r\n    rate:number,\r\n}>>\r\nexport const Card:Card = ({children, size=1, rate=1, style={}, ...props}) => {\r\n    const [{xys}, set] = useSpring(()=>({xys:[0,0,0]}))\r\n    const styleCard = useMemo(() => {\r\n        const {dark=false, color=\"\",max=0, min=0} = props\r\n        const minHeight = min||size*500\r\n        const maxHeight = max||null//size*500\r\n        return {margin:\"auto\",padding:0,width:`min(80%,${size*500}px)`,borderRadius:size*25,\r\n            ...(minHeight&&{minHeight}),background : dark?\"#212121\":\"#fff\",\r\n            ...(maxHeight&&{maxHeight}),color:color||dark?\"#818181\":\"#000\",}\r\n    }, [size, props])\r\n    const calc = useCallback(({clientX:x, clientY:y})=>[\r\n       (x - window.innerWidth  / 2) / size / 250, // -1 ~ 1\r\n       (y - window.innerHeight / 2) / size / 250, // -1 ~ 1\r\n        rate], [size, rate])\r\n    const onMouseMove = useCallback((e) => set({xys:calc(e)}), [set,calc])\r\n    const onMouseLeave = useCallback(() => set({xys:[0,0,0]}), [set,])\r\n    return <a.div style={{\r\n            boxShadow:xys.interpolate((x,y,s) => [\r\n                `${0.5-x*2}rem`,//offset-x     : -1.5 ~ 0.5 ~ 2.5\r\n                `${1.5-y*2}rem`,//offset-y     : -0.5 ~ 1.5 ~ 3.5\r\n                `${1.5 + s}rem`,//blur-radius  : 1.5 =hover=> 2.5\r\n                `${s - 0.5}rem`,//spread-radius:-0.5 =hover=> 0.5\r\n                `hsl(200 50% 20% / ${15+s*5}%)`].join(' ')),\r\n            transform:xys.interpolate((x,y,s) => [\r\n                `perspective(${size*50}px)`,\r\n                `rotateX(${-y/10}deg)`     ,//-0.1 ~ 0.1\r\n                `rotateY(${ x/10}deg)`     ,//-0.1 ~ 0.1\r\n                `scale(${1+s/10})` ,].join(' ')),\r\n            ...styleCard, ...style }}\r\n           {...{...props,onMouseMove,onMouseLeave,children}}/>\r\n}\r\n","import React, {\r\n    FC, CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Card as Target} from '../../../src'\r\nconst style:CSS = {textAlign:\"center\", verticalAlign:\"middle\", padding:\"auto auto\", fontSize:100}\r\nconst colors = [\"white\", \"black\", ]\r\nconst childs = [\"white\", \"black\", ]\r\nexport const Card:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const min   = useControl('min'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const max   = useControl('max'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const color    = useControl('color'   , {type: 'select' , value: colors[0], items: colors})\r\n    const children = useControl('children', {type: 'select' , value: childs[0], items: childs})\r\n    return (\r\n        <Target {...{dark,size,min,max,children}}\r\n            style={{...style,color,margin:`${size*100}px auto ${size*100}px auto`}}/>\r\n    )\r\n}\r\nexport const codeCard =\r\n`import {Card} from '@tsei/core'\r\nconst App =  => (\r\n    <Card\r\n        dark={false}\r\n        size={1}\r\n        min ={0}\r\n        max ={0}\r\n        color=\"\"/>\r\n)`\r\n","import React, {FC, useCallback, useMemo} from \"react\";\r\nimport {BasedProps} from '../types'\r\nconst {atomOneLight, atomOneDark} = require('react-syntax-highlighter/dist/esm/styles/hljs');\r\nconst {Light} = require('react-syntax-highlighter');\r\n\r\nexport type Code = FC<BasedProps<{\r\n    code:string, language:string, inline:boolean\r\n}>>\r\nexport const Code:Code = ({\r\n    code='', language=\"javascript\", inline=false, dark=false, size=1, style={}, ...props//children,\r\n}) => {\r\n    const onDoubleClick = useCallback((_:any)=>navigator.clipboard.writeText(code),[code])\r\n    const customStyle = useMemo(()=>{\r\n        return {...(inline?{verticalAlign:\"top\",padding:0}:{}),\r\n            display:inline?\"inline-block\":\"fixed\", position:'relative', margin:0,}\r\n    }, [inline])\r\n    return <Light   {...props} PreTag={inline?\"span\":\"pre\"}    useInlineStyles={true}\r\n                    {...{customStyle, onDoubleClick, language}}showLineNumbers={!inline}\r\n             style={{...(dark?atomOneDark:atomOneLight),fontSize:`${size}rem`,...style}}>\r\n                    {code}</Light>\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Code as Target} from '../../../src'\r\nconst langs = ['javascript', 'python']\r\nconst codes = [\r\n`const f = (x) => x**2`,\r\n`def f(x):\r\n    return x**2`\r\n]\r\nexport const Code:FC = () => {\r\n    const dark  = useControl('dark'   , {type: 'boolean', value: false})\r\n    const inline= useControl('inline' , {type: 'boolean', value: false})\r\n    const size  = useControl('size'   , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const code     = useControl('code'    , {type: 'select', value:codes[0], items:codes})\r\n    const language = useControl('language', {type: 'select', value:langs[0], items:langs})\r\n    return (\r\n        <Target {...{dark,inline,size,code,language}} />\r\n    )\r\n}\r\nexport const codeCode =\r\n`import {Code} from '@tsei/core'\r\nconst codeCode = \"hello\"\r\nconst App =  => (\r\n    <Code\r\n        dark    = {false}\r\n        inline  = {false}\r\n        size    = {1}\r\n        code    = {\"javascript\"}\r\n        language= {\"const f = (x) = x**2\"}/>\r\n)`\r\n","import React, {CSSProperties as CSS, FC,useEffect, useMemo, useRef} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport {useView} from 'use-grid'\r\nexport type Grow = FC<BasedProps>\r\nexport const Grow:Grow = ({\r\n    onView=null, role=\"status\",\r\n    size=1, className=\"spinner-grow\", ...props\r\n}) => {\r\n    const fn = useRef()\r\n    const ref = useRef(null)\r\n    useEffect(()=>{fn.current = onView}, [onView])\r\n    useView(ref, (e:any) => 1\r\n        && e.isIntersecting\r\n        && typeof fn.current===\"function\"\r\n        && (fn.current as any)())\r\n    const style = useMemo<CSS>(()=>({\r\n        position:\"relative\",display:\"grid\",margin:`${size*50}px auto 0 auto`,\r\n        width:size*250,height:size*250,...(props.style||{})\r\n    }), [size, props.style])\r\n    return <div  {...props} {...{ref,role,className,style}} />\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Grow as Target} from '../../../src'\r\nexport const Grow:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    return (\r\n        <Target {...{dark, size}}/>\r\n    )\r\n}\r\nexport const codeGrow =\r\n`import {Grow} from '@tsei/core'\r\nconst App =  => (\r\n    <Grow\r\n        dark={true}\r\n        size={1}/>\r\n)`\r\n","import {Page, PageConfig, URLType, UserConfig} from './types'\r\nexport const topUp =(text:any)=> \"\"+text.charAt(0).toUpperCase()+\"\"+text.slice(1).toLowerCase()\r\nexport const clamp = (x:number, min=0, max=1) :number  => (x<min)?min:(x>max)?max:x\r\nexport const swap=(arr:number[],ind:number,row:number) => {\r\n    const ret = [...arr.slice(0, ind), ...arr.slice(ind+1, arr.length)]\r\n    return [...ret.slice(0, row), ...arr.slice(ind, ind+1), ...ret.slice(row)]\r\n}\r\nexport const equalPathname = (...urls:(URLType|string|undefined|null|false)[]) =>\r\n    urls.map(u => typeof u===\"string\"? new URL(u) : u)\r\n        .map(u => u && joinURL(u.pathname, \"/\"))\r\n        .every((u, _, self) => u===self[0])\r\n\r\n// *************************  use-page  ************************* //\r\nexport const defaultPageConfig:PageConfig = {\r\n    onChange:null,\r\n}\r\nexport const defaultPage = {\r\n    id      :window.location.pathname.split('/').filter(v=>v).find((_,i)=>i===1)||\"\",\r\n    isHome  :window.location.pathname.split('/').filter(v=>v).length > 1,\r\n    isLocal :window.location.hostname===\"localhost\",\r\n    protocol:window.location.protocol ||\"\",\r\n    hostname:window.location.hostname ||\"\",\r\n    portname:window.location.port     ||\"\",\r\n    pathname:window.location.pathname ||\"\",\r\n    search  :window.location.search   ||\"\",\r\n    hash    :window.location.hash     ||\"\",\r\n    language:window.navigator.language||\"ja\",\r\n    urls    :[new URL(window.location.href)],\r\n}\r\nexport const joinPage = <T={}>(page:Page<T>):string|string[] => {\r\n    const {protocol,hostname,portname,pathname=\"\",search=\"\",hash=\"\"} = page;\r\n    const arr  =[protocol,hostname,portname,pathname,search,hash]\r\n    const getp =(port:any)=>port?`:${port}`:\"\"\r\n    const geti =(i=0,n:any)=>n instanceof Array?(i<n.length?n[i]:n[n.length-1]):n\r\n    if (arr.every(v=>typeof v===\"string\"))\r\n        return joinURL(`${protocol}//${hostname}${getp(portname)}/`,pathname as any, search as any)\r\n    const maxLength = arr.map(v=>v instanceof Array?v.length:1).reduce((a,b)=>a>b?a:b)\r\n    return [...Array(maxLength)].map((_,i) =>\r\n        joinURL( `${geti(i,protocol)}//${geti(i,hostname)\r\n            }${getp(geti(i,portname))}/`,geti(i,pathname),geti(i,search) )\r\n    ) as string[]\r\n}\r\nexport const normPage = <T extends {}={}>(page:Page<T>) => {\r\n    const state = {...page} as any//Page<T>\r\n    Object.entries(state).sort(([_,val]) => typeof val===\"function\"?1:-1)\r\n    .forEach(([key,val]:any) => (state[key]=typeof val===\"function\"?val(state):val))\r\n    const urls = joinPage<T>(state as Page<T>)\r\n    return {...state, urls:urls instanceof Array\r\n      ? urls.map((u:any) => typeof u===\"string\" ? new URL(u) : u) as URLType[]\r\n      : [typeof urls===\"string\" ? new URL(urls) : urls] as URLType[] } as Page<T>\r\n}\r\n\r\n// *************************  For useUser  ************************* //\r\nexport const defaultUserConfig:UserConfig = {\r\n    keys:['username','authtoken'],\r\n    user:null,\r\n    onSign:null,\r\n    onSignin:null,\r\n    onSignout:null\r\n}\r\n// *************************  join-url  ************************* //\r\n// * This function is fork of join-url/urljoin\r\n// * Code : https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\r\n// ************************* *************** ************************* //\r\nexport function joinURL (...strArray:(string|number)[]) : string {\r\n    var resultArray = [];\r\n    if (strArray.length === 0) return ''\r\n    if (typeof strArray[0] !== 'string') throw new TypeError('Url must be string.');\r\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1)\r\n        strArray[0] = strArray.shift() + strArray[0];\r\n    if (strArray[0].match(/^file:\\/\\/\\//))\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\r\n    else\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\r\n    strArray = strArray.filter(str=>str!==\"\")\r\n    for (var i = 0; i < strArray.length; i++) {\r\n        let str = strArray[i];\r\n        if (typeof str === 'number') str = String(str)\r\n        if (typeof str !== 'string') throw new TypeError(`${str} must be a string. Received ${typeof str}`);\r\n        if (str === '') continue;\r\n        if (i > 0) str = str.replace(/^[\\/]+/, '');                   //eslint-disable-line\r\n        if (i < strArray.length - 1) str = str.replace(/[\\/]+$/, ''); //eslint-disable-line\r\n        else str = str.replace(/[\\/]+$/, '/');                        //eslint-disable-line\r\n        resultArray.push(str);\r\n    }\r\n    let str = (resultArray as string[]).join('/');\r\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\r\n    let parts = str.split('?');\r\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\r\n    return str;\r\n}\r\n// *************************  helpers  ************************* //\r\n// * This function is fork of react-spring\r\n// * Code : https://github.com/pmndrs/react-spring/blob/master/src/shared/helpers.ts\r\n// ************************* *************** ************************* //\r\nexport const is = {\r\n    arr: Array.isArray,\r\n    obj: (a: unknown): a is object    => Object.prototype.toString.call(a) === '[object Object]',\r\n    fun: (a: unknown): a is Function  => typeof a === 'function',\r\n    str: (a: unknown): a is string    => typeof a === 'string',\r\n    num: (a: unknown): a is number    => typeof a === 'number',\r\n    und: (a: unknown): a is undefined => a === void 0,\r\n    nul: (a: unknown): a is null      => a === null,\r\n    set: (a: unknown): a is Set<any>  => a instanceof Set,\r\n    map: (a: unknown): a is Map<any, any> => a instanceof Map,\r\n    equ(a: any, b: any) {\r\n    if (typeof a !== typeof b) return false\r\n        if (is.str(a) || is.num(a)) return a === b\r\n        if (is.obj(a) &&\r\n            is.obj(b) &&\r\n            Object.keys(a).length + Object.keys(b).length === 0)\r\n            return true\r\n        let i\r\n        for (i in a) if (!(i in b))     return false\r\n        for (i in b) if (a[i] !== b[i]) return false\r\n        return is.und(i) ? a === b : true\r\n    },\r\n}\r\n\r\nexport function merge(target: any, lowercase: boolean = true) {\r\n  return (object: object) =>\r\n    (is.arr(object) ? object : Object.keys(object)).reduce(\r\n        (acc: any, element) => {\r\n            const key = lowercase\r\n              ? element[0].toLowerCase() + element.substring(1)\r\n              : element\r\n            acc[key] = target(key)\r\n            return acc\r\n        },\r\n        target\r\n    )\r\n}\r\n","import React, {ReactChild as RC, FC, CSSProperties as CSS, Children,useCallback,useEffect,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated as a} from 'react-spring'\r\nimport {useGesture,} from 'react-use-gesture'\r\nimport {clamp, swap} from '../utils'\r\nimport {BasedProps} from '../types'\r\nconst styles:{[key:string]:CSS} = {\r\n    cont: {position:\"relative\",width:\"100%\",margin:`auto`        },//*DEV*/,background:\"rgba(100,0,0,0.5)\"},\r\n    main: {position:\"relative\",width:\"100%\"/*,marginTop:size*50*/},//*DEV*/,background:\"rgba(0,100,0,0.5)\"},\r\n    side: {position:\"absolute\",top:0,left:0,right:0,margin:\"auto\"},//*DEV*/,background:\"rgba(0,0,100,0.5)\"},\r\n    btn : {position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translate(-50%,-50%)\" },\r\n}\r\nexport type Notes = FC<BasedProps<{\r\n    grandren:any,right:RC,left:RC, depth:number,\r\n}>>\r\nexport const Notes:Notes = ({\r\n    order=null, grandren=null,\r\n    right=null, left=null, depth=0,\r\n    size=1, style={}, ...props\r\n}) => {\r\n    const [length, setLength] = useState<number>((props?.children as any)?.length||1)\r\n    const [height, setHeight] = useState<number>(props.height || size*500*length)\r\n    const [isOpen, setIsOpen] = useState<boolean[]>(Array(length).fill(false))\r\n    const orderRef  = useRef<number[]>(order||[...Array(length)].map((_,i:number)=>i))\r\n    const heightRef = useRef( Array(length).fill(size*500) )\r\n    const targetRef = useRef<HTMLDivElement|null>(null)\r\n    const setPosition = useCallback(() => {\r\n        if (props.height) return setHeight(props.height)\r\n        const childs  = Array.from(targetRef?.current?.children||[])\r\n        heightRef.current = [...childs].map((c:any)=>c.clientHeight||0)\r\n        props.children && setHeight([...heightRef.current,0].reduce((a,b)=>a+b) || size*500*length)\r\n    }, [size, length, props.height, props.children])\r\n    useEffect(()=>{\r\n        const len = (props.children as any)?.length||1\r\n        setLength(len)\r\n        setIsOpen(Array(len).fill(false))\r\n        if (orderRef.current.length === len) return\r\n         orderRef.current = order||[...Array(len)].map((_,i:number)=>i)\r\n        heightRef.current = Array(len).fill(size*500)\r\n    }, [size,order, props.children])\r\n    //  *************************   React Springs  *************************  //\r\n    const getY =({pre=0,arr=orderRef.current})=>pre<1?0:[...arr.slice(0,pre).map(i=>heightRef.current[i]),0].reduce((a,b)=>a+b)\r\n    const getF =({i=-1,x=0,s=1.0})=>(j=0)=>({x:j===i?x:0,y:getY({pre:orderRef.current.indexOf(j)}),scale:j===i?s:1})\r\n    const getG = useCallback(({i=-1,arr=orderRef.current,pre=-1,mx=0,my=0,down=false}) =>\r\n        (j:number) => (down&&j===i)\r\n            ? {scale:0.9, x:mx, y:getY({pre})+my}\r\n            : {scale:1.0, x:0 , y:getY({pre:arr.indexOf(j),arr})}, [])\r\n    const [springs, set] = useSprings(length, getG({}))\r\n    const bind = useGesture({\r\n        onClick:()=>setTimeout(()=>{setPosition();set(getG({})) },1),\r\n        onDrag : ({ down,cancel,movement:[mx,my],startTime,\r\n                    last, args:[i], vxvy:[vx,vy],timeStamp, }) => {\r\n            if(cancel && timeStamp-startTime<1) cancel()\r\n            const pre = orderRef.current.indexOf(i)\r\n            const row = clamp( Math.round(pre+my/size*500), 0, length-1 )\r\n            const arr = swap(orderRef.current, pre, row)\r\n            if(!down) orderRef.current = arr\r\n            if(!last) return set( getG({i,arr,pre,mx,my,down}) )\r\n            const x = (mx<0?-1:1) * size*50// * 2 // window.innerWidth/2 -\r\n            const op = (mx**2<.1||x**2<mx**2*2||vx**2+vy**2>1) ? !isOpen[i] : isOpen[i]\r\n            setIsOpen(p=>[...Object.assign([],{[i]:!p[i]})])\r\n            setTimeout(()=>{setPosition();set(getF({i,s:op?1:1}))},1)//TODO: s is .9?\r\n        }\r\n    })//, {eventOptions:{passive:true,pointer:false}}\r\n    //  *************************   Child Render  *************************  //\r\n    const children = useMemo(() => Children.map(props.children, (child) => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []//count(child.props.children) || 0\r\n        return (grand.length>1 && depth===0) // TODO for depth > 0\r\n            ? React.cloneElement(child as any, {children:grand[0], grandren:(\r\n                <Notes {...{...props, depth:depth+1,children:grand.slice(1)}}/> )})\r\n            : child\r\n    }), [depth, props])\r\n    useEffect(()=>{ setPosition(); set(getG({})) }, [setPosition, set, getG] )\r\n    return (\r\n        <div ref={targetRef} style={{...styles.cont,height,...style}}>\r\n            {springs.map( ({x,y,scale}, key) =>\r\n                <a.div {...{key}} {...bind(key)} style={{x,y,position:\"absolute\",width:\"100%\"}}>\r\n                    <a.div style={{scale,...styles.main}}>\r\n                        {(children as any)[key]}\r\n                    </a.div>\r\n                    {x.interpolate((px:number)=>px**2>0 ) &&\r\n                    <a.div style={{...styles.side,height:heightRef.current[key],\r\n                        y:0,  x:x.to((px:number)=> -px+(px>0?-.5:.5)*(size*500)),\r\n                        scale  :x.to((px:number)=>px**2/4>size**2?1:(px>0?px:-px)/(size)),\r\n                        width  :x.to((px:number)=>px>0?px*2:-px*2),\r\n                        display:x.to((px:number)=>px?\"inline\":\"none\")\r\n                    }}>\r\n                        { right&& <a.div style={{display:x.to((px:number)=>px>0?\"inline\":\"none\"),...styles.btn}}>\r\n                        { right } </a.div> }\r\n                        { left && <a.div style={{display:x.to((px:number)=>px<0?\"inline\":\"none\"),...styles.btn}}>\r\n                        { left  } </a.div> }\r\n                    </a.div>}\r\n                    { isOpen[key] &&\r\n                        ( (children as any)[key]?.props?.grandren || '' )\r\n                    }\r\n                </a.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Notes as Target} from '../../../src'\r\nexport const Notes:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const depth = useControl('depth', {type: 'number' , value: 0, min: 0, max: 2})\r\n    return (\r\n        <Target {...{dark, size, depth:~~depth}}>\r\n            <div style={{height:size*100,background:\"rgba(255,0,0,0,1)\"}}>1</div>\r\n            <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>2</div>\r\n            <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>3</div>\r\n        </Target>\r\n    )\r\n}\r\nexport const codeNotes =\r\n`import {Notes} from '@tsei/core'\r\nconst App =()=> (\r\n    <Notes\r\n        dark={true}\r\n        size={1}>\r\n        <div style={{height:size*100,background:\"rgba(255,0,0,0,1)\"}}>1</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>2</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>3</div>\r\n    </Notes>\r\n)`\r\n","import React, {CSSProperties as CSS,Children,useMemo,useEffect,useRef} from 'react'\r\nimport {useSpring, useSprings, animated as a} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {clamp} from '../utils'\r\n\r\nconst sign =(num=0):number=>(num < 0 &&-1)\r\n                        ||  (num > 0 && 1)\r\n                        ||  (num===0 && 0)\r\n                        ||  0\r\nconst samp = <T extends any>(a:T[], l:number, d?:T):T[] => [\r\n    ...a.slice(0,l),\r\n    ...(l-a.length>0? Array(l-a.length).fill(d||a[0]) : [])\r\n]\r\nconst getW = (o=[] as number[],w=0,l=0) =>\r\n    o instanceof Array && o.length > 0\r\n        ? samp(o, l, -1)\r\n            .map((v=0) => 0\r\n                || (w > 0 && (w <= 1 ? w : w/window.innerWidth))\r\n                || (v > 0 && (v <= 1 ? v : v/window.innerWidth))\r\n                || (v < 0 && -1)\r\n                || 0)\r\n            .map((v,_,s) => v>=0? v : 1 - [...s.filter(v=>v>0),0].reduce((a,b)=>a+b)/s.filter(v=>v<0).length)\r\n        : Array(l).fill(l>0?1/l:l)\r\nconst move = (\r\n    mx=0, k=0, s=1,            // mx: in unseGesture, k: key of bind, s: sign, 0, 1 or -1\r\n    {current:l=2},             // l: lRef\r\n    {current:ws=[0,0]},        // ws:wRef\r\n    mW=0, iw=window.innerWidth // mW:minWidth in props as 100\r\n) => (i=0) => (i===k||i===k+s)\r\n    && [k,k+s].every(v => -1<v&&v<l)\r\n    && [k,k+s].every(v => mx*(k-v) <= 0 || mW/iw < ws[v]+mx*(k-v)/iw)\r\n    ?  {w:clamp(ws[i]+mx*s*(i===k?1:-1)/iw,mW/iw,(iw-ws[k]-ws[k+s]/iw))}\r\n    :  null\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {position:\"relative\",overflow:\"visible\",height:\"100%\",width:\"100%\",whiteSpace:\"nowrap\",},\r\n    item:{position:\"relative\",overflow:\"visible\",height:\"100%\",display:\"inline-block\",verticalAlign:\"top\"},\r\n}\r\nexport type Split = React.ForwardRefRenderFunction<any, BasedProps<{\r\n    order :number[]|[], styleItem:CSS,\r\n    min:number, width:number, height:number,\r\n}>>\r\nconst SplitForward:Split = ({\r\n    order=[], width=0, height=0, min=100,\r\n    dark=false,size=1, style={}, styleItem={},...props\r\n},  ref) => {\r\n    const sRef = useRef<number>(0)\r\n    const lRef = useRef<number>((props as any)?.children?.length||1)\r\n    const hRef = useRef<number>(height||window.innerHeight/lRef.current)\r\n    const wRef = useRef<number[]>(getW(order, width, lRef.current))\r\n    const [spring,  setH] = useSpring(() => ({h:hRef.current}))\r\n    const [springs, setW] = useSprings(wRef.current.length, i=>({w:wRef.current[i],z:0}))\r\n    const bind = useGesture({\r\n        //onHover:({args:[key]}) => setW((i=0) => i===key?{z:1}:null),\r\n        //onMouseLeave:() => setW((_) => ({z:0})),\r\n        onDrag:({first, last, args:[key], movement:[mx,my], direction:[dir]}) => {\r\n            if (sRef.current===0||first) sRef.current = sign(dir)\r\n            setH({h:clamp(hRef.current+my, min, window.innerHeight)})\r\n            sRef.current===sign(dir) && setW(move(mx,key,sign(dir),lRef,wRef,min))\r\n            if (!last) return\r\n            wRef.current = springs.map((s:any) => s.w.animation.to || 0)\r\n            hRef.current = spring.h.animation.to as number || 0\r\n        }\r\n    })\r\n    //console.log(order, samp(order, lRef.current, -1), getW(order, width, lRef.current))\r\n    const children = useMemo(() => Children.map(props.children, c=>c), [props.children])\r\n    useEffect(() => {\r\n        const len = (props as any)?.children?.length||0\r\n        if (len===lRef.current) return\r\n        lRef.current = len\r\n        wRef.current = [...wRef.current.map(v=>v-1/len/wRef.current.length), 1/len]\r\n        setW((i) => ({w:wRef.current[i]}))\r\n    },  [props, setW])\r\n    useEffect(() => {\r\n        wRef.current = getW(order,width,lRef.current)\r\n        setW(i=>({w:wRef.current[i]}))\r\n    }, [width, setW, order])\r\n    useEffect(() => {\r\n        hRef.current = height||window.innerHeight/lRef.current\r\n        setH({h:hRef.current})\r\n    }, [height, setH])\r\n    return (\r\n        <a.div ref={ref} style={{...styles.top, height:spring.h,...style}} {...props}>\r\n            {springs.map(({w,z},key) =>\r\n                <a.div {...bind(key)} {...{key}} style={{\r\n                        ...styles.item, ...styleItem,\r\n                        width:w.interpolate(v => `${100*v}%`),\r\n                        zIndex:z.interpolate(v => ~~(v*10))\r\n                    }}>\r\n                    {(children as any)[key]}\r\n                </a.div>\r\n            )}\r\n        </a.div>\r\n    )\r\n}\r\nexport const Split = React.forwardRef(SplitForward)\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Split as Target} from '../../../src'\r\n\r\nexport const Split:FC = () => {\r\n    const dark  = useControl('dark'  , {type: 'boolean', value: false})\r\n    const size  = useControl('size'  , {type: 'number' , value: 1  , min: 0, max: 2})\r\n    const min   = useControl('min'   , {type: 'number' , value: 100, min: 0, max: 1000})\r\n    const width = useControl('width' , {type: 'number' , value: 0  , min: 0, max: 1000})\r\n    const height= useControl('height', {type: 'number' , value: 0  , min: 0, max: 1000})\r\n    return (\r\n        <Target {...{dark,size,min,width,height}}>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n        </Target>\r\n    )\r\n}\r\nexport const codeSplit =\r\n`import {Split} from '@tsei/core'\r\nexport const Split = (\r\n        <Target\r\n            dark  ={false}\r\n            size  ={1}\r\n            min   ={}\r\n            width ={0}\r\n            height={0}>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n        </Target>\r\n)`\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\n\r\nexport type Head = FC<BasedProps>\r\nexport const Head:Head = ({\r\n    children, color=\"\", dark=false,size=1, style={}, ...props\r\n}) => {\r\n    style = useMemo<CSS>(()=>({\r\n        fontSize:size*50,\r\n        color:color||dark?\"#818181\":\"#000\",\r\n        width:`max(70vw, 100vw - ${size*200}px)`,\r\n        height:\"auto\",\r\n        margin:\"auto\",\r\n        ...style\r\n    }), [color,dark,size,style])\r\n    return <div {...{children,style,...props}}/>\r\n}\r\n","// This is a fork of\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/index.js\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/icons.js\r\n// demo: https://codesandbox.io/embed/rrw7mrknyp\r\n//     @content, Name of the node (string or React-component)\r\n//     @type   , optional description, good for displaying icons, too (string or React-component)\r\n//     @open   , optional: default open state\r\n//     @canHide, optional: when set true displays an eye icon\r\n//     @visible, optional: default visible state\r\n//     @onClick, optional: click events on the eye\r\n//     @springConfig, optional: react-spring animation config\r\nimport React, {\r\n    CSSProperties as CSS, FC, Children,\r\n    useCallback,useMemo, useState, useEffect, //useRef\r\n} from 'react'\r\nimport {useSpring, config, animated as a} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst defaultConfig = {restSpeedThreshold: 1,restDisplacementThreshold: 0.01}\r\nconst styles:{[key:string]:CSS} = {\r\n    tree: {padding:'4px 0px 0px 0px',overflow:'hidden',verticalAlign:'middle',\r\n           position:'relative',whiteSpace:'nowrap',textOverflow: 'ellipsis',},\r\n    tggl: {width:'1em',height:'1em',cursor:'pointer',verticalAlign:'middle',marginRight:10,},\r\n    type: {fontSize:'0.6em',fontFamily:'monospace',verticalAlign:'middle',textTransform:'uppercase',},\r\n    cont: {willChange:'transform, opacity, height',marginLeft:6,},\r\n}\r\nconst paths = {\r\n    close:\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155 q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\",\r\n    minus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0 q0 -15 -11 -25.5t-25 -10.5z\",\r\n    plus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184 q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\",\r\n    eye: \"M963 384q0 14 -21 62q-26 65 -61 109q-57 71 -139 112q-99 50 -230 50t-231 -50q-80 -41 -138 -112q-34 -43 -61 -109q-21 -48 -21 -62v0v0v0v0q0 -14 21 -62q27 -66 61 -109q57 -71 139 -112q100 -50 230 -50t230 50q81 41 139 112q35 44 62 109q20 48 20 62v0v0v0v0z M889 384q-25 -77 -64 -126h-1q-46 -59 -114 -93q-85 -42 -198.5 -42t-198.5 42q-67 34 -114 93q-40 49 -65 126q25 77 65 126q47 59 114 93q85 43 199 43t198 -43q67 -33 114 -93q40 -49 65 -126zM512 558q-72 0 -122.5 -50.5t-50.5 -122.5t50.5 -122.5t122.5 -50.5 t122.5 50.5t50.5 122.5t-50.5 122.5t-122.5 50.5zM614 385q0 -42 -30 -72t-72 -30t-72 30t-30 72t30 72t72 30t72 -30t30 -72z\",\r\n}\r\nexport type TreeIcon = {[key:string]:FC<{style:CSS,onClick:()=>void,className?:string}>}\r\nexport const TreeIcon:TreeIcon = {\r\n    CloseSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.close}/></g></svg>,\r\n    MinusSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.minus}/></g></svg>,\r\n    PlusSquareO : props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.plus}/></g></svg>,\r\n    EyeO        : props => <svg {...props} viewBox=\"61  51 902 666\"><g><path d={paths.eye}/></g></svg>,\r\n}\r\nexport type TreeContent = FC<BasedProps<{\r\n    [key:string]:any, set:any, content:any, type:any,\r\n    canHide:boolean, opacity:number, root:number, icon:\"Minus\"|\"Plus\"|\"Close\"\r\n}>>\r\nexport const TreesContent:TreeContent = ({\r\n    content,type,set,canHide=false,icon=\"Close\",opacity=1,dark=false,//size=1,\r\n}) => {\r\n    const Icon = useMemo(() => TreeIcon[`${icon}SquareO`], [icon])\r\n    const color = useMemo(() => dark?\"#818181\":\"#212121\", [dark])\r\n    const iconClick = useCallback(() => set&&set((p:any) => ({open:!p.open,immediate:false})), [set])\r\n    const eyeClick  = useCallback(() => set&&set((p:any) => ({...p        ,immediate:true })), [set])\r\n    return !content ? null : (\r\n        <>\r\n            <Icon style={{...styles.tggl, opacity, color}} onClick={iconClick}/>\r\n            <span style={{...styles.type, marginRight:type?10:0,color}}>{type}</span>\r\n            { canHide &&\r\n            <TreeIcon.EyeOstyle style={{...styles.tggl}} onClick={eyeClick}/> }\r\n            <span style={{verticalAlign:'middle',color}}>{content}</span>\r\n        </>\r\n    )\r\n}\r\nexport type Trees = FC<BasedProps<{\r\n    open:boolean, visible:boolean, immediate:boolean, springConfig:any,\r\n    canHide:boolean, topStyle:CSS, depth:number, type:any, content:any,\r\n}>>\r\nexport const Trees:Trees = ({\r\n    open=true, visible=true, immediate=true, depth=0, root=1, springConfig=defaultConfig,\r\n    dark=false, size=1, style={}, topStyle={}, ...props\r\n}) =>  {\r\n    const [state, set] = useState<{[key:string]:boolean}>({open,visible,immediate})\r\n    const spring = useSpring<any>({\r\n        immediate:state.immediate,\r\n        config: {...config.default,...springConfig},\r\n        from: {height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\r\n        to: {  height: state.open ? 'auto' : 0,\r\n              opacity: state.open ? 1      : 0,\r\n            transform: state.open ? 'translate3d(0px,0,0)' : 'translate3d(20px,0,0)'},\r\n    })\r\n    const children = useMemo(() => Children.map(props.children, child => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []\r\n        return props.children &&\r\n            <Trees {...{...props,\r\n                dark, size, style, depth:depth+1, topStyle:{},\r\n                open:depth<root, children:grand.length>1 ? grand.slice(1) : null,\r\n                immediate:false, content:grand.length>1 ? grand[0] : child,}}/>\r\n    }), [props, dark, size, style, depth, root])\r\n    const icon = useMemo(() => children instanceof Array && children.length>0\r\n        ? (state.open ? 'Minus' : 'Plus')\r\n        : 'Close', [children, state.open])\r\n    useEffect(() => void (set(p => visible!==p.visible? {...p, visible} : p)), [visible])\r\n    return (\r\n        <div style={{...styles.tree, fontSize:size*50, zIndex:-depth, ...style, ...topStyle}}>\r\n            <TreesContent{...{...props, dark, size, icon, set, opacity:children?.length?1:.3}}/>\r\n            <a.div style={{\r\n                ...(depth>0?{borderLeft:`1px dashed #${dark?818181:212121}`}:{}),\r\n                ...styles.cont, padding:`4px 0px 0px ${size*25}px`,\r\n                ...spring, }}>{children}</a.div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Trees as TREES, Head} from '../../../src'\r\nconst items = ['0', '1', '2', '3']\r\nexport const Trees:FC = () => {\r\n    const dark     = useControl('dark'     , {type: 'boolean', value: false})\r\n    const open     = useControl('open'     , {type: 'boolean', value: true })\r\n    const visible  = useControl('visible'  , {type: 'boolean', value: true })\r\n    const immediate= useControl('immediate', {type: 'boolean', value: true })\r\n    const canHide  = useControl('canHide'  , {type: 'boolean', value: false})\r\n    const depth    = useControl('depth'    , {type: 'number' , value: 0, min: 0, max: 2})\r\n    const root     = useControl('root'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const size     = useControl('size'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const icon     = useControl('icon'     , {type: 'select' , value: 'Close' , items:['Minus','Plus','Close']})\r\n    const content  = useControl('content'  , {type: 'select' , value: items[0], items})\r\n    return (\r\n        <Head {...{dark,open,visible,immediate,canHide,depth,root,size,icon,content}}>\r\n            <TREES>\r\n                <>\r\n                    <>1</>\r\n                    <>1 - 1</>\r\n                    <>1 - 2</>\r\n                </>\r\n                <>\r\n                    <>2</>\r\n                    <>2 - 1</>\r\n                    <>2 - 2</>\r\n                </>\r\n            </TREES>\r\n        </Head>\r\n    )\r\n}\r\nexport const codeTrees =\r\n`import {Trees} from '@tsei/core'\r\nconst App = () => (\r\n    <Trees\r\n        dark = {false}\r\n        open = {true}\r\n        visible = {true}\r\n        immediate = {true}\r\n        canHide = {false}\r\n        depth = {0}\r\n        root = {1}\r\n        size = {1}\r\n        icon = {\"Close\"}\r\n        content={\"0\"}>\r\n        <>\r\n            <>1</>\r\n            <>1 - 1</>\r\n            <>1 - 2</>\r\n        </>\r\n        <>\r\n            <>2</>\r\n            <>2 - 1</>\r\n            <>2 - 2</>\r\n        </>\r\n    </Trees>\r\n)\r\n`\r\n\r\n// const bind = (background=\"\") => ({\r\n//     style: {background},\r\n//     onClick: () => console.log('HI')\r\n// })\r\n// export const Trees:FC = () => {\r\n//     return (\r\n//         <Head {...{dark:0,size:1}}>\r\n//             <TREES content=\"Hook\">\r\n//                 <>\r\n//                     <span {...bind(\"rgba(255,0,0,.1)\")}>Components</span>\r\n//                     <span {...bind(\"rgba(0,255,0,.1)\")}>Card</span>\r\n//                     <span {...bind(\"rgba(0,0,255,.1)\")}>Modal</span>\r\n//                 </>\r\n//                 <span {...bind(\"rgba(0,0,0,.1)\")}>_</span>\r\n//             </TREES>\r\n//         </Head>\r\n//     )\r\n// }\r\n","import axios  from 'axios'\r\nimport * as THREE from 'three'\r\nimport * as MESHS from './meshs'\r\nimport * as CODES from './codes'\r\nimport {Credit, URLType, Page, topUp} from '../src'\r\n// ************************* FOR NOTE ************************* //\r\nexport const scrollTop=()=>document.getElementById('root')?.scroll({top:0,left:0,behavior:'smooth',});\r\nexport const pageConfig = { onChange:() => scrollTop() }\r\nexport type CustomPage =\r\n   {portname:string[], isHome:boolean,\r\n    pathname:string[], status:string, }\r\nexport const customPage : Partial<Page<CustomPage>> = {\r\n    isSign:false,status:\"\", portname: ({isLocal}) => isLocal?[\"3000\",\"8000\",\"8000\"]:[],\r\n    isHome:({id}) => !id  , pathname: ({id,status}) =>\r\n        [   `/note/${ id?id+'/':'' }`,\r\n        `/api/note/${ id?id+'/':'' }`,\r\n        status!==\"UP\"? `/auth/`: `/api/user/`]\r\n}\r\nexport const fetcher = async (url:URLType,headers={'Content-Type':'application/json'}) =>\r\n   axios.get(url.href, {headers})\r\n        .then(res => {\r\n            if(!res || res.status!==200)\r\n                throw new Error('Bad Request')\r\n            return res.data\r\n        })\r\nexport const signin = async (url:URLType, cred:Credit, headers={'Content-Type':'application/json'}) =>\r\n   axios.post(url.href, cred, {headers})\r\n        .then((res) => {\r\n            if (res.status>201 || !res.data.token)\r\n                throw new Error('Bad Request')\r\n            return {username:cred.username, authtoken:res.data.token}\r\n        })\r\n\r\n// ************************* FOR HOOK ************************* //\r\nexport const hookTree = [\r\n    [\"Components\",\"Card\",\"Code\",\"Grow\",],//\"Head\",\"Icon\"],\r\n    [\"Containers\",\"Notes\",\"Split\",\"Trees\"],\r\n    \"Mdmd\"\r\n]\r\nexport type  HookPage = {pathname:string, Hook:any, code:any, codes:any}\r\nconst getval = (obj={},key='') => key in obj ? (obj as any)[key] : \"\"\r\nexport const hookPage = {\r\n    pathname: ({id=\"\"}) => `/hook/${id}`,\r\n    Hook : ({id=\"\",codes={}}) => getval(codes,          topUp(id)),\r\n    code : ({id=\"\",codes={}}) => getval(codes, 'code' + topUp(id)),\r\n    codes: Object.assign({}, ...Object.entries(CODES).map(([k,v])=>({[k]:v})))\r\n}\r\n// ************************* FOR MESH ************************* //\r\nconst canvas = {\r\n    Kinect:{},\r\n    Swarm :{\r\n        gl: {antialias:false, logarithmicDepthBuffer:true},\r\n        camera: {position:[0,-2,3]},\r\n        onCreated: ({gl}:any)=>{gl.outputEncoding=THREE.sRGBEncoding},\r\n        pixelRatio: window.devicePixelRatio,\r\n    }\r\n}\r\nexport type  MeshPage = {canvas:any, Mesh:any}\r\nexport const meshPage = {\r\n    Mesh  :({id=\"\"}) => (MESHS  as any)[topUp(id)] || null,\r\n    Canvas:({id=\"\"}) => (canvas as any)[topUp(id)] || null,\r\n}\r\n","/** ************************* USE PAGE *************************\r\n * This is a hook to record the URL of the Restfl API\r\n *   - `const [page, set] = usePage({id:null,home:({id})=>!id}, config)`\r\n *   - `const onClick=()=>set({id:90}, config)`\r\n *   - ```\r\n *     {Page, id:null}  <=data=> (DB1 : URL1 by id), (DB2 : URL2 by id)\r\n *          | change id\r\n *          |  => change URLs by id (e.g. /api to /api/90)\r\n *          v  => change user state (e.g. home:true to home:false)\r\n *     {New Page, id:90}\r\n *     ```\r\n * # ***** usePage API Configs *****\r\n * ## Props Values\r\n *   - `const _ = usePage(@initPage, @config)`\r\n *   - @initPage = {\r\n *         @isHome  :boolean\r\n *         @isLocal :boolean\r\n *         @id      :string e.g. 2\r\n *         @protocol:string e.g. \"https:\"\r\n *         @hostname:string e.g. \"localhost\"\r\n *         @portname:string e.g. \"3000\"   or [\"3000\"(npm), \"8000\"(django)]\r\n *         @pathname:string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @search  :string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @hash    :string e.g. \"#note\"  or [\"#note\"]\r\n *   - @config = {TODO}\r\n *   - type MultiPage<T=any> = T|T[]|((p:Page)=>T|T[])\r\n * ## Return Values\r\n *   - @page : {...@initPage(as T|T[]),\r\n *         @url ?: from initPage parameters    e.g. \"http...\" or [\"http...\", ...more]\r\n *         @XXX ?: any value you set when init e.g. @home:true\r\n *   - @set   : (args) => void ( setState )\r\n ** ************************* ********* *************************/\r\n\r\nimport {useEffect, useState, useCallback, useRef} from 'react'\r\nimport {defaultPageConfig as defaultConf, defaultPage, normPage} from '../utils'\r\nimport {Page , PageConfig as Conf, BasicProps, BasicState, BasicAction} from '../types'\r\nexport const usePage = <T extends {}={}>(\r\n    props :BasicProps<Partial<Page<T>>>,//BasicProps<Page<T>>,\r\n    config:BasicProps<Partial<Conf<T>>>={},\r\n) : [Page<T>, BasicAction<Partial<Page<T>>>] => {\r\n    if (typeof props===\"function\") props  = props()\r\n    if (typeof config===\"function\")config = config()\r\n    const pageRef = useRef<Page<T>>({...defaultPage, ...props } as Page<T>)\r\n    const confRef = useRef<Conf<T>>({...defaultConf, ...config} as Conf<T>)\r\n    const [page,set] = useState<Page<T>>( normPage(pageRef.current) )\r\n    const setPage = useCallback((state:BasicState<Partial<Page<T>>>) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current as Partial<Page<T>>)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [page.id])\r\n    return [page, setPage]\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {BasedProps} from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nexport type Icon = FC<BasedProps>\r\nexport const Icon:Icon = ({\r\n    fa=\"\",dark=false,circ=true,size=1,onOpen=null, //onClose=null,\r\n    children,className='',...props//,color=''\r\n}) => {\r\n    const [{xys}, set] = useSpring(() => ({xys:[0,0,0]}))\r\n    const bind = useGesture({\r\n        onMove : ({vxvy:[vx,vy],last}) => set({xys:[vx,vy,last?0:1]})\r\n    })\r\n    const color = useMemo(()=>props.color||circ\r\n      ? dark?\"#818181\":\"#fff\"\r\n      : \"#212121\",[props.color,circ,dark])\r\n    const style = useMemo<CSS>(() => ({\r\n        padding:\"0px\",top:0,right:0,textAlign:\"center\",userSelect:\"none\",\r\n        ...(circ?{borderRadius:size*50,background:\"#212121\"}:{}),\r\n        ...props.style,color,height:size*50,width:size*50,fontSize:size*50\r\n    }), [size,circ,color,props.style] )\r\n    return <a.div style={{\r\n                x : xys.interpolate((x,y,s) => x*size*50+y*s),\r\n                y : xys.interpolate((x,y,s) => y*size*50+x*s),\r\n                filter : xys.interpolate((x,y,s) => [\r\n                    `drop-shadow(${0.1+x}rem`, // -x~0.5~x\r\n                                `${0.5+y}rem`, // -y~1.5~y\r\n                                `${1-s/2}rem`, // 1 =hover=> 0.5\r\n                    `rgba(0,0,0, ${0.5+s/20}))`// 0.50 =hover=> 0.55\r\n                ].join(' ')),\r\n                transform : xys.interpolate((x,y,s) => [\r\n                    `perspective(${size*50}px)`,\r\n                    `rotateX(${-y}deg)`,//-1 ~ 1\r\n                    `rotateY(${x}deg)` ,//-1 ~ 1\r\n                    `scale(${1+s/10})` ,// 1 ~ 1.1\r\n                ].join(' ')),\r\n            ...style} as CSS}\r\n           {...{children,className:className+fa?` fas fa-${fa}`:\"\"}}\r\n           {...bind()} {...props} />\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from'../types'\r\nimport {Trees} from '../containers'\r\nimport {Icon} from '../components'\r\nconst styles:{[key:string]:CSS} = {\r\n    area: {position:\"fixed\",top:0,left:0,height:\"100%\",zIndex:1},\r\n    cont: {position:\"fixed\",top:\"2%\",left:0,zIndex:1,overflowX:\"hidden\",height:`96%`},\r\n    icon: {position:\"absolute\",transform:`translate(-50%,-50%)`},\r\n    item: {padding:\"10px 10px 10px 32px\",color:\"#818181\",display:\"block\",}\r\n}\r\nexport const SidesArea :FC<BasedProps> = ({spring, bind, size=1}) =>\r\n    <a.div style={{...styles.area,\r\n        width     : spring.x.to((x:number)=>x>1?\"100%\":`${size*50/2}px`),\r\n        background: spring.scale.to((s:number)=>{\r\n            const rate  = spring.x.animation.to/window.innerWidth //0 ~ 0.5\r\n            return `linear-gradient(90deg,rgba(0,0,0,${rate+s-1}),rgba(0,0,0,0))`})\r\n        }} {...bind()} />\r\n\r\nexport const SidesContainer : FC<BasedProps> = ({size=1, spring, children}) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.x.interpolate((x:number)=>x>0?x:0),\r\n        borderRadius:`0px ${50*size}px ${50*size}px 0px`,\r\n        backgroundColor:\"#212121\"}}>\r\n        <div style={{margin:`${50*size}px 0px 0px 0px`, position:\"absolute\"}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const SidesIcon : FC<BasedProps> = ({spring, bind, circ=false, size=1}) =>\r\n    <a.div {...bind()} style={{...styles.icon,...spring,top:size*50,left:size*50}}>\r\n        <Icon fa=\"align-left\" {...{circ,size}} />\r\n    </a.div>\r\n\r\n// export const SidesItem :FC<BasedProps> = ({children, size=1}) =>\r\n//     <a.div style={{...styles.item,transition:\"0.75s\",fontSize:50*size}}>{children}</a.div>\r\n\r\nexport type Sides = FC<Partial<BasedProps<{}>>>\r\nexport const Sides:Sides = ({children, width=window.innerWidth/2,dark=false,size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool=true)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring( () => ({x:0,y:0,scale:1}) )\r\n    const open =(v=0)=>1&&(setOpened(true),set({x:width,y:0,config:v!==0?config.wobbly:config.slow}))\r\n    const close=(v=0)=>1&&(setOpened(false),set({x:0    ,y:0,config:{...config.stiff,velocity:v }}))\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:(opened.current?width:0)+(down?mx:0),y:down?my:0})\r\n            if(!opened.current) return (mx===0||mx> width*0.5||vx> 0.5) ? open(vx) : close(vx)\r\n            if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ? close(vx): open(vx)\r\n        },\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\", top:0,left:0,zIndex:100}}>\r\n            <SidesIcon   {...{size, spring, bind, }} />\r\n            <SidesArea     {...{size, spring, bind, }} />\r\n            <SidesContainer{...{size, spring, bind, }}>\r\n            <Trees {...{dark:true,size}}>\r\n                {children}\r\n                {/*React.Children.map(children, ((child, key) =>\r\n                    <SidesItem {...{size, key}}>{child}</SidesItem>\r\n                ))*/}\r\n            </Trees>\r\n            </SidesContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,useCallback,useMemo,useRef} from 'react';\r\nimport {useSpring, animated as a, config, UseSpringProps} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {BasedProps} from '../types'\r\nimport {Icon} from '../components'\r\n\r\nconst styles = {\r\n    area: {position:\"fixed\",top:0,right:0,height:\"100%\",zIndex:1},\r\n    cont: {position:\"fixed\",height:`96%`,top:\"2%\",right:0,zIndex:1,overflowX:\"hidden\"},\r\n    icon: {position:\"absolute\",right:0,transform:`translate(-50%,-50%)`,},\r\n    item: {backgroundColor:\"#212121\",color:\"#818181\", display:\"inline-block\"},\r\n}\r\nexport const TransArea :FC<BasedProps> = ({size=1, spring, bind}) =>\r\n    <a.div style={{\r\n        width: spring.r.interpolate((r:number)=>`${\r\n            50*size*( Math.cos(r/90*Math.PI)+1.5)\r\n        }px`),\r\n        background: spring.scale.interpolate((s:number)=>[\r\n            `linear-gradient(90deg`,\r\n            `rgba(0,0,0,0)`,\r\n            `rgba(0,0,0,${s-1}))`\r\n        ].join(',')),\r\n        ...styles.area}}\r\n       {...bind()} />\r\n\r\nexport const TransContainer : FC<BasedProps> = ({children, size=1, spring, bind}) =>\r\n    <a.div {...bind()} style={{...styles.cont,\r\n        width:spring.r.interpolate((r=0) => `${ 50*size*(Math.cos(r/90*Math.PI)+1) }px` )}}>\r\n        <div style={{margin:`calc(${50*size*2}px - 2%) 0px 0px 0px`}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const TransIcon : FC<BasedProps> = ({size=1, spring, bind, circ=false}) =>\r\n    <a.div {...bind()} style={{...styles.icon, top:50*size, rotateZ:spring.r}}>\r\n        <Icon fa=\"align-justify\" {...{circ,size}} />\r\n    </a.div>\r\n\r\nexport const TransItem :FC<BasedProps> = ({children, size=1}) =>\r\n    <a.div style={{...styles.item,\r\n        margin:`${50*size/4}px 0px`,\r\n        borderRadius:`${50*size}px 0px  0px ${50*size}px`,}}>\r\n        <div style={{\r\n            height:50*size, margin:`auto ${50*size/2}px`,\r\n            fontSize:50*size, zIndex:1, display:\"flex\", alignItems:\"center\",\r\n        }}>{children}</div>\r\n    </a.div>\r\n\r\nexport const Trans : FC<BasedProps> = ({children, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool:boolean)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring<UseSpringProps>( () => ({x:0, y:0, r:90, scale:1,}) )\r\n    const getr = (velocity=0) => {\r\n        const pre  = ~~(spring.r.animation.to/90) //  Math.round( spring.r.animation.to/90 || 0 ) //\r\n        const unit = ((opened.current?1:0) === (pre%2)?0:1) ? 0:1 //to change:1 no diff:0\r\n        return 90 * ( pre + unit * (velocity<0?-1:1) )\r\n    }\r\n    const width = useMemo(()=>500*size, [size])\r\n    const open  =(v=0)=>1&&(setOpened(true) ,set({r:getr(v),config:v!==0?config.wobbly:config.slow}))\r\n    const close =(v=0)=>1&&(setOpened(false),set({r:getr(v),config:{...config.stiff }}))\r\n    const onBind=({mx=0,vx=0,down=false,last=false}) => {\r\n        if (!last) return set({r:spring.r.animation.to+(down?2*(-mx)/width:0)})\r\n        if(!opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ?  open(-vx) : close(-vx)\r\n        if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5||0.5<vx) ? close(-vx) :  open(-vx)\r\n    }\r\n    const bind = useGesture({\r\n        onHover: ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onPinch: ({last,down,offset :[_,a]})  => onBind({down,last,vx:0,mx:a}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,],}) => onBind({down,last,vx,mx:mx})\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\",top:0,right:0,zIndex:100}}>\r\n            <TransIcon      {...{size, spring, bind, }} />\r\n            <TransArea      {...{size, spring, bind, }} />\r\n            <TransContainer {...{size, spring, bind, }} >\r\n            {React.Children.map(children, ((child, key:number)=>\r\n                <TransItem {...{size/*, spring, width*/, key}} >{child}</TransItem>\r\n            ))}\r\n            </TransContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC} from 'react'\r\nimport {useGrid}  from 'use-grid'\r\nimport {Controls} from 'react-three-gui';\r\nimport {Helmet}   from 'react-helmet-async';\r\nimport {hookTree,hookPage,HookPage} from './utils'\r\n\r\nimport {is,topUp,usePage,Card,Code,Notes,Sides,Split,Trees,Trans} from '../src'\r\nconst styles:{[key:string]:CSS} = {\r\n    top : {position:\"relative\", transition:\"1s\", minHeight:\"100%\",overflowX:\"hidden\"},\r\n    item: {height:\"100vh\",overflow:\"scroll\",},\r\n    card: {margin:`auto`,padding:\"auto\", paddingLeft:\"1rem\", width:\"100%\",overflow:\"auto\"},\r\n    ctrl: {position:\"relative\",width:\"100%\",zIndex:1,top:0,left:0,margin:0}\r\n}\r\n\r\nexport const Hook:FC = () => {\r\n    const [dark, setDark] = useGrid<number>({md:0, lg:0 })\r\n    const [size, setSize] = useGrid<number>({md:1, lg:1.5})\r\n    const [page, setPage] = usePage<HookPage>(hookPage)\r\n    const [side, setSide] = useGrid({xs:0,sm:size*100,lg:250,init:250})\r\n    return (\r\n    <div style={{...styles.top,background:dark?\"#000\":\"#fff\",}}>\r\n        {/*<Head style={{marginTop:size*100}}>Hook</Head>*/}\r\n        <Split order={page.Hook?[side,-1]:[1,0]} min={size*100} styleItem={styles.item}>\r\n            <Notes {...{dark,size}}>\r\n                {page.Hook &&\r\n                    <Controls\r\n                        title={topUp(page.id)}\r\n                        anchor={'top_left'}\r\n                        style={{...styles.ctrl,fontSize:size*25}}\r\n                        collapsed={true}/>}\r\n                <Card min={-1} {...{dark,size,style:styles.card,rate:0}}>\r\n                    <Trees  {...{dark,size:size/2,root:page.id?0:1}}\r\n                            {...(page.id?{fontSize:\"14px\"}:{})}\r\n                           topStyle={{padding:page.Hook?25*size:100*size}}\r\n                           content={\r\n                            <span onClick={() => setPage({id:\"\"})}>Hook</span>}>\r\n                        { hookTree.map((ids,i) => ids instanceof Array\r\n                        ?   <span key={i}>{ ids.map((id, j) =>\r\n                            <span key={id} onClick={() => j&&setPage({id})}>{id}</span>) }</span>\r\n                        :   <span key={i}  onClick={() =>    setPage({id:ids})}>{ids}</span>) }\r\n                    </Trees>\r\n                </Card>\r\n                <Card min={-1} {...{dark,size,style:styles.card,rate:0}}/>\r\n            </Notes>\r\n            <Notes {...{dark,size}}>{ page.code && is.str(page.code) &&\r\n                <Card min={-1} {...{dark,size,style:styles.card,rate:0}}>\r\n                    <Code {...{code:page.code,dark,size}}/>\r\n                </Card> }\r\n                <Card min={-1} {...{dark,size,style:styles.card,rate:0}}>\r\n                        {page.Hook && <page.Hook />}\r\n                </Card>\r\n            </Notes>\r\n        </Split>\r\n        <Sides {...{size}}>\r\n            <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n            <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n            <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            <div onClick={()=>setSide((p:any)=>p.lg?{xs:0,sm:0,lg:0}:{xs:0,sm:250,lg:1/3})}>{side?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {topUp(page.id)}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","// todo\r\n//     <TransformControls>\r\n//         <Model {...{dark,size}}/>\r\n//     </TransformControls>\r\n//     <Swarm {...{dark,size}}/>\r\nimport React, {\r\n    CSSProperties as CSS, FC, Suspense,// useMemo\r\n} from 'react'\r\nimport {Sides, Trans} from '../src/containers'\r\nimport {useGrid} from 'use-grid'\r\nimport {Helmet} from 'react-helmet-async';\r\nimport {TransformControls} from 'drei'\r\n// import * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {meshPage,MeshPage} from './utils'\r\nimport {usePage,//Trees\r\n        } from '../src'\r\nimport {Model, Swarm} from './meshs'\r\nconst styles:{[key:string]:CSS} = {\r\n    top   : {position:\"relative\", transition:\"1s\", minHeight:\"100%\", overflow:\"hidden\"},\r\n    canvas: {position:\"fixed\", width:\"100%\", height:\"100%\", top:0, left:0}\r\n}\r\nexport const Mesh :FC = () => {\r\n    const [dark, setDark] = useGrid<number>({md:1, lg:0 })\r\n    const [size, setSize] = useGrid<number>({md:1, lg:1.5})\r\n    const [page, ] = usePage<MeshPage>(meshPage)\r\n    return (\r\n    <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n        <Canvas {...page.canvas} style={styles.canvas}>\r\n            <fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <TransformControls>\r\n                    <Model {...{dark,size}}/>\r\n                </TransformControls>\r\n                <Swarm {...{dark,size}}/>\r\n                {/*page.Mesh && <page.Mesh /> */}\r\n            </Suspense>\r\n        </Canvas>\r\n        <Sides {...{size}}>\r\n            <p onClick={()=>window.location.href=\"/\"   }>Home</p>\r\n            <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {page.id}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useState} from 'react'\r\n//import { Card, Foot, Head } from '../src/components'\r\nimport { /*Modal, Pills, */Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { TransformControls } from 'drei'\r\nimport { Kinect } from './meshs'\r\nimport * as THREE from 'three'\r\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {position:\"fixed\",top:0,left:0,width:'100%',height:'100%'},\r\n}\r\n\r\nexport const None :FC = () => {\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1    , lg:1.5 })\r\n    return (\r\n        <>\r\n            <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n                <Canvas gl={{ alpha: false, antialias: false, logarithmicDepthBuffer: true }}\r\n                        camera={{ position:[0,0,500], far:2000 }}\r\n                        pixelRatio={window.devicePixelRatio}\r\n                        onCreated ={({gl}:any) => {\r\n                            gl.outputEncoding = THREE.sRGBEncoding\r\n                            gl.toneMapping    = THREE.ACESFilmicToneMapping }}>\r\n                    <ambientLight intensity={1.1} />\r\n                    <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                    <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                    <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n                    <TransformControls>\r\n                        <Kinect url=\"/static/core/kinect.mp4\"/>\r\n                    </TransformControls>\r\n                </Canvas>\r\n            </div>\r\n            <Helmet>\r\n                <title>404 NOT FOUND</title>\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Sides {...{size}}>\r\n                <p onClick={()=>window.location.href=\"/\"    }>Home</p>\r\n                <p onClick={()=>window.location.href=\"/note\"}>Note</p>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            </Trans>\r\n        </>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS,FC,useEffect,useCallback,useMemo} from 'react';\r\nimport {useSpring, animated as a} from 'react-spring';\r\nimport {useGesture} from 'react-use-gesture';\r\nimport {createPortal} from 'react-dom';\r\nimport {BasedProps} from '../types';\r\nexport type Modal = FC<BasedProps<{open:boolean}>>\r\nexport const Modal:Modal = ({\r\n        open=false, onClose=null, dark=false, size=1, //onOpen=null,\r\n        children, color=\"\", ...props\r\n    }) => {\r\n    const width = useMemo(()=>500 * size,[size])\r\n    const [spring, set] = useSpring(()=>({x:0,y:-width,scale:0}))\r\n    useEffect(()=>{open&&set({x:0,y:0,scale:1})}, [open, set])\r\n    const close=useCallback( (vx=0,vy=0) => {\r\n        set({x:vx*width, y:(vy-1)*width, scale:0})\r\n        onClose && setTimeout(()=>onClose(), vx**2+vy**2)\r\n    }, [onClose, width, set] )\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?0.9:1}),\r\n        onDrag : ({last,down,vxvy:[vx,vy],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:down?mx:0,y:down?my:0})\r\n            return (mx**2>width**2/4||vx**2+vy**2>10)\r\n                ? close(vx,vy)\r\n                : set({x:0,y:0,scale:1})\r\n        },\r\n    })\r\n    const root = useMemo<HTMLElement|null>(()=>document.getElementById('root'),[])\r\n    const style = useMemo<CSS>(()=>({\r\n        left:0, width:\"100%\",  display:\"flex\",justifyContent:\"center\",\r\n        top:0, height:\"100%\", position:\"fixed\",   alignItems:\"center\",\r\n        transition:\"1s\", color:color||dark?\"#212121\":\"#000\",\r\n        zIndex:200,background:`rgba(${dark?\"80,80,80\":\"0,0,0\"},.5)`, ...props.style\r\n    }), [dark, color, props.style])\r\n    return open ? createPortal(\r\n        <div style={style} onClick={()=>onClose&&onClose()}>\r\n            <a.div style={{position:\"relative\",...spring}} {...bind()}\r\n                onClick={e=>e.stopPropagation()}>\r\n                {children}\r\n            </a.div>\r\n        </div>\r\n    , root as HTMLElement) : null\r\n}\r\n","import React, {FC,Children,CSSProperties as CSS,\r\n    useCallback,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated} from 'react-spring'\r\nimport {BasedProps} from '../types'\r\nconst styles:{[key:string]:CSS} = {\r\n    pill: {position:\"absolute\",padding:\"0px\",zIndex:1,transform:`translate(-50%,-50%)`,}\r\n}\r\nexport type Pills = FC<BasedProps<{\r\n    position: {x:number, y:number, r:number},\r\n    depth:number, rate:number, size:number,\r\n    isOpen:boolean\r\n}>>\r\nexport const Pills:Pills = ({\r\n    position={x:0,y:0,r:Math.PI/4}, depth=0, rate=1.414,\r\n    size=1, isOpen=true, ...props\r\n}) => {\r\n    const length = useMemo( () => (props?.children as any)?.length||1, [props] )\r\n    const childPos = useRef( Array(length).fill(position) )\r\n    const fn = useCallback(() => (i=0) => {\r\n        const r = position.r/2 + (Math.PI/2) * ((length-i-1)*10+1)/((length-1)*10+2)-Math.PI/8\r\n        const x = isOpen ?  50*rate*size*Math.cos(r) : 0\r\n        const y = isOpen ? -50*rate*size*Math.sin(r) : 0\r\n        childPos.current[i] = {x,y:-y,r}\r\n        return {x, y, scale:isOpen?1:0 }\r\n    }, [isOpen, length, position.r, rate, size])\r\n    const [springs, set] = useSprings( length, fn() )\r\n    const [childHub, setChildHub] = useState( Array(length).fill(false) )\r\n    const setHub = useCallback((e, key)=>{\r\n        setChildHub(p => Object.assign([], p, {[key]:!p[key]}))\r\n        e.stopPropagation()\r\n    },[])\r\n    const children = useMemo(() => Children.map( props.children, (child,key) => {\r\n        set(fn())\r\n        return child && (child as any)?.props?.children\r\n          ? React.cloneElement(child as any, {children:\r\n                <Pills {...{key, isOpen:isOpen&&childHub[key],\r\n                    depth:depth+1, position:childPos.current[key],\r\n                    rate:rate*(1+(depth+1)*0.2),\r\n                    fontSize:50*size/(1+(depth+1)*0.2),\r\n                    ...((child as any).props||{})}}/>\r\n            })\r\n          : child\r\n    }), [childHub, depth, fn, isOpen, props.children, rate, set, size])\r\n    return (\r\n        <div style={{position:\"fixed\",left:position.x,bottom:position.y}}>\r\n            {springs.map((spring, key) =>\r\n                <animated.div key={`${depth}-${key}`} style={{...spring, ...styles.pill}}\r\n                    onClick={e=>setHub(e, key)}>\r\n                    {(children as any)[key]}\r\n                </animated.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {unregister} from './serviceWorker';\nimport {HelmetProvider} from 'react-helmet-async';\nimport {ControlsProvider} from 'react-three-gui';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\n\nimport {Hook} from './Hook';\n//import {Home} from './Home';\nimport {Mesh} from './Mesh';\nimport {None} from './None';\nimport {Note} from './Note';\n\nimport './styles.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App = (\n    <HelmetProvider>\n        <ControlsProvider>\n            <BrowserRouter>\n                <Switch>\n                    <Route    path=\"/\"     component={Mesh} exact/>//Home TODO\n                    <Route    path='/mesh' component={Mesh}/>\n                    <Route    path=\"/note\" component={Note}/>\n                    <Route    path='/none' component={None}/>\n                    <Route    path='/hook' component={Hook}/>\n                    <Redirect path=\"/home\" to='/' />\n                    <Redirect              to='/none' />\n                </Switch>\n            </BrowserRouter>\n        </ControlsProvider>\n    </HelmetProvider>\n)\n\nReactDOM.render( App , document.getElementById('root'));\nunregister();\n","import React, {FC, useState, useMemo} from 'react'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { MDBInput, MDBBtn } from 'mdbreact'\r\nimport { Mdmd } from '@tsei/mdmd'\r\nimport { useGrid } from 'use-grid'\r\nimport { Card, Grow, Head, Icon } from '../src/components'\r\nimport { useNote, usePage, useUser } from '../src/hooks'\r\nimport { Modal, Notes, Pills, Sides, Trans } from '../src/containers'\r\nimport { customPage, CustomPage, pageConfig, fetcher, signin, scrollTop } from './utils'\r\n\r\nexport const Note :FC = () => {\r\n    // ******************** FOR FETCH ******************** //\r\n    const [page, setPage] = usePage<CustomPage>(customPage, pageConfig)\r\n    const [note, setNote] = useNote(page.urls[1], fetcher)\r\n    const [user, setUser] = useUser(page.urls[2], signin, {onSign:()=>setPage({status:\"\"})})\r\n    // ******************** FOR DESIGN ******************** //\r\n    const [lang, setLang] = useState<string>(page.language)\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    // ******************** FOR RENDER ******************** //\r\n    const onView       = useMemo(()=>()=>setNote(p=>p?.next),[setNote])\r\n    const onClick      = useMemo(()=>()=>setPage({id:\"\"})   ,[setPage])\r\n    const onSignin     = useMemo(()=>()=>setPage(p=>({status:p.status===  \"\"?\"IN\":\"\"  })),[setPage])\r\n    const onMouseEnter = useMemo(()=>()=>setPage(p=>({status:p.status===\"UP\"?\"IN\":\"UP\"})),[setPage])\r\n    const [left,right] = useMemo(()=>{\r\n        const style = {transform:\"translate(-50%)\",left:\"50%\",marginTop:size*50}\r\n        return [\"cooment\",\"arrow-left\"].map(fa => (<Icon {...{fa,size,style,onClick}}/>))\r\n    }, [size,onClick])\r\n    return (\r\n        <div style={{background:dark?\"#000\":\"#f1f1f1\",minHeight:\"100%\",paddingTop:size*100,overflow:\"hidden\"}}>\r\n            <Helmet>\r\n                <title>{note?\"note\":\"Loading...\"}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Head {...{dark,size,onClick,}}>Note</Head>\r\n            { note && note.results instanceof Array &&\r\n            <Notes {...(page.isHome?{}:{size,left,right})}>{note.results.map(({\r\n                ja_text=\"\",//note_id=\"\",author_name=null, //,posted_time=null,\r\n                en_text=\"\",     id=\"\" }) =>\r\n                <div key={id}>\r\n                    <Card {...{...page.isHome?{max:500,onClick:()=>setPage({id:id+\"\"})}:{size},dark}}>\r\n                        <Mdmd color={dark?\"dark\":\"elegant\"} style={{fontSize:\"1.2rem\"}}\r\n                             source={lang===\"ja\"?ja_text:en_text}/>\r\n                    </Card>\r\n                </div> )}\r\n            </Notes> } { (!note || note.next) &&\r\n            <Grow {...{size,onView,onClick:()=>setNote(p=>p?p?.next||p?.now:null )}} /> }\r\n            {/******************** Modals ********************/}\r\n            <Modal {...{dark,size,open:!!page.status,onClose:()=>setPage({status:\"\"})}}>\r\n                <Card {...{dark,size,style:{max:\"100vh\"}}}>\r\n                    <Head {...{dark,size,onMouseEnter}}>SIGN {user.isAuth?\"OUT\":page.status}</Head>\r\n                    {!user.isAuth && user.input.map((v,k)=>v.name===\"email\"&&page.status!==\"UP\"?null:\r\n                    <MDBInput {...v} key={k}/> )}\r\n                    <MDBBtn color=\"elegant\"\r\n                        style={{width:\"100%\",borderRadus:size*50}}\r\n                        onClick={()=>setUser(page.urls[2])}\r\n                        children={user.isAuth?\"Signout\":\"Get!\"}/>\r\n                </Card>\r\n            </Modal>\r\n            {/******************** FANTASTIC UI ********************/}\r\n            <Sides {...{size}}>\r\n                <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n                <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n                <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'ja':'en')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size>1?'':''}</div>\r\n            </Trans>\r\n            <Pills {...{size}}>\r\n                <Icon fa=\"ellipsis-h\"        {...{dark,size}} onClick={()=>null}>\r\n                    <Icon fa=\"arrow-left\"    {...{dark,size}} onClick={onClick}/>\r\n                    <Icon fa=\"location-arrow\"{...{dark,size}} onClick={scrollTop}/>\r\n                    <Icon fa=\"sign-in-alt\"   {...{dark,size}} onClick={onSignin}/>\r\n                </Icon>\r\n            </Pills>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TODO : make in last of note\r\n// !isHome && (note.children||[]).map((child:any,i:number) =>\r\n//     <Card {...{key:i,dark,size,style:{fontSize:\"1.2rem\"}}}>\r\n//         <Mdmd source={child[`${lang}_text`]}/>\r\n//     </Card>)\r\n","import { useEffect, useCallback, useState, useRef } from 'react'\r\nimport { None, NoteNode as NN, NoteGetter, NotePoster, NoteConfig, URLType, BasicProps } from '../types'\r\nimport { is, equalPathname } from '../utils'\r\n//import useSWR from 'swr'\r\nexport const useNote = (\r\n    initGetURL: BasicProps<URLType|string>,\r\n    initGetter: NoteGetter|null=null,\r\n    initPoster: NotePoster|null=null,\r\n    initNoteConfig: Partial<NoteConfig>={}\r\n) : [ NN, (\r\n        updateGetURL: ((pre:NN)=>None<URLType|string>)|None<URLType|string>,\r\n        updateGetter?: NoteGetter|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void, (\r\n        updatePoster?: NotePoster|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void\r\n] => {\r\n    if (is.fun(initGetURL)) initGetURL = initGetURL()\r\n    if (is.str(initGetURL)) initGetURL = new URL(initGetURL)\r\n    const getURLRef  = useRef<URLType>()\r\n    const getterRef  = useRef(initGetter)\r\n    const posterRef  = useRef(initPoster)\r\n    const configRef  = useRef(initNoteConfig)\r\n    const isFetching = useRef<boolean>(false)\r\n    const [note,set] = useState<NN>(null)\r\n    //  *************************  useEffect  *************************  //\r\n    useEffect(() => {\r\n        if (equalPathname(getURLRef.current, initGetURL as URLType)) return\r\n        getURLRef.current = initGetURL as URLType\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (getterRef.current)\r\n            getterRef.current(getURLRef.current).then((res:any) => {\r\n                setTimeout(() => void (isFetching.current = false), 1000)\r\n                set(pre => res || pre)\r\n            })\r\n    }, [initGetURL])\r\n    //  *************************  getNote  *************************  //\r\n    //  * getNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * getNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    const getNote = useCallback((updateURL,updateGetter=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.fun(updateURL   )) updateURL = updateURL(note);\r\n        if (is.str(updateURL   )) updateURL = new URL(updateURL);\r\n        if (is.nul(updateGetter)) updateGetter = getterRef.current;\r\n        const previousURL = getURLRef.current\r\n        getURLRef.current = updateURL\r\n        getterRef.current = updateGetter\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        if (getterRef.current)\r\n            getterRef.current(updateURL).then((res:any) => {\r\n                setTimeout(() => (isFetching.current = false), 1000)\r\n                set(pre => {\r\n                    console.log(\"update\");\r\n                    if (!equalPathname(previousURL, getURLRef.current)) return res\r\n                    const {onChange=null} = configRef.current\r\n                    typeof onChange===\"function\" && onChange()\r\n                    const diff = pre\r\n                      ? (pre.results||[]).filter((p:any) =>\r\n                      ! (res.results||[]).find((r:any) => r.id===p.id)\r\n                    ) : []\r\n                    return {...res, results:[...diff, ...res.results]}\r\n                })\r\n            })\r\n    }, [note])\r\n    //  *************************  postNote  *************************  //\r\n    //  ************************* ************** *************************  //\r\n    const postNote = useCallback((updatePoster=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.nul(updatePoster)) updatePoster = posterRef.current;\r\n        posterRef.current = updatePoster\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        return\r\n        // TODO\r\n        // posterRef.current().then(res => {\r\n        //     setTimeout\r\n        // })\r\n    }, [])\r\n    return [note, getNote, postNote]\r\n}\r\n","/** *************************  USE USER  *************************\r\n *  This is a hook to manage user info and API\r\n *    - const [user, set] = useUser(url, fetcher)\r\n *    - ```\r\n *      ```\r\n *  # ***** useUser API Configs *****\r\n *  ## Props Values\r\n *    - `const _ = usePage(@initURL, @initFetcher, @initConifg)`\r\n *    - @initURL:string\r\n *    - @initFetcher:function\r\n *    - @initConfig : {\r\n *        @\r\n *      }\r\n *  ## Return Values\r\n *    - `const [user, setUser] = useUser(...)`\r\n *    - @user : {\r\n *        @username : user name from fetched API e.g. tseijp\r\n *        @authtoken: user token from cookie\r\n *        @input    : for input Components\r\n *       ~@credit   : the value to send at fetching~\r\n *        @status   : the acton at fetch e.g. IN, UP, OUT or \"\"\r\n *        @userlang : user language from window.navigator.language e.g. ja, en\r\n *      }\r\n *    - @setUser\r\n *      `setUser()`       : Toggle fetching\r\n *      ~`setUser(null)`   : switch status IN->UP or UP->IN~\r\n *      ~`setUser(boolean)`: switch status '' or IN|UP|OUT~\r\n *  # TODO : from usePages : add following keys\r\n ** ************************* ************** *************************/\r\nimport {useCallback, useState, useMemo, useRef} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport {URLType,User,UserConfig,UserSignin} from '../types'\r\nimport {defaultUserConfig} from '../utils'\r\nexport const useUser = (\r\n    initURL :URLType,\r\n    initSign:UserSignin,\r\n    initConfig:Partial<UserConfig>=defaultUserConfig // TODO to config.keys.map\r\n) : [ User, {(\r\n    updateURL ?:URLType|null,\r\n    updateSignin?:UserSignin|null,\r\n    updateConfig?:Partial<UserConfig>,\r\n) : void } ] => {\r\n    const urlRef    = useRef<URLType>(initURL)\r\n    const signinRef = useRef<UserSignin>(initSign)\r\n    const configRef = useRef<UserConfig>({...defaultUserConfig,...initConfig})\r\n    const [cookies, set, del] = useCookies(configRef.current.keys)\r\n    const [credit, setCredit] = useState({username:cookies.username||'',password:'',email:''})\r\n    // *************************  For setUser  ************************* //\r\n    const setUser = useCallback((\r\n        updateURL    = null,\r\n        updateSignin = null,\r\n        updateConfig = {}\r\n    ) => {\r\n        const {onSign=null,onSignin=null,onSignout=null,onError=null} = initConfig\r\n        if (updateURL)       urlRef.current = updateURL\r\n        if (updateSignin) signinRef.current = updateSignin\r\n        if (updateConfig) configRef.current = updateConfig\r\n        return (cookies.authtoken)\r\n          ? (del('authtoken',{path:'/'}), onSign&&onSign(), onSignout&&onSignout())\r\n          : signinRef\r\n            .current(urlRef.current, credit)\r\n            .then( (user:{[K in 'username'|'authtoken']:string}) => {\r\n                if (!user.username || !user.authtoken)\r\n                    throw new Error()\r\n                onSign   && onSign()  ; set(\"username\" ,user.username ,{path:'/'});\r\n                onSignin && onSignin(); set(\"authtoken\",user.authtoken,{path:'/'});\r\n            })\r\n            .catch((_:any)=>onError&&onError())\r\n    }, [cookies,set,del,credit,initConfig] )\r\n    // *************************  For Render  ************************* //\r\n    const onChange = useCallback(({target}:any) => {\r\n        setCredit(p => ({...p, [target.name]:target.value}) )\r\n    }, [])\r\n    const user = useMemo<User>(() => ({\r\n        username :cookies.username ||'', isAuth:!!cookies.authtoken,\r\n        authtoken:cookies.authtoken||'', input: Object\r\n            .entries({username:'user',password:'lock',email:'envelope'})\r\n            .map(([name,icon]) => ({\r\n                label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n                group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n                ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"})\r\n            }))\r\n    }), [cookies, credit, onChange])\r\n    return [user, setUser]\r\n}\r\n    /*const input = useMemo<User[\"input\"]>(() => Object\r\n        .entries({username:'user',password:'lock',email:'envelope'})\r\n        .map(([name,icon]) => ({\r\n            label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n            group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n            ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"}),\r\n    })), [credit, onChange])\r\n    return [useMemo(() => ({\r\n        username :cookies.username ||'',\r\n        authtoken:cookies.authtoken||'', input,\r\n        //status : sign?\"\":cookies.authtoken?\"OUT\":inup\r\n    }), [cookies, input]), setUser]\r\n}*/\r\n"],"sourceRoot":""}