{"version":3,"sources":["page/serviceWorker.ts","src/components/Card.tsx","page/codes/core/Card.tsx","src/components/Code.tsx","page/codes/core/Code.tsx","src/components/Grow.tsx","page/codes/core/Grow.tsx","src/utils.ts","src/containers/Notes.tsx","page/codes/core/Notes.tsx","src/containers/Split.tsx","page/codes/core/Split.tsx","src/components/Head.tsx","src/containers/Trees.tsx","page/codes/core/Trees.tsx","src/meshs/Title.tsx","page/codes/home/Title.tsx","src/meshs/Kinect.tsx","page/codes/mesh/Kinect.tsx","src/meshs/Model.tsx","src/meshs/Swarm.tsx","page/codes/mesh/Model.tsx","src/meshs/Motion.tsx","page/codes/mesh/Motion.tsx","src/meshs/Stage.tsx","page/codes/mesh/Stage.tsx","page/utils.ts","src/hooks/usePage.ts","src/components/Icon.tsx","src/containers/Sides.tsx","src/containers/Trans.tsx","page/Hook.tsx","page/None.tsx","src/containers/Modal.tsx","src/containers/Pills.tsx","page/Note.tsx","page/index.tsx","src/hooks/useNote.ts","src/hooks/useUser.ts"],"names":["Boolean","window","location","hostname","match","Card","children","size","rate","space","style","dark","color","max","min","props","useSpring","xyz","set","styleCard","useMemo","minHeight","maxHeight","margin","padding","position","width","borderRadius","overflow","background","calc","useCallback","x","y","innerWidth","innerHeight","bind","useGesture","onDrag","event","stopPropagation","onHover","hovering","onMove","xy","div","boxShadow","interpolate","z","join","transform","zIndex","textAlign","verticalAlign","fontSize","colors","HookCard","use","type","value","items","codeCard","require","atomOneLight","atomOneDark","Light","Code","code","language","inline","onDoubleClick","_","navigator","clipboard","writeText","customStyle","display","PreTag","useInlineStyles","showLineNumbers","codes","HookCode","useControl","codeCode","Grow","onView","role","className","fn","useRef","ref","useEffect","current","useView","e","isIntersecting","height","HookGrow","codeGrow","topUp","text","charAt","toUpperCase","slice","toLowerCase","clamp","range","sign","num","samp","a","l","d","length","Array","fill","getWRate","o","w","map","v","s","filter","reduce","b","equalPathname","urls","u","URL","joinURL","pathname","every","self","pageConfig","onChange","defaultPage","id","split","find","i","isHome","isLocal","protocol","portname","port","search","hash","href","normPage","page","state","Object","entries","sort","forEach","key","val","arr","getp","geti","n","maxLength","joinPage","defaultUserConfig","keys","user","onSign","onSignin","onSignout","strArray","resultArray","TypeError","shift","replace","str","String","push","parts","is","isArray","obj","prototype","toString","call","fun","und","nul","Set","Map","equ","r","g","debug","styles","top","left","right","NotesSide","px","to","scale","NotesItem","Notes","order","grandren","depth","useState","setLength","setHeight","isOpen","setIsOpen","orderRef","heightRef","targetRef","setPosition","childs","from","c","clientHeight","len","getY","pre","getG","mx","my","down","j","indexOf","useSprings","springs","onClick","setTimeout","cancel","movement","startTime","last","args","vxvy","vx","vy","timeStamp","row","Math","round","ind","ret","swap","p","assign","getF","Children","child","grand","toArray","React","cloneElement","HookNotes","codeNotes","overflowX","whiteSpace","Split","styleItem","sRef","lRef","hRef","wRef","h","spring","setH","setW","first","dir","direction","k","m","W","move","animation","HookSplit","number","codeSplit","Head","defaultConfig","restSpeedThreshold","restDisplacementThreshold","textOverflow","cursor","marginRight","fontFamily","textTransform","willChange","marginLeft","paths","TreeIcon","CloseSquareO","viewBox","MinusSquareO","PlusSquareO","EyeO","TreesContent","content","hide","icon","opacity","Icon","iconClick","open","immediate","eyeClick","Trees","visible","root","springConfig","topStyle","config","default","borderLeft","HookTrees","codeTrees","align","justify","anchorX","letterSpacing","positionZ","anchorY","lineHeight","Title","viewport","useThree","centerAnchor","Text","maxWidth","Content","Control","useFrame","camera","HookTitle","scrub","distance","onWheel","offset","shadowMap","concurrent","pixelRatio","noEvents","colorManagement","far","gl","powerPreference","alpha","antialias","stencil","onCreated","setClearColor","intensity","castShadow","angle","penumbra","shadow-mapSize-width","shadow-mapSize-height","fallback","codeTitle","cropValue","Kinect","url","nearClipping","depthWrite","pointSize","farClipping","depthTest","zOffset","video","document","createElement","src","loop","load","muted","play","THREE","points","geometry","material","uniforms","pos","Float32Array","floor","setAttribute","bufferGeometry","attach","shaderMaterial","transparent","blending","fragmentShader","vertexShader","HookKinect","logarithmicDepthBuffer","devicePixelRatio","outputEncoding","toneMapping","codeKinect","Model","useLoader","GLTFLoader","animations","nodes","group","actions","mixer","modelPos","delta","update","updateProjectionMatrix","lookAt","actionNum","idle","clipAction","weight","timeScale","console","log","clip","uncacheClip","dispose","rotation","PI","object","skeleton","skinning","Swarm","count","mesh","dummy","random","mul","add","particles","t","xFactor","factor","yFactor","speed","zFactor","particle","cos","sin","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","HookModel","scl","defaultURL","Motion","gltfURL","textureURL","action","gltf","texture","HookMotion","xz","rxz","ry","codeMotion","Points","amp","dist","time","amount","scales","positions","ix","iy","attributes","array","Plane","receiveShadow","Stage","HookStage","scrollTop","getElementById","scroll","behavior","customPage","isSign","status","fetcher","headers","axios","get","then","res","Error","data","signin","cred","post","token","username","authtoken","hookTree","getval","hookPage","Hook","CODES","usePage","pageRef","confRef","defaultConf","setPage","newPage","history","pushState","fa","circ","onOpen","xys","userSelect","SidesArea","SidesContainer","backgroundColor","SidesIcon","SidesItem","transition","Sides","opened","setOpened","bool","wobbly","slow","close","stiff","velocity","TransArea","TransIcon","rotateZ","TransContainer","TransItem","alignItems","Trans","getr","unit","onBind","onPinch","item","card","ctrl","CardHook","None","lang","setLang","useGrid","md","lg","setDark","setSize","rel","Modal","onClose","justifyContent","createPortal","Pills","childPos","childHub","setChildHub","setHub","bottom","App","path","component","exact","initGetURL","initGetter","initPoster","initNoteConfig","getURLRef","getterRef","posterRef","configRef","isFetching","note","getNote","updateURL","updateGetter","updateConfig","previousURL","diff","results","postNote","updatePoster","useNote","setNote","initURL","initSign","initConfig","urlRef","signinRef","useCookies","cookies","del","password","email","credit","setCredit","setUser","updateSignin","onError","catch","target","name","isAuth","input","label","validate","autoComplete","error","success","useUser","next","onMouseEnter","marginTop","paddingTop","ja_text","en_text","source","now","borderRadus","charSet","init","xs","sm","side","setSide","title","anchor","collapsed","ids","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.c42c3213.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/***Card\r\n  *     Ref : https://codesandbox.io/embed/rj998k4vmm\r\n  *           https://coliss.com/articles/build-websites/operation/css/\r\n ***/\r\nimport React, {CSSProperties as CSS, FC, useCallback, useMemo} from 'react'\r\nimport {Props} from '../types'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {useSpring, animated as a} from 'react-spring'\r\nexport type Card = FC<Props<{\r\n    max:number,\r\n    min:number,\r\n    rate:number,\r\n    space:number,\r\n}>>\r\nexport const Card:Card = ({\r\n    children, size=1, rate=1, space=0, style={},\r\n    dark=false, color=\"\",max=0, min=0, ...props\r\n}) => {\r\n    const [{xyz}, set] = useSpring(()=>({xyz:[0,0,0]}))\r\n    const styleCard = useMemo<CSS>(() => {\r\n        const minHeight = min||size*500\r\n        const maxHeight = max||null//size*500\r\n        return {margin:`${space}px auto ${space}px auto`, padding:0,position:\"relative\",\r\n                width:`min(80%,${size*500}px)`,borderRadius:size*25,overflow:\"hidden\",\r\n            ...(minHeight&&{minHeight}),background : dark?\"#212121\":\"#fff\",\r\n            ...(maxHeight&&{maxHeight}),color:color||dark?\"#818181\":\"#000\",}\r\n    }, [size, space, color, dark, max, min])\r\n    const calc = useCallback((x, y)=>[\r\n       (x - window.innerWidth  / 2) / size / 250, // -1 ~ 1\r\n       (y - window.innerHeight / 2) / size / 250, // -1 ~ 1\r\n        rate], [size, rate])\r\n    const bind = useGesture({\r\n        onDrag : ({event})    => event?.stopPropagation(),\r\n        onHover: ({hovering}) => !hovering && set({xyz:[0,0,0]}),\r\n        onMove : ({xy:[x,y]}) => set({xyz:calc(x,y)}),\r\n    })\r\n    return <a.div style={{\r\n            boxShadow:xyz.interpolate((x,y,z) => [\r\n                `${0.5-x*2}rem`,//offset-x     : -1.5 ~ 0.5 ~ 2.5\r\n                `${1.5-y*2}rem`,//offset-y     : -0.5 ~ 1.5 ~ 3.5\r\n                `${1.5 + z}rem`,//blur-radius  : 1.5 =hover=> 2.5\r\n                `${z - 0.5}rem`,//spread-radius:-0.5 =hover=> 0.5\r\n                `hsl(200 50% 20% / ${15+z*5}%)`].join(' ')),\r\n            transform:xyz.interpolate((x,y,z) => [\r\n                `perspective(${size*50}px)`,\r\n                `rotateX(${-y/10}deg)`     ,//-0.1 ~ 0.1\r\n                `rotateY(${ x/10}deg)`     ,//-0.1 ~ 0.1\r\n                `scale(${1+z/10})` ,].join(' ')),\r\n            zIndex:xyz.interpolate((x,y,z) => x*y*z>0 ? 1 : 0),\r\n            ...styleCard, ...style }}\r\n           {...bind()}\r\n           {...{...props,children}}/>\r\n}\r\n","import React, {\r\n    FC, CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl as use} from 'react-three-gui';\r\nimport {Card} from '../../../src'\r\nconst style:CSS = {textAlign:\"center\", verticalAlign:\"middle\", padding:\"auto auto\", fontSize:100}\r\nconst colors = [\"black\",\"white\",]\r\nexport const HookCard:FC = () => {\r\n    const dark  = use('dark' , {type: 'boolean', value: true})\r\n    const size  = use('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const space = use('space', {type: 'number' , value: 0, min: 0, max: 500})\r\n    const rate  = use('rate' , {type: 'number' , value: 1, min:-5, max: 5})\r\n    const min   = use('min'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const max   = use('max'  , {type: 'number' , value: 0, min: 0, max: 500})\r\n    const color    = use('color'   , {type: 'select' , value: colors[0], items: colors})\r\n    const children = use('children', {type: 'select' , value: colors[0], items: colors})\r\n    return (\r\n        <Card {...{dark,size,space,rate,min,max,children}}\r\n            style={{...style,color,margin:`${size*100}px auto ${size*100}px auto`}}/>\r\n    )\r\n}\r\nexport const codeCard =\r\n`import {Card} from '@tsei/core'\r\nconst App =  => (\r\n    <Card\r\n        dark={false}\r\n        size={1}\r\n        min ={0}\r\n        max ={0}\r\n        color=\"\"/>\r\n)`\r\n","import React, {FC, useCallback, useMemo} from \"react\";\r\nimport {Props} from '../types'\r\nconst {atomOneLight, atomOneDark} = require('react-syntax-highlighter/dist/esm/styles/hljs');\r\nconst {Light} = require('react-syntax-highlighter');\r\n\r\nexport type Code = FC<Props<{\r\n    code:string, language:string, inline:boolean\r\n}>>\r\nexport const Code:Code = ({\r\n    code='', language=\"javascript\", inline=false, dark=false, size=1, style={}, ...props//children,\r\n}) => {\r\n    const onDoubleClick = useCallback((_:any)=>navigator.clipboard.writeText(code),[code])\r\n    const customStyle = useMemo(()=>{\r\n        return {...(inline?{verticalAlign:\"top\",padding:0}:{}),padding:\"1rem\",\r\n            display:inline?\"inline-block\":\"fixed\", position:'relative', margin:0,}\r\n    }, [inline])\r\n    return <Light   {...props} PreTag={inline?\"span\":\"pre\"}    useInlineStyles={true}\r\n                    {...{customStyle, onDoubleClick, language}}showLineNumbers={!inline}\r\n             style={{...(dark?atomOneDark:atomOneLight),fontSize:`${size}rem`,...style}}>\r\n                    {code}</Light>\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, //Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Code} from '../../../src'\r\nconst items = ['javascript', 'python']\r\nconst codes = [\r\n`import React from 'react'\r\n\r\nexport const usePage = (props, config) => {\r\n    if (typeof props ===\"function\")  props = props()\r\n    if (typeof config===\"function\") config = config()\r\n    const pageRef = React.useRef({...defaultPage, ...props })\r\n    const confRef = React.useRef({...defaultConf, ...config})\r\n    const [p,set] = React.useState( normPage(pageRef.current) )\r\n    const setPage = React.useCallback((state) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    React.useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [p.id])\r\n    return [p, setPage]\r\n}`,]\r\nexport const HookCode:FC = () => {\r\n    const dark  = useControl('dark'   , {type: 'boolean', value: false})\r\n    const inline= useControl('inline' , {type: 'boolean', value: false})\r\n    const size  = useControl('size'   , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const code     = useControl('code'    , {type: 'string', value:codes[0]})\r\n    const language = useControl('language', {type: 'select', value:items[0], items})\r\n    return (\r\n        <Code {...{dark,inline,size,code,language}} />\r\n    )\r\n}\r\nexport const codeCode =\r\n`import {Code} from '@tsei/core'\r\nconst codeCode = \"hello\"\r\nconst App =  => (\r\n    <Code\r\n        dark    = {false}\r\n        inline  = {false}\r\n        size    = {1}\r\n        code    = {\"javascript\"}\r\n        language= {\"...\"}/>\r\n)`\r\n","import React, {CSSProperties as CSS, FC,useEffect, useMemo, useRef} from 'react'\r\nimport {Props} from '../types'\r\nimport {useView} from 'use-grid'\r\nexport type Grow = FC<Props>\r\nexport const Grow:Grow = ({\r\n    onView=null, role=\"status\",\r\n    size=1, className=\"spinner-grow\", ...props\r\n}) => {\r\n    const fn = useRef()\r\n    const ref = useRef(null)\r\n    useEffect(()=>{fn.current = onView}, [onView])\r\n    useView(ref, (e:any) => 1\r\n        && e.isIntersecting\r\n        && typeof fn.current===\"function\"\r\n        && (fn.current as any)())\r\n    const style = useMemo<CSS>(()=>({\r\n        position:\"relative\",display:\"grid\",margin:`${size*50}px auto 0 auto`,\r\n        width:size*250,height:size*250,...(props.style||{})\r\n    }), [size, props.style])\r\n    return <div  {...props} {...{ref,role,className,style}} />\r\n}\r\n","import React, {\r\n    FC, //CSSProperties as CSS, Children,\r\n    //useMemo, useCallback, useState, useEffect, useRef\r\n} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Grow} from '../../../src'\r\nexport const HookGrow:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    return (\r\n        <Grow {...{dark, size}}/>\r\n    )\r\n}\r\nexport const codeGrow =\r\n`import {Grow} from '@tsei/core'\r\nconst App =  => (\r\n    <Grow\r\n        dark={true}\r\n        size={1}/>\r\n)`\r\n","import {Page, PageConfig, URLType, UserConfig} from './types'\r\n// *************************  FOR Components  ************************* //\r\n\r\nexport const topUp = (text=\"\"):string => \"\"+text.charAt(0).toUpperCase()+\"\"+text.slice(1).toLowerCase()\r\nexport const clamp = (x:number, min=0, max=1) :number  => (x<min)?min:(x>max)?max:x\r\nexport const range = (x:number, min=0, max=1) :boolean => min < x && x < max\r\nexport const swap  = (arr:number[],ind:number,row:number) => {\r\n    const ret = [...arr.slice(0, ind), ...arr.slice(ind+1, arr.length)]\r\n    return [...ret.slice(0, row), ...arr.slice(ind, ind+1), ...ret.slice(row)]\r\n}\r\nexport const sign =(num=0):number=> 0\r\n    ||  (num < 0 &&-1)\r\n    ||  (num > 0 && 1)\r\n    ||  (num===0 && 0)\r\n    ||  0\r\nexport const samp = <T extends any>(a:T[], l:number, d?:T):T[] => [\r\n    ...a.slice(0,l),\r\n    ...(l-a.length>0? Array(l-a.length).fill(d||a[0]) : [])\r\n]\r\nexport const getWRate = (o=[] as number[],l=0,w=0,width=window.innerWidth) =>\r\n    o instanceof Array && o.length > 0\r\n        ? samp(o, l, -1)\r\n            .map((v=0) => 0\r\n                || (w > 0 && (w <= 1 ? w : w/width))\r\n                || (v > 0 && (v <= 1 ? v : v/width))\r\n                || (v < 0 && -1)\r\n                || 0)\r\n            .map((v,_,s) => v>=0? v : 1 - [...s.filter(v=>v>0),0].reduce((a,b)=>a+b)/s.filter(v=>v<0).length)\r\n        : Array(l).fill(l>0?1/l:l)\r\n\r\n// *************************  use-page  ************************* //\r\nexport const equalPathname = (...urls:(URLType|string|undefined|null|false)[]) =>\r\n    urls.map(u => typeof u===\"string\"? new URL(u) : u)\r\n        .map(u => u && joinURL(u.pathname, \"/\"))\r\n        .every((u, _, self) => u===self[0])\r\n\r\nexport const pageConfig:PageConfig = {\r\n    onChange:null,\r\n}\r\nexport const defaultPage = {\r\n    id      :window.location.pathname.split('/').filter(v=>v).find((_,i)=>i===1)||\"\",\r\n    isHome  :window.location.pathname.split('/').filter(v=>v).length > 1,\r\n    isLocal :window.location.hostname===\"localhost\",\r\n    protocol:window.location.protocol ||\"\",\r\n    hostname:window.location.hostname ||\"\",\r\n    portname:window.location.port     ||\"\",\r\n    pathname:window.location.pathname ||\"\",\r\n    search  :window.location.search   ||\"\",\r\n    hash    :window.location.hash     ||\"\",\r\n    language:window.navigator.language||\"ja\",\r\n    urls    :[new URL(window.location.href)],\r\n}\r\nexport const joinPage = <T={}>(page:Page<T>):string|string[] => {\r\n    const {protocol,hostname,portname,pathname=\"\",search=\"\",hash=\"\"} = page;\r\n    const arr  =[protocol,hostname,portname,pathname,search,hash]\r\n    const getp =(port:any)=>port?`:${port}`:\"\"\r\n    const geti =(i=0,n:any)=>n instanceof Array?(i<n.length?n[i]:n[n.length-1]):n\r\n    if (arr.every(v=>typeof v===\"string\"))\r\n        return joinURL(`${protocol}//${hostname}${getp(portname)}/`,pathname as any, search as any)\r\n    const maxLength = arr.map(v=>v instanceof Array?v.length:1).reduce((a,b)=>a>b?a:b)\r\n    return [...Array(maxLength)].map((_,i) =>\r\n        joinURL( `${geti(i,protocol)}//${geti(i,hostname)\r\n            }${getp(geti(i,portname))}/`,geti(i,pathname),geti(i,search) )\r\n    ) as string[]\r\n}\r\nexport const normPage = <T extends {}={}>(page:Page<T>) => {\r\n    const state = {...page} as any//Page<T>\r\n    Object.entries(state).sort(([_,val]) => typeof val===\"function\"?1:-1)\r\n    .forEach(([key,val]:any) => (state[key]=typeof val===\"function\"?val(state):val))\r\n    const urls = joinPage<T>(state as Page<T>)\r\n    return {...state, urls:urls instanceof Array\r\n      ? urls.map((u:any) => typeof u===\"string\" ? new URL(u) : u) as URLType[]\r\n      : [typeof urls===\"string\" ? new URL(urls) : urls] as URLType[] } as Page<T>\r\n}\r\n\r\n// *************************  For useUser  ************************* //\r\nexport const defaultUserConfig:UserConfig = {\r\n    keys:['username','authtoken'],\r\n    user:null,\r\n    onSign:null,\r\n    onSignin:null,\r\n    onSignout:null\r\n}\r\n// *************************  join-url  ************************* //\r\n// * This function is fork of join-url/urljoin\r\n// * Code : https://github.com/jfromaniello/url-join/blob/master/lib/url-join.js\r\n// ************************* *************** ************************* //\r\nexport function joinURL (...strArray:(string|number)[]) : string {\r\n    var resultArray = [];\r\n    if (strArray.length === 0) return ''\r\n    if (typeof strArray[0] !== 'string') throw new TypeError('Url must be string.');\r\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1)\r\n        strArray[0] = strArray.shift() + strArray[0];\r\n    if (strArray[0].match(/^file:\\/\\/\\//))\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\r\n    else\r\n        strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\r\n    strArray = strArray.filter(str=>str!==\"\")\r\n    for (var i = 0; i < strArray.length; i++) {\r\n        let str = strArray[i];\r\n        if (typeof str === 'number') str = String(str)\r\n        if (typeof str !== 'string') throw new TypeError(`${str} must be a string. Received ${typeof str}`);\r\n        if (str === '') continue;\r\n        if (i > 0) str = str.replace(/^[\\/]+/, '');                   //eslint-disable-line\r\n        if (i < strArray.length - 1) str = str.replace(/[\\/]+$/, ''); //eslint-disable-line\r\n        else str = str.replace(/[\\/]+$/, '/');                        //eslint-disable-line\r\n        resultArray.push(str);\r\n    }\r\n    let str = (resultArray as string[]).join('/');\r\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\r\n    let parts = str.split('?');\r\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\r\n    return str;\r\n}\r\n// *************************  helpers  ************************* //\r\n// * This function is fork of react-spring\r\n// * Code : https://github.com/pmndrs/react-spring/blob/master/src/shared/helpers.ts\r\n// ************************* *************** ************************* //\r\nexport const is = {\r\n    arr: Array.isArray,\r\n    obj: (a: unknown): a is object    => Object.prototype.toString.call(a) === '[object Object]',\r\n    fun: (a: unknown): a is Function  => typeof a === 'function',\r\n    str: (a: unknown): a is string    => typeof a === 'string',\r\n    num: (a: unknown): a is number    => typeof a === 'number',\r\n    und: (a: unknown): a is undefined => a === void 0,\r\n    nul: (a: unknown): a is null      => a === null,\r\n    set: (a: unknown): a is Set<any>  => a instanceof Set,\r\n    map: (a: unknown): a is Map<any, any> => a instanceof Map,\r\n    equ(a: any, b: any) {\r\n    if (typeof a !== typeof b) return false\r\n        if (is.str(a) || is.num(a)) return a === b\r\n        if (is.obj(a) &&\r\n            is.obj(b) &&\r\n            Object.keys(a).length + Object.keys(b).length === 0)\r\n            return true\r\n        let i\r\n        for (i in a) if (!(i in b))     return false\r\n        for (i in b) if (a[i] !== b[i]) return false\r\n        return is.und(i) ? a === b : true\r\n    },\r\n}\r\n\r\nexport function merge(target: any, lowercase: boolean = true) {\r\n  return (object: object) =>\r\n    (is.arr(object) ? object : Object.keys(object)).reduce(\r\n        (acc: any, element) => {\r\n            const key = lowercase\r\n              ? element[0].toLowerCase() + element.substring(1)\r\n              : element\r\n            acc[key] = target(key)\r\n            return acc\r\n        },\r\n        target\r\n    )\r\n}\r\n","import React, {ReactChild as RC, FC, CSSProperties as CSS, Children,useCallback,useEffect,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated as a} from 'react-spring'\r\nimport {useGesture,} from 'react-use-gesture'\r\nimport {clamp, swap} from '../utils'\r\nimport {Props} from '../types'\r\nconst background = ({r=0,g=0,b=0,a=.1,debug=true}:any) => debug?{background:`rgba(${[r,g,b,a].join(',')})`}:{}\r\nconst styles:{[key:string]:CSS} = {\r\n    cont: {position:\"relative\",width:\"100%\",zIndex:0,margin:`auto`},\r\n    main: {position:\"relative\",width:\"100%\",zIndex:0,},\r\n    side: {position:\"absolute\",top:0,left:0,right:0,margin:\"auto\"},\r\n    btn : {position:\"absolute\",left:\"50%\",top:\"50%\",transform:\"translate(-50%,-50%)\" },\r\n}\r\nexport const NotesSide:FC<Props> = ({\r\n    children,size=1,height=0,x, debug=false,\r\n}) => x.interpolate((px:number)=>px**2<=0 ) ? null :\r\n    <a.div children={children} style={{...styles.side, height, ...background({b:255,debug}),\r\n        y:0,  x:x.to((px:number)=> -px+(px>0?-.5:.5)*(size*500)),\r\n        scale  :x.to((px:number)=>px**2/4>size**2?1:(px>0?px:-px)/(size)),\r\n        width  :x.to((px:number)=>px>0?px*2:-px*2),\r\n        display:x.to((px:number)=>px?\"inline\":\"none\") }}/>\r\nexport const NotesItem:FC<Props> = ({children,x}) => !children ? null :\r\n    <a.div style={{...styles.btn,display:x.to((px:number)=>px<0?\"inline\":\"none\")}}>\r\n        {children} </a.div>\r\nexport type Notes = FC<Props<{\r\n    grandren:any,right:RC,left:RC, depth:number, space:number|string,\r\n}>>\r\nexport const Notes:Notes = ({\r\n    order=null, grandren=null, debug=false,\r\n    right=null, left=null, depth=0, space=0,\r\n    size=1, style={}, ...props\r\n}) => {\r\n    const [length, setLength] = useState<number>((props?.children as any)?.length||1)\r\n    const [height, setHeight] = useState<number>(props.height || size*500*length)\r\n    const [isOpen, setIsOpen] = useState<boolean[]>(Array(length).fill(false))\r\n    const orderRef    = useRef<number[]>(order||[...Array(length)].map((_,i:number)=>i))\r\n    const heightRef   = useRef( Array(length).fill(size*500) )\r\n    const targetRef   = useRef<HTMLDivElement|null>(null)\r\n    const setPosition = useCallback(() => {\r\n        if (props.height) return setHeight(props.height)\r\n        const childs  = Array.from(targetRef?.current?.children||[])\r\n        heightRef.current = [...childs].map((c:any)=>c.clientHeight||0)\r\n        props.children && setHeight([...heightRef.current,0].reduce((a,b)=>a+b) || size*500*length)\r\n    }, [size, length, props.height, props.children])\r\n    useEffect(()=>{\r\n        const len = (props.children as any)?.length||1\r\n        setLength(len)\r\n        setIsOpen(Array(len).fill(false))\r\n        if (orderRef.current.length === len) return\r\n         orderRef.current = order||[...Array(len)].map((_,i:number)=>i)\r\n        heightRef.current = Array(len).fill(size*500)\r\n    }, [size,order, props.children])\r\n    //  *************************   React Springs  *************************  //\r\n    const getY = ({pre=0,arr=orderRef.current})=>pre<1?0:[...arr.slice(0,pre).map(i=>heightRef.current[i]),0].reduce((a,b)=>a+b)\r\n    const getF = ({i=-1,x=0,s=1.0})=>(j=0)=>({x:j===i?x:0,y:getY({pre:orderRef.current.indexOf(j)}),scale:j===i?s:1})\r\n    const getG = useCallback(({i=-1,arr=orderRef.current,pre=-1,mx=0,my=0,down=false}) =>\r\n        (j:number) => (down&&j===i)\r\n            ? {scale:0.9, x:mx, y:getY({pre})+my}\r\n            : {scale:1.0, x:0 , y:getY({pre:arr.indexOf(j),arr})}, [])\r\n    const [springs, set] = useSprings(length, getG({}))\r\n    const bind = useGesture({\r\n        onClick:()=>setTimeout(()=>{setPosition();set(getG({})) },1),\r\n        onDrag : ({ down,cancel,movement:[mx,my],startTime,\r\n                    last, args:[i], vxvy:[vx,vy],timeStamp, }) => {\r\n            if(!last && cancel && timeStamp-startTime<1) cancel()\r\n            const pre = orderRef.current.indexOf(i)\r\n            const row = clamp( Math.round(pre+my/size*500), 0, length-1 )\r\n            const arr = swap(orderRef.current, pre, row)\r\n            if(!down) orderRef.current = arr\r\n            if(!last) return set( getG({i,arr,pre,mx,my,down}) )\r\n            const x = (mx<0?-1:1) * size*50// * 2 // window.innerWidth/2 -\r\n            const op = (mx**2<.1||x**2<mx**2*2||vx**2+vy**2>1) ? !isOpen[i] : isOpen[i]\r\n            setIsOpen(p=>[...Object.assign([],{[i]:!p[i]})])\r\n            setTimeout(()=>{setPosition();set(getF({i,s:op?1:1}))},1)//TODO: s is .9?\r\n        }\r\n    })\r\n    //  *************************   Child Render  *************************  //\r\n    const children = useMemo(() => Children.map(props.children, (child) => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []//count(child.props.children) || 0\r\n        return (grand.length>1 && depth===0) // TODO for depth > 0\r\n            ? React.cloneElement(child as any, {children:grand[0], grandren:(\r\n                <Notes {...{...props, depth:depth+1,children:grand.slice(1)}}/> )})\r\n            : child\r\n    }), [depth, props])\r\n    useEffect(()=>{ setPosition(); set(getG({})) }, [setPosition, set, getG] )\r\n    return (\r\n        <div ref={targetRef} style={{...styles.cont,height,...style, ...background({r:255,debug})}}>\r\n            {springs.map( ({x,y,scale}, key) =>\r\n                <a.div {...{key}} {...bind(key)} style={{x,y,position:\"absolute\",width:\"100%\"}}>\r\n                    <a.div style={{...styles.main,scale,padding:space, ...background({g:255,debug})}}>\r\n                        {(children as any)[key]}\r\n                    </a.div>\r\n                    <NotesSide {...{x,size,debug,height:heightRef.current[key]}}>\r\n                        <NotesItem x={x}>{right}</NotesItem>\r\n                        <NotesItem x={x}>{left}</NotesItem>\r\n                    </NotesSide>\r\n                    { isOpen[key] ? (children as any)[key]?.props?.grandren||'':'' }\r\n                </a.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Notes, Card} from '../../../src'\r\nexport const HookNotes:FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const debug = useControl('debug', {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const space = useControl('space', {type: 'number' , value:50, min: 0, max:100})\r\n    const depth = useControl('depth', {type: 'number' , value: 0, min: 0, max: 2})\r\n    const child = useControl('child', {type: 'number' , value: 3, min: 0, max: 10})\r\n    return (\r\n        <Notes {...{dark, debug, size, space, depth:~~depth}}>\r\n        {[...Array(~~child)].map((_,i) =>\r\n            <Card min={1} key={i} style={{\r\n                height:size*100,\r\n                background:`rgba(255,0,0,0.1)`}}>{i}</Card>\r\n        )}\r\n        </Notes>\r\n    )\r\n}\r\nexport const codeNotes =\r\n`import {Notes} from '@tsei/core'\r\nconst App =()=> (\r\n    <Notes\r\n        dark={true}\r\n        size={1}>\r\n        <div style={{height:size*100,background:\"rgba(255,0,0,0,1)\"}}>1</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>2</div>\r\n        <div style={{height:size*100,background:\"rgba(0,0,255,0,1)\"}}>3</div>\r\n    </Notes>\r\n)`\r\n","import React, {CSSProperties as CSS,FC,Children,useMemo,useEffect,useRef} from 'react'\r\nimport {useSpring, useSprings, animated as a} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {Props} from '../types'\r\nimport {clamp,range,sign,getWRate,} from '../utils'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    cont: {position:\"relative\",overflowX:\"hidden\",width:\"100%\" ,whiteSpace:\"nowrap\",},\r\n    item: {position:\"relative\",overflow:\"visible\",height:\"100%\",display:\"inline-block\",verticalAlign:\"top\"},\r\n}\r\nexport type Split = FC<Props<{\r\n    order :number[]|[], styleItem:CSS,\r\n    width :number, height:number, min:number\r\n}>>\r\nexport const Split:Split = ({\r\n    order=[], width=0, height=0, min=.1,\r\n    dark=false,size=1, style={}, styleItem={}, ...props\r\n}) => {\r\n    const sRef = useRef<number>(0)\r\n    const lRef = useRef<number>((props as any)?.children?.length||1)\r\n    const hRef = useRef<number>(height||1)\r\n    const wRef = useRef<number[]>(getWRate(order, lRef.current, width,))\r\n    const [spring,  setH] = useSpring(() => ({h:hRef.current}))\r\n    const [springs, setW] = useSprings(wRef.current.length, i=>({w:wRef.current[i],z:0}))\r\n    const move = (mx=0, k=0, s=1, m=0, w=wRef.current, W=window.innerWidth) => (i=0) =>\r\n        [k,k+s].every(e => range(e, -1, lRef.current))\r\n        ? (i===k||i===k+s) && range(w[i]+mx*s*(i===k?1:-1)/W, m, w[k]+w[k+s]-m)? {w:w[i]+mx*s*(i===k?1:-1)/W}:null\r\n        : (i===k||i===k-s) && range(w[i]-mx*s*(i===k?1:-1)/W, m, w[k]+w[k-s]-m)? {w:w[i]-mx*s*(i===k?1:-1)/W}:null\r\n    const bind = useGesture({\r\n        onDrag:({first, last, args:[key], movement:[mx,my], direction:[dir]}) => {\r\n            if (sRef.current===0||first) sRef.current = sign(dir);\r\n            sign(dir) && sign(dir)===sRef.current &&\r\n            setW(move(mx,key,sign(dir),min))\r\n            setH({h:clamp(hRef.current+my/window.innerHeight, min, 1)})\r\n            if (!last) return\r\n            wRef.current = springs.map((s:any) => s.w.animation.to || 0)\r\n            hRef.current = spring.h.animation.to as number || 0\r\n        }\r\n    })//, {drag:{lockDirection: true}}) //error if here\r\n    const children = useMemo(() => Children.map(props.children, c=>c), [props.children])\r\n    useEffect(() => {\r\n        const len = (props as any)?.children?.length||0\r\n        if (len===lRef.current) return\r\n        lRef.current = len\r\n        wRef.current = [...wRef.current.map(v=>v-1/len/wRef.current.length), 1/len]\r\n        setW((i) => ({w:wRef.current[i]}))\r\n    },  [props, setW])\r\n    useEffect(() => {\r\n        wRef.current = getWRate(order,lRef.current,width)\r\n        setW(i=>({w:wRef.current[i]}))\r\n    }, [width, setW, order])\r\n    useEffect(() => {\r\n        hRef.current = height||1\r\n        setH({h:hRef.current})\r\n    }, [height, setH])\r\n    return (\r\n        <a.div style={{...styles.cont, height:spring.h.interpolate(v=>`${v*100}%`),\r\n                       ...style}} {...props}>\r\n            {springs.map(({w},key) =>\r\n                <a.div {...bind(key)} {...{key}} style={{\r\n                        ...styles.item, ...styleItem,\r\n                        width:w.interpolate(v => `${100*v}%`),\r\n                        //zIndex:z.interpolate(v => ~~(v*10))\r\n                    }}>\r\n                    {(children as any)[key]}\r\n                </a.div>\r\n            )}\r\n        </a.div>\r\n    )\r\n}\r\n\r\n//https://github.com/gregberge/react-merge-refs/blob/master/src/index.tsx\r\n// export default function mergeRefs<T = any>(\r\n//     refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\r\n// ): React.RefCallback<T> {\r\n//     return (value) => {\r\n//         refs.forEach((ref) => {\r\n//             if (typeof ref === \"function\") {\r\n//                 ref(value);\r\n//             } else if (ref != null) {\r\n//                 (ref as React.MutableRefObject<T | null>).current = value;\r\n//             }\r\n//         });\r\n//     };\r\n// }\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Split,} from '../../../src'\r\n\r\nexport const HookSplit:FC = () => {\r\n    const dark  = useControl('dark'  , {type: 'boolean', value: false})\r\n    const size  = useControl('size'  , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const min   = useControl('min'   , {type: 'number' , value: 0, min: 0, max: 1})\r\n    const width = useControl('width' , {type: 'number' , value: 0, min: 0, max: 1})\r\n    const height= useControl('height', {type: 'number' , value: 0, min: 0, max: 1})\r\n    const number= useControl('number', {type: 'number' , value: 3, min: 0, max:10})\r\n    return (\r\n        <div style={{height:\"50vh\"}}>\r\n            <Split {...{dark,size,min,width,height}}>\r\n            {[...Array(~~number)].map((_, num) =>\r\n                <div key={num} style={{width:\"100%\",height:\"100%\",background:`rgba(${[\r\n                    `${num     % 3 * 255 / 3}`,\r\n                    `${(num+1) % 3 * 255 / 3}`,\r\n                    `${(num+2) % 3 * 255 / 3}`\r\n                ].join(`, `)},.1)`}}/>\r\n            )}\r\n            </Split>\r\n        </div>\r\n    )\r\n}\r\nexport const codeSplit =\r\n`import {Split} from '@tsei/core'\r\nexport const Split = (\r\n        <Target\r\n            dark  = {false}\r\n            size  = {1}\r\n            min   = {0}\r\n            width = {0}\r\n            height= {0}>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(255,0,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,255,0,.1)\"}}/>\r\n            <div style={{width:\"100%\",height:\"100%\",background:\"rgba(0,0,255,.1)\"}}/>\r\n        </Target>\r\n)`\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {Props} from '../types'\r\n\r\nexport type Head = FC<Props>\r\nexport const Head:Head = ({\r\n    children, color=\"\", dark=false,size=1, style={}, ...props\r\n}) => {\r\n    style = useMemo<CSS>(()=>({\r\n        fontSize:size*50,\r\n        color:color||dark?\"#818181\":\"#000\",\r\n        width:`max(70vw, 100vw - ${size*200}px)`,\r\n        height:\"auto\",\r\n        margin:\"auto\",\r\n        ...style\r\n    }), [color,dark,size,style])\r\n    return <div {...{children,style,...props}}/>\r\n}\r\n","// This is a fork of\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/index.js\r\n//     https://github.com/drcmda/react-animated-tree/blob/master/src/icons.js\r\n// demo: https://codesandbox.io/embed/rrw7mrknyp\r\n//     @content, Name of the node (string or React-component)\r\n//     @type   , optional description, good for displaying icons, too (string or React-component)\r\n//     @open   , optional: default open state\r\n//     @hide, optional: when set true displays an eye icon\r\n//     @visible, optional: default visible state\r\n//     @onClick, optional: click events on the eye\r\n//     @springConfig, optional: react-spring animation config\r\nimport React, {\r\n    CSSProperties as CSS, FC, Children,\r\n    useCallback,useMemo, useState, useEffect, //useRef\r\n} from 'react'\r\nimport {useSpring, config, animated as a} from 'react-spring'\r\nimport {Props} from '../types'\r\nconst defaultConfig = {restSpeedThreshold: 1,restDisplacementThreshold: 0.01}\r\nconst styles:{[key:string]:CSS} = {\r\n    tree: {padding:'4px 0px 0px 0px',position:'relative',overflow:'hidden',\r\n           verticalAlign:'middle',whiteSpace:'nowrap',textOverflow:'ellipsis',},\r\n    tggl: {verticalAlign:'middle',width:'1em',height:'1em',cursor:'pointer',marginRight:10,},\r\n    type: {verticalAlign:'middle',fontSize:'0.6em',fontFamily:'monospace',textTransform:'uppercase',},\r\n    cont: {willChange:'transform, opacity, height',marginLeft:6,},\r\n}\r\nconst paths = {\r\n    close:\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155 q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\",\r\n    minus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0 q0 -15 -11 -25.5t-25 -10.5z\",\r\n    plus: \"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184 q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\",\r\n    eye: \"M963 384q0 14 -21 62q-26 65 -61 109q-57 71 -139 112q-99 50 -230 50t-231 -50q-80 -41 -138 -112q-34 -43 -61 -109q-21 -48 -21 -62v0v0v0v0q0 -14 21 -62q27 -66 61 -109q57 -71 139 -112q100 -50 230 -50t230 50q81 41 139 112q35 44 62 109q20 48 20 62v0v0v0v0z M889 384q-25 -77 -64 -126h-1q-46 -59 -114 -93q-85 -42 -198.5 -42t-198.5 42q-67 34 -114 93q-40 49 -65 126q25 77 65 126q47 59 114 93q85 43 199 43t198 -43q67 -33 114 -93q40 -49 65 -126zM512 558q-72 0 -122.5 -50.5t-50.5 -122.5t50.5 -122.5t122.5 -50.5 t122.5 50.5t50.5 122.5t-50.5 122.5t-122.5 50.5zM614 385q0 -42 -30 -72t-72 -30t-72 30t-30 72t30 72t72 30t72 -30t30 -72z\",\r\n}\r\nexport type TreeIcon = {[key:string]:FC<{style:CSS,onClick:()=>void,className?:string}>}\r\nexport const TreeIcon:TreeIcon = {\r\n    CloseSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.close}/></g></svg>,\r\n    MinusSquareO: props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.minus}/></g></svg>,\r\n    PlusSquareO : props => <svg {...props} viewBox=\"64 -65 897 897\"><g><path d={paths.plus}/></g></svg>,\r\n    EyeO        : props => <svg {...props} viewBox=\"61  51 902 666\"><g><path d={paths.eye}/></g></svg>,\r\n}\r\nexport type TreeContent = FC<Props<{\r\n    [key:string]:any, set:any, content:any, type:any,\r\n    hide:boolean, opacity:number, root:number, icon:\"Minus\"|\"Plus\"|\"Close\"\r\n}>>\r\nexport const TreesContent:TreeContent = ({\r\n    content,type,set,hide=false,icon=\"Close\",opacity=1,dark=false,\r\n}) => {\r\n    const Icon = useMemo(() => TreeIcon[`${icon}SquareO`], [icon])\r\n    const color = useMemo(() => dark?\"#818181\":\"#212121\", [dark])\r\n    const iconClick = useCallback(() => set&&set((p:any) => ({open:!p.open,immediate:false})), [set])\r\n    const eyeClick  = useCallback(() => set&&set((p:any) => ({...p        ,immediate:true })), [set])\r\n    return !content ? null : (\r\n        <>\r\n            <Icon style={{...styles.tggl, opacity, color}} onClick={iconClick}/>\r\n            <span style={{...styles.type, marginRight:type?10:0,color}}>{type}</span>\r\n            { hide &&\r\n            <TreeIcon.EyeO style={{...styles.tggl, color}} onClick={eyeClick}/> }\r\n            <span style={{verticalAlign:'middle',color}}>{content}</span>\r\n        </>\r\n    )\r\n}\r\nexport type Trees = FC<Props<{\r\n    open:boolean, visible:boolean, depth:number, springConfig:any,\r\n    hide:boolean, immediate:boolean, topStyle:CSS, type:any, content:any,\r\n}>>\r\nexport const Trees:Trees = ({\r\n    open=true, visible=true, immediate=true,\r\n    depth=0, root=1, springConfig=defaultConfig,\r\n    dark=false, size=1, style={}, topStyle={}, ...props\r\n}) =>  {\r\n    const [state, set] = useState<{[key:string]:boolean}>({open,visible,immediate})\r\n    const spring = useSpring({\r\n        immediate: state.immediate,\r\n        config: {...config.default,...springConfig},\r\n        from: {height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\r\n        to: {  height: state.open ? 'auto' : 0,\r\n              opacity: state.open ? 1      : 0,\r\n            transform: state.open ? 'translate3d(0px,0,0)' : 'translate3d(20px,0,0)'},\r\n    })\r\n    const children = useMemo(() => Children.map(props.children, child => {\r\n        const grand = Children.toArray((child as any)?.props?.children) || []\r\n        return props.children &&\r\n            <Trees {...{...props,\r\n                dark, size, style, depth:depth+1, topStyle:{},\r\n                open: depth<root, children: grand.length>1 ? grand.slice(1) : null,\r\n                immediate: false, content : grand.length>1 ? grand[0] : child,}}/>\r\n    }), [props, depth, root, dark, size, style])\r\n    const icon = useMemo(() => children instanceof Array && children.length > 0\r\n        ? (state.open ? 'Minus' : 'Plus')\r\n        : 'Close', [children, state.open])\r\n    useEffect(() => void (set(p => visible!==p.visible?{...p, visible}:p)), [visible])\r\n    return (\r\n        <a.div style={{...styles.tree, fontSize:size*50, zIndex:-depth, ...style, ...topStyle}}>\r\n            <TreesContent{...{...props, icon, set, opacity:children?.length?1:.3, dark, size}}/>\r\n            <a.div style={{\r\n                ...(depth>0?{borderLeft:`1px dashed #${dark?818181:212121}`}:{}),\r\n                ...styles.cont, padding:`4px 0px 0px ${size*25}px`,\r\n                ...spring, }}>{children}</a.div>\r\n        </a.div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {useControl} from 'react-three-gui';\r\nimport {Trees, Head} from '../../../src'\r\nconst items = ['0', '1', '2', '3']\r\nexport const HookTrees:FC = () => {\r\n    const dark     = useControl('dark'     , {type: 'boolean', value: false})\r\n    const open     = useControl('open'     , {type: 'boolean', value: true })\r\n    const immediate= useControl('immediate', {type: 'boolean', value: true })\r\n    const hide     = useControl('hide'     , {type: 'boolean', value: false})\r\n    const visible  = useControl('visible'  , {type: 'boolean', value: true })\r\n    const depth    = useControl('depth'    , {type: 'number' , value: 0, min: 0, max: 2})\r\n    const root     = useControl('root'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const size     = useControl('size'     , {type: 'number' , value: 1, min: 0, max: 2})\r\n    const icon     = useControl('icon'     , {type: 'select' , value: 'Close' , items:['Minus','Plus','Close']})\r\n    const content  = useControl('content'  , {type: 'select' , value: items[0], items})\r\n    return (\r\n        <Head {...{dark,size}}>\r\n            <Trees {...{dark,open,visible,immediate,hide,depth,root,size,icon,content}}>\r\n                <>\r\n                    <>1</>\r\n                    <>1 - 1</>\r\n                    <>1 - 2</>\r\n                </>\r\n                <>\r\n                    <>2</>\r\n                    <>2 - 1</>\r\n                    <>2 - 2</>\r\n                </>\r\n            </Trees>\r\n        </Head>\r\n    )\r\n}\r\nexport const codeTrees =\r\n`import {Trees} from '@tsei/core'\r\nconst App = () => (\r\n    <Trees\r\n        dark = {false}\r\n        open = {true}\r\n        immediate = {true}\r\n        hide = {false}\r\n        visible = {true}\r\n        depth = {0}\r\n        root = {1}\r\n        size = {1}\r\n        icon = {\"Close\"}\r\n        content={\"0\"}>\r\n        <>\r\n            <>1</>\r\n            <>1 - 1</>\r\n            <>1 - 2</>\r\n        </>\r\n        <>\r\n            <>2</>\r\n            <>2 - 1</>\r\n            <>2 - 2</>\r\n        </>\r\n    </Trees>\r\n)\r\n`\r\n\r\n// const bind = (background=\"\") => ({\r\n//     style: {background},\r\n//     onClick: () => console.log('HI')\r\n// })\r\n// export const Trees:FC = () => {\r\n//     return (\r\n//         <Head {...{dark:0,size:1}}>\r\n//             <TREES content=\"Hook\">\r\n//                 <>\r\n//                     <span {...bind(\"rgba(255,0,0,.1)\")}>Components</span>\r\n//                     <span {...bind(\"rgba(0,255,0,.1)\")}>Card</span>\r\n//                     <span {...bind(\"rgba(0,0,255,.1)\")}>Modal</span>\r\n//                 </>\r\n//                 <span {...bind(\"rgba(0,0,0,.1)\")}>_</span>\r\n//             </TREES>\r\n//         </Head>\r\n//     )\r\n// }\r\n","//import * as THREE from 'three'\r\nimport  React, {FC, //CSSProperties as CSS, FC,\r\n        //useRef,useEffect, useState, useCallback, useLayoutEffect\r\n        } from 'react'\r\nimport {useThree} from 'react-three-fiber'\r\nimport {Box,} from 'react-three-flex'\r\nimport {Text} from 'drei/abstractions/Text'\r\n// import * as hooks from 'hooks'\r\n//import {} from '../src'\r\nimport {Props} from '../types'\r\nconst styles:{[key:string]:any} = {\r\n    top:  { dir:\"row\",width:\"100%\",height:\"100%\",align:\"center\",justify:\"center\"},\r\n    text: { anchorX:\"center\",letterSpacing:-.05,positionZ:0.5,\r\n            anchorY:\"middle\",lineHeight:1.0,}\r\n}\r\n\r\nexport const Title:FC<Props> = ({\r\n    children,dark=false,size=1\r\n}) => {\r\n    const {viewport} = useThree()\r\n    return (\r\n        <Box {...styles.top} centerAnchor>\r\n            <Text {...styles.text}\r\n                color={dark?\"#818181\":\"#212121\"}\r\n                fontSize={size}\r\n                maxWidth={(viewport.width/4) * 3}\r\n                letterSpacing={0.1}>\r\n                {children}\r\n               <meshStandardMaterial />\r\n            </Text>\r\n        </Box>\r\n    );\r\n}\r\n","import React, {FC, Suspense} from 'react'\r\nimport {Flex} from 'react-three-flex'\r\nimport {useSpring} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {Canvas,useFrame,useThree} from 'react-three-fiber'\r\nimport {useControl as use} from 'react-three-gui'\r\nimport {Title} from '../../../src'\r\n\r\nconst items = [\"TSEIJP\", \"TEST\"]\r\nconst Content:FC = (props) => {\r\n    const {viewport} = useThree()\r\n    return (\r\n        <Flex dir=\"column\"\r\n            position={[-viewport.width/2, viewport.height/2, 0]}\r\n            size    ={[ viewport.width  , viewport.height  , 0]}>\r\n            <Title {...props}/>\r\n        </Flex>\r\n    )\r\n}\r\nconst Control = ({position=[0,0,0]}) => {\r\n    useFrame(({camera}) => {\r\n        camera.position.x =-position[0]\r\n        camera.position.y = position[1]\r\n        camera.position.z = position[2]\r\n    })\r\n    return null\r\n}\r\nexport const HookTitle:FC = () => {\r\n    const dark = use('dark', {type:'boolean', value:false})\r\n    const size = use('size', {type:'number', value:1})\r\n    const camera = use('camera', {type:'xypad', value: {x:0,y:0}, scrub:true, distance:10})\r\n    const position = use('position', {type:'xypad', value: {x:0,y:0}, scrub:true, distance:10})\r\n    const children = use('title', {type:\"select\", value:items[0], items})\r\n    const [, set] = useSpring(()=>({x:0,y:0}))\r\n    useGesture({\r\n        onWheel:({offset:[,y],vxvy:[,vy]}) => vy && set({y})\r\n    })\r\n    return (\r\n        <Canvas\r\n            style={{width:\"100%\",height:\"100vh\",margin:0,padding:0}}\r\n            shadowMap concurrent pixelRatio={2}\r\n            noEvents colorManagement\r\n            camera={{position:[0,0,10],far:1000}}\r\n            gl={{powerPreference:'high-performance', alpha:true, antialias:false, stencil:false, depth:false}}\r\n            onCreated={({gl}) => gl.setClearColor('#f5f5f5')}>\r\n            <pointLight position={[-10, -10, -10]} intensity={1} />\r\n            <ambientLight intensity={0.4} />\r\n            <spotLight  castShadow angle={0.3} penumbra ={1} shadow-mapSize-width ={1024}\r\n                        position={[0, 10, 20]} intensity={5} shadow-mapSize-height={1024} />\r\n            <Suspense fallback={null}>\r\n                <Content {...{\r\n                    position:[position.x, position.y, 0],\r\n                    children,dark,size}}/>\r\n            </Suspense>\r\n            <Control {...{position:[camera.x, camera.y, 10]}}/>\r\n        </Canvas>\r\n    )\r\n}\r\nexport const codeTitle =\r\n`import {Title} from '@tsei/core'\r\nconst App = () =>\r\n    <Title/>`\r\n","import React, { useMemo, useRef} from 'react'\r\nimport {useFrame} from 'react-three-fiber'\r\nimport {useSpring, a} from 'react-spring/three'\r\nimport * as THREE from 'three'\r\n\r\nconst cropValue=(dir:any)=>Object.assign({},...Object.keys(dir).map(key=>(\r\n    {[key]:{value:dir[key]}}\r\n)))\r\n\r\nconst vertexShader = `\r\nvarying vec2 vUv;\r\nuniform sampler2D map;\r\nuniform float width, height, space, pointSize, zOffset, nearClipping, farClipping;\r\nconst float XtoZ = 1.11146; // tan( 1.0144686 / space ) * space;\r\nconst float YtoZ = 0.83359; // tan( 0.7898090 / space ) * space;\r\n\r\nvoid main() {\r\n    vUv = vec2( position.x / width, position.y / height );\r\n    vec4 color = texture2D( map, vUv );\r\n    float depth = ( color.r + color.g + color.b ) / 3.0;\r\n    float z = ( 1.0 - depth ) * (farClipping - nearClipping) + nearClipping;\r\n    vec4 pos = vec4(\r\n        ( position.x / width - 0.5 ) * z * XtoZ,\r\n        ( position.y / height - 0.5 ) * z * YtoZ,\r\n        - z + zOffset,\r\n        1.0\r\n    );\r\n\r\n    gl_PointSize = pointSize;\r\n    gl_Position = projectionMatrix * modelViewMatrix * pos;\r\n}\r\n`\r\nconst fragmentShader = `\r\nuniform sampler2D map;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    vec4 color = texture2D( map, vUv );\r\n    gl_FragColor = vec4( color.r, color.g, color.b, .5);\r\n}\r\n`\r\n\r\nexport const Kinect = ({ url,\r\n    position=[0,0,0],\r\n    width=640, nearClipping=1000, depthWrite=false, pointSize=5, space=2,\r\n    height=850, farClipping=4000, depthTest=false, zOffset=1000, ...props\r\n}:any) => {\r\n    // ******************** Mount ******************** //\r\n    const map = useMemo<any>(()=>{\r\n        const video = document.createElement('video');\r\n        if (!video) return\r\n        video.src   = url;\r\n        video.loop  = true; video.load();\r\n        video.muted = true; video.play();\r\n        return new THREE.VideoTexture(video)\r\n    }, [url])\r\n    const points   = useRef<any>()\r\n    const geometry = useRef<any>()\r\n    const material = useRef<any>()\r\n    const uniforms = useSpring(() => cropValue({\r\n        width, nearClipping, map, space,\r\n        height, farClipping, pointSize, zOffset\r\n    }))\r\n    // ******************** Render ******************** //\r\n    useFrame(()=>{\r\n        const pos = new Float32Array( width*height*3 )\r\n        for ( var i=0, j=0, l=pos.length; i<l; i+=3, j++ ) {\r\n            pos[ i ] = j % width;\r\n            pos[i+1] = Math.floor( j/width );\r\n        }\r\n        geometry.current.setAttribute('position', new THREE.BufferAttribute(pos,3));\r\n        points.current.position.x = position[0]\r\n        points.current.position.y = position[1]\r\n        points.current.position.z = position[2]\r\n        material.current.depthTest  = depthTest\r\n        material.current.depthWrite = depthWrite\r\n        material.current.uniforms = cropValue({\r\n            width, nearClipping, map, space,\r\n            height, farClipping, pointSize, zOffset\r\n        })\r\n    })\r\n    return (\r\n        <a.points {...props}  ref={points} position={position} >\r\n            <a.bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n            <a.shaderMaterial ref={material} attach=\"material\"\r\n                transparent blending={THREE.AdditiveBlending}\r\n                {...{...uniforms,\r\n                    depthTest, fragmentShader,\r\n                    depthWrite, vertexShader,\r\n                }}/>\r\n        </a.points>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas, } from 'react-three-fiber'\r\nimport {useControl as use} from 'react-three-gui';\r\nimport {TransformControls} from 'drei'\r\nimport {Kinect} from '../../../src'\r\n\r\nexport const HookKinect :FC = () => {\r\n    const depthTest = use('depthTest', {type:'boolean', value:false, })\r\n    const depthWrite = use('depthWrite', {type:'boolean', value:false})\r\n    const nearClipping = use('nearClipping', {type:'number', value:1000, min:0, max:2000})\r\n    const farClipping = use('farClipping', {type:'number', value:4000, min:0, max:8000})\r\n    const pointSize = use('pointSize', {type:'number', value:5, min:0, max:10, spring: true})\r\n    const zOffset = use('zOffset', {type:'number', value:1000, min:0, max:2000})\r\n    const space = use('space', {type:'number', value:5, min:0, max:10})\r\n    const url = use('url', {type: \"select\", items: [\"/static/core/kinect.mp4\", \"\"]})\r\n    const pos = use('position', {type:'xypad', value: {x:0,y:0}, scrub:true, distance:1000})\r\n    const props = {\r\n        nearClipping,\r\n        farClipping,\r\n        depthTest,\r\n        depthWrite,\r\n        pointSize,\r\n        zOffset,\r\n        space,\r\n        url,\r\n        position:[pos.x, 0, 500+pos.y]\r\n    }\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer: true}}\r\n                style={{width:'100%',height:'calc(100vh - 2rem)'}}\r\n                camera={{position:[0,0,500], far:2000}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated ={({gl}:any) => {\r\n                    gl.outputEncoding = THREE.sRGBEncoding\r\n                    gl.toneMapping    = THREE.ACESFilmicToneMapping\r\n                }}>\r\n            <ambientLight intensity={1.1} />\r\n            <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n            <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n            <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n            <TransformControls>\r\n                <Kinect {...props}/>\r\n            </TransformControls>\r\n        </Canvas>\r\n    )\r\n}\r\nexport const codeKinect =\r\n`\r\nimport {Kienct} from '@tsei/core'\r\nimport {Canvas} from 'react-three-fiber'\r\nconst MyCanvas = () =>\r\n    <Canvas>\r\n        <Kinect />\r\n    </Canvas\r\n`\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n//import { draco } from 'drei'\r\n\r\nconst defaultURL = \"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb\"\r\n\r\nexport const Model = ({\r\n    url=defaultURL,dark=true, size=50, position=[0,-11,0],scale=[7,7,7]}:any) => {\r\n    const {animations, nodes}:any = useLoader(GLTFLoader, url, )\r\n    const group = useRef<any>(null)\r\n    const actions = useRef<any>(null)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(null as any))\r\n    const modelPos  = {x:position[0],y:position[2]}\r\n    useFrame(({camera}:any, delta)=>{\r\n        mixer.update(delta)\r\n        if(! group?.current?.position) return\r\n        group.current.position.x = modelPos.x\r\n        group.current.position.z = modelPos.y\r\n        camera.updateProjectionMatrix(void (\r\n            camera.lookAt(new THREE.Vector3(modelPos.x/2,0,modelPos.y/2))))\r\n    })\r\n    useEffect(() => {\r\n        const actionNum = size > 50 ? 3 : 1\r\n        actions.current = { idle: mixer.clipAction(animations[actionNum], group.current) }\r\n        actions.current.idle.play()\r\n        actions.current.idle.weight = 1\r\n        actions.current.idle.timeScale = 1\r\n        console.log(actions.current.idle)\r\n        return () => animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [animations,mixer,size])\r\n    if (!nodes)\r\n        return null\r\n    return (\r\n        <group ref={group} {...{position, scale}} dispose={null}>\r\n          <group rotation={[Math.PI/2,0,0]} scale={[0.01,0.01,0.01]}>\r\n            <primitive object={nodes[\"mixamorigHips\"]} />\r\n            <skinnedMesh geometry={nodes[\"Beta_Joints\"].geometry}\r\n                skeleton={nodes[\"Beta_Joints\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x212121:0x000000}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n            <skinnedMesh geometry={nodes[\"Beta_Surface\"].geometry}\r\n                skeleton={nodes[\"Beta_Surface\"].skeleton}\r\n                rotation={[-Math.PI/2,0,0]} scale={[100, 100, 100]}>\r\n                <meshPhongMaterial\r\n                    attach=\"material\" color={dark?0x000000:0xffffff}\r\n                    depthWrite={false} skinning />\r\n            </skinnedMesh>\r\n          </group>\r\n        </group>\r\n    )\r\n}\r\n","import React, {useCallback, useMemo, useRef} from 'react'\r\nimport { useFrame } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const Swarm = ({ dark=false, size=50, count=25}:any) => {\r\n    const mesh = useRef<any>(null)\r\n    const dummy = useMemo(() => new THREE.Object3D(), [])\r\n    const random = useCallback((mul=1,add=0)=>add+Math.random()*mul, [])\r\n    const particles = useMemo(() => [...Array(count)].map(()=>({\r\n        t     :random(100),       xFactor:random(40,-20), mx:0,\r\n        factor:random(100,2),     yFactor:random(40,-20), my:0,\r\n        speed :random(1/200,0.01),zFactor:random(40,-20),})), [random,count])\r\n    useFrame(() => {\r\n        particles.forEach((particle, i) => {\r\n            let { t, factor, speed, xFactor, yFactor, zFactor } = particle\r\n            t = particle.t += speed / 2\r\n            const a = Math.cos(t) + Math.sin(t * 1) / 10\r\n            const b = Math.sin(t) + Math.cos(t * 2) / 10\r\n            const s = Math.max(1.5, Math.cos(t) * size / 10)\r\n            dummy.position.set(\r\n                (particle.mx/10)*a + xFactor + Math.cos((t/10)*factor) + (Math.sin(t*1)*factor)/10,\r\n                (particle.my/10)*b + yFactor + Math.sin((t/10)*factor) + (Math.cos(t*2)*factor)/10,\r\n                (particle.my/10)*b + zFactor + Math.cos((t/10)*factor) + (Math.sin(t*3)*factor)/10,\r\n            )\r\n            dummy.scale.set(s, s, s)\r\n            dummy.updateMatrix()\r\n            mesh.current.setMatrixAt(i, dummy.matrix)\r\n        })\r\n        mesh.current.instanceMatrix.needsUpdate = true\r\n    })\r\n    return (\r\n        <>\r\n            <instancedMesh ref={mesh} args={[null,null,count] as [any,any,number]}>\r\n                <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 32]} />\r\n                <meshPhongMaterial attach=\"material\" color={dark?0x000000:0xffffff} />\r\n            </instancedMesh>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC, Suspense, } from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {useControl} from 'react-three-gui'\r\nimport {Model, Swarm} from \"../../../src\"\r\nexport const HookModel :FC = () => {\r\n    const dark  = useControl('dark' , {type: 'boolean', value: false})\r\n    const size  = useControl('size' , {type: 'number' , value: 1, min: 0, max:  2})\r\n    const scl   = useControl('scale', {type: 'number' , value: 7, min: 0, max: 15})\r\n    const pos   = useControl('position', {type:'xypad', value: {x:0,y:0}, scrub:true, distance:10})\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer:true}}\r\n                style={{width:\"100%\", height:\"calc(100vh - 2rem)\"}}\r\n                camera={{position:[0,-2,3]}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated={({gl})=>{gl.outputEncoding=THREE.sRGBEncoding}}>\r\n            <fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <Model {...{dark,size,position:[pos.x,-11,pos.y],scale:[scl,scl,scl]}}/>\r\n                <Swarm  {...{dark,size}}/>\r\n            </Suspense>\r\n        </Canvas>\r\n    )\r\n}\r\n","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n// https://codesandbox.io/s/r3f-character-interaction-voef7?file=/src/Character.jsx:1209-1219\r\nimport * as THREE from \"three\"\r\nimport React, {useRef, useState} from \"react\"\r\nimport {useLoader,useFrame} from \"react-three-fiber\"\r\nimport {GLTFLoader} from \"three/examples/jsm/loaders/GLTFLoader\"\r\nconst defaultURL =\r\n   [\"/static/core/FallGuyDefalti.glb\",\r\n    \"/static/core/FallGuyDefalti.png\"]\r\nexport const Motion = ({\r\n    gltfURL=\"/static/core/FallGuyHiphopDancing.glb\",//defaultURL[0],\r\n    textureURL=defaultURL[1],\r\n    action=0, dark=true, size=50, ...props\r\n}) => {\r\n    const group   = useRef<any>(null)\r\n    const gltf    = useLoader<any>(GLTFLoader, gltfURL)\r\n    const texture = useLoader(THREE.TextureLoader, textureURL);\r\n    const actions = useRef<any>(null)\r\n    const [mixer] = useState<any>(() => new THREE.AnimationMixer(null as any))\r\n    React.useEffect(() => {\r\n        const num = -1<action && action<gltf.animations.length ? action: 0\r\n        const idle = mixer.clipAction(gltf.animations[num], group.current)\r\n        actions.current = { idle }\r\n        actions.current.idle.play()\r\n        return () => gltf.animations.forEach((clip:any) => mixer.uncacheClip(clip))\r\n    }, [action, gltf.animations, mixer])\r\n    useFrame((_, delta) => {mixer.update(delta)})\r\n    return (\r\n        <group ref={group} {...props} dispose={null}>\r\n            <group scale={[.01,.01,.01]} rotation={[1.3,0,0]} position={[0,-1,2]}>\r\n                <primitive object={gltf.nodes['mixamorigHips']} />\r\n                <skinnedMesh\r\n                    geometry={gltf.nodes[\"Body\"].children[0].geometry}\r\n                    skeleton={gltf.nodes[\"Body\"].children[0].skeleton}>\r\n                    <meshPhongMaterial attach=\"material\" map={texture} skinning/>\r\n                </skinnedMesh>\r\n                <skinnedMesh\r\n                    geometry={gltf.nodes[\"Body\"].children[1].geometry}\r\n                    skeleton={gltf.nodes[\"Body\"].children[1].skeleton}\r\n                    material={gltf.nodes[\"Body\"].children[1].material}>\r\n                </skinnedMesh>\r\n                <skinnedMesh\r\n                    geometry={gltf.nodes[\"Body\"].children[2].geometry}\r\n                    skeleton={gltf.nodes[\"Body\"].children[2].skeleton}\r\n                    material={gltf.nodes[\"Body\"].children[2].material}>\r\n                </skinnedMesh>\r\n            </group>\r\n        </group>\r\n    )\r\n}\r\n//<primitive object={gltf.nodes[\"Scene\"]} />\r\n","import React, {FC, Suspense, } from 'react'\r\nimport * as THREE from 'three'\r\nimport {Canvas} from \"react-three-fiber\"\r\nimport {useControl as use} from 'react-three-gui'\r\nimport {Motion} from \"../../../src\"\r\nexport const HookMotion :FC = () => {\r\n    const dark = use('dark' , {type: 'boolean', value: false})\r\n    const size = use('size' , {type: 'number' , distance:2, value: 1})\r\n    const scl  = use('scale', {type: 'number' , distance:2, value: 1})\r\n    const xz   = use('xz'   , {type: 'xypad'  , distance:2, value: {x:0,y:0}, scrub:true})\r\n    const y    = use('y'    , {type: 'number' , distance:2, value: 0, min:-1})\r\n    const rxz  = use('rxz'  , {type: 'xypad'  , distance:2, value: {x:0,y:0}, scrub:true})\r\n    const ry   = use('ry'   , {type: 'number' , distance:2, value: 0, min:-1})\r\n    const action= use('action'   , {type: 'number' , distance:10, value: 0})\r\n    return (\r\n        <Canvas gl={{antialias:false, logarithmicDepthBuffer:true}}\r\n                style={{width:\"100%\", height:\"calc(100vh - 2rem)\"}}\r\n                pixelRatio={window.devicePixelRatio}\r\n                onCreated={({gl})=>{\r\n                    gl.outputEncoding=THREE.sRGBEncoding\r\n                }}>\r\n            {/*<fog attach=\"fog\" args={[0xdfdfdf, 35, 65]} />*/}\r\n            <hemisphereLight intensity={0.68} position={[0, 50, 0]} />\r\n            <directionalLight position={[-8, 12, 8]} castShadow />\r\n            <Suspense fallback={null}>\r\n                <Motion {...{\r\n                    dark,size,action:~~action,\r\n                    position:[ xz.x,  y,  xz.y],\r\n                    rotation:[rxz.y, rxz.x,-ry],\r\n                    scale   :[scl,scl,scl]}}/>\r\n            </Suspense>\r\n        </Canvas>\r\n    )\r\n}\r\nexport const codeMotion =\r\n`import {Motion} from '@tsei/core'\r\nconst App = () => (\r\n    <Canvas {...{config}}>\r\n        <Motion\r\n            dark={false}\r\n            size={1}\r\n            position={[0,-1,0]}\r\n            rotation={[0,.5,0]}\r\n            scale   ={[1,1,1]}\r\n            />\r\n    </Canvas>\r\n)\r\n`\r\n","import React, {FC,useEffect,useRef} from \"react\"\r\nimport {useFrame} from \"react-three-fiber\"\r\nimport * as THREE from \"three\"\r\n\r\nconst vertexShader = `\r\nattribute float scale;\r\nvoid main() {\r\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n    gl_PointSize = scale * ( 300.0 / - mvPosition.z ) * 0.1;\r\n    gl_Position = projectionMatrix * mvPosition;\r\n}`\r\n\r\nconst fragmentShader = `\r\nuniform vec3 color;\r\nvoid main() {\r\n    if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;\r\n    gl_FragColor = vec4( color, 1.0 );\r\n}`\r\n\r\nconst Points = ({amp=100,dist=1000,time=1,amount={x:50,y:50,}, ...props}) => {\r\n    const geometry  = useRef<any>(null)\r\n    const material  = useRef<any>(null)\r\n    const uniforms = {color:{value:new THREE.Color(0xffffff)}}\r\n    const delta = useRef(0)\r\n    useEffect(() => {\r\n        const scales    = new Float32Array(amount.x*amount.y)\r\n        const positions = new Float32Array(amount.x*amount.y*3)\r\n        var i = 0, j = 0;\r\n        for ( var ix = 0; ix < amount.x; ix ++ ) {\r\n            for ( var iy = 0; iy < amount.y; iy ++ ) {\r\n                positions[ i ] = ix * dist - ( ( amount.x * dist ) / 2 ); // x\r\n                positions[ i + 1 ] = 0; // y\r\n                positions[ i + 2 ] = iy * dist - ( ( amount.y * dist ) / 2 ); // z\r\n                scales[ j ] = 1;\r\n                i += 3;\r\n                j ++;\r\n            }\r\n        }\r\n        geometry.current.setAttribute('scale'   ,new THREE.BufferAttribute(scales   , 1))\r\n        geometry.current.setAttribute('position',new THREE.BufferAttribute(positions, 3))\r\n    }, [dist, amount])\r\n    useFrame (()=> {\r\n        var i = 0, j = 0;\r\n        geometry.current.attributes.scale.needsUpdate = true\r\n        geometry.current.attributes.position.needsUpdate = true\r\n        for ( var ix = 0; ix < amount.x; ix ++ ) {\r\n            for ( var iy = 0; iy < amount.y; iy ++ ) {\r\n                const t = delta.current// * time;\r\n                geometry.current.attributes.position.array[i+1] = (Math.sin( (ix+t)*0.3 )*amp)  + (Math.sin( (iy+t)*0.5 )*amp);\r\n                geometry.current.attributes.scale.array[j]   = (Math.sin( (ix+t)*0.3 )+ 1)*8 + (Math.sin( (iy+t)*0.5 )+ 1)*8;\r\n                i += 3; j ++;\r\n                delta.current += 0.0001 * time\r\n            }\r\n        }\r\n        geometry.current.attributes.scale.needsUpdate = true\r\n        geometry.current.attributes.position.needsUpdate = true\r\n    })\r\n    return (\r\n        <points {...props}>\r\n            <bufferGeometry ref={geometry} attach=\"geometry\"/>\r\n            <shaderMaterial ref={material} attach=\"material\" args={[{uniforms,vertexShader,fragmentShader}]} />\r\n        </points>\r\n    )\r\n}\r\n\r\nconst Plane = ({...props}) => {\r\n    return (\r\n        <mesh {...props} receiveShadow>\r\n            <planeGeometry attach=\"geometry\" args={[5000, 5000, 1, 1]} />\r\n            <meshLambertMaterial attach=\"material\" color=\"#232323\" transparent opacity={0.1} />\r\n        </mesh>\r\n    )\r\n}\r\n\r\nexport const Stage:FC<any> = ({\r\n    position=[0, -11, 0],\r\n    rotation=[0, 0, 0],\r\n    scale=[0.1,0.1,0.1]\r\n}) => (\r\n    <>\r\n        <Points {...{position,rotation,scale}}/>\r\n        <Plane  rotation={[-0.5*Math.PI, 0, 0]} position={[0, -11, 0]} />\r\n    </>\r\n)\r\n","import React from 'react'\r\nimport {useControl as use} from 'react-three-gui';\r\nimport {Stage} from '../../../src'\r\nimport * as THREE from 'three'\r\nimport {Canvas, } from 'react-three-fiber'\r\nimport {TransformControls} from 'drei'\r\n\r\nexport const HookStage = () => {\r\n    const amp    = use('amp'   ,{type:'number', distance:5   ,min:1,value:100 ,max:200 ,})\r\n    const dist   = use('dist'  ,{type:'number', distance:5   ,min:1,value:1000,max:2000,})\r\n    const time   = use('time'  ,{type:'number', distance:0.01,min:0,value:1,max:2,})\r\n    const amount = use('amount',{type:\"xypad\" ,distance:5, value:{x:50,y:50} ,scrub:true})\r\n    return (\r\n            <Canvas gl={{antialias:false, logarithmicDepthBuffer: true}}\r\n                    style={{width:'100%',height:'calc(100vh - 2rem)'}}\r\n                    camera={{position:[0,500,0], far:2000}}\r\n                    pixelRatio={window.devicePixelRatio}\r\n                    onCreated ={({gl}:any) => {\r\n                        gl.outputEncoding = THREE.sRGBEncoding\r\n                        gl.toneMapping    = THREE.ACESFilmicToneMapping\r\n                    }}>\r\n                <ambientLight intensity={1.1} />\r\n                <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                <TransformControls>\r\n                    <Stage {...{amp,dist,time,amount}}/>\r\n                </TransformControls>\r\n            </Canvas>\r\n    )\r\n}\r\n","import axios  from 'axios'\r\nimport * as CODES from './codes'\r\nimport {Credit, URLType, Page, topUp} from '../src'\r\n// ************************* FOR NOTE ************************* //\r\nexport const scrollTop=()=>document.getElementById('root')?.scroll({top:0,left:0,behavior:'smooth',});\r\nexport const pageConfig = { onChange:() => scrollTop() }\r\nexport type CustomPage =\r\n   {portname:string[], isHome:boolean,\r\n    pathname:string[], status:string, }\r\nexport const customPage : Partial<Page<CustomPage>> = {\r\n    isSign:false,status:\"\", portname: ({isLocal}) => isLocal?[\"3000\",\"8000\",\"8000\"]:[],\r\n    isHome:({id}) => !id  , pathname: ({id,status}) =>\r\n        [   `/note/${ id?id+'/':'' }`,\r\n        `/api/note/${ id?id+'/':'' }`,\r\n        status!==\"UP\"? `/auth/`: `/api/user/`]\r\n}\r\nexport const fetcher = async (url:URLType,headers={'Content-Type':'application/json'}) =>\r\n   axios.get(url.href, {headers})\r\n        .then(res => {\r\n            if(!res || res.status!==200)\r\n                throw new Error('Bad Request')\r\n            return res.data\r\n        })\r\nexport const signin = async (url:URLType, cred:Credit, headers={'Content-Type':'application/json'}) =>\r\n   axios.post(url.href, cred, {headers})\r\n        .then((res) => {\r\n            if (res.status>201 || !res.data.token)\r\n                throw new Error('Bad Request')\r\n            return {username:cred.username, authtoken:res.data.token}\r\n        })\r\n\r\n// ************************* FOR HOOK ************************* //\r\nexport const hookTree = [\r\n    [\"Components\",\"Card\",\"Code\",\"Grow\",],//\"Head\",\"Icon\"],\r\n    [\"Containers\",\"Notes\",\"Split\",\"Trees\"],\r\n    [\"Mesh\",\"Kinect\",\"Model\",\"Motion\"],\r\n    [\"Home\",\"Title\"]\r\n]\r\nexport type  HookPage = {pathname:string, Hook:any, code:any, codes:any}\r\nconst getval = (obj={},key='') => key in obj ? (obj as any)[key] : \"\"\r\nexport const hookPage = {\r\n    pathname: ({id=\"\"}) => `/hook/${id}`,\r\n    Hook : ({id=\"\",codes={}}) => getval(codes, 'Hook' + topUp(id)), //'page' +\r\n    code : ({id=\"\",codes={}}) => getval(codes, 'code' + topUp(id)),\r\n    codes: Object.assign({}, ...Object.entries(CODES).map(([k,v])=>({[k]:v})))\r\n}\r\n","/** ************************* USE PAGE *************************\r\n * This is a hook to record the URL of the Restfl API\r\n *   - `const [page, set] = usePage({id:null,home:({id})=>!id}, config)`\r\n *   - `const onClick=()=>set({id:90}, config)`\r\n *   - ```\r\n *     {Page, id:null}  <=data=> (DB1 : URL1 by id), (DB2 : URL2 by id)\r\n *          | change id\r\n *          |  => change URLs by id (e.g. /api to /api/90)\r\n *          v  => change user state (e.g. home:true to home:false)\r\n *     {New Page, id:90}\r\n *     ```\r\n * # ***** usePage API Configs *****\r\n * ## Props Values\r\n *   - `const _ = usePage(@initPage, @config)`\r\n *   - @initPage = {\r\n *         @isHome  :boolean\r\n *         @isLocal :boolean\r\n *         @id      :string e.g. 2\r\n *         @protocol:string e.g. \"https:\"\r\n *         @hostname:string e.g. \"localhost\"\r\n *         @portname:string e.g. \"3000\"   or [\"3000\"(npm), \"8000\"(django)]\r\n *         @pathname:string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @search  :string e.g. \"/note/\" or [\"/note/\", \"/api/note/\"]\r\n *         @hash    :string e.g. \"#note\"  or [\"#note\"]\r\n *   - @config = {TODO}\r\n *   - type MultiPage<T=any> = T|T[]|((p:Page)=>T|T[])\r\n * ## Return Values\r\n *   - @page : {...@initPage(as T|T[]),\r\n *         @url ?: from initPage parameters    e.g. \"http...\" or [\"http...\", ...more]\r\n *         @XXX ?: any value you set when init e.g. @home:true\r\n *   - @set   : (args) => void ( setState )\r\n ** ************************* ********* *************************/\r\n\r\nimport {useEffect, useState, useCallback, useRef} from 'react'\r\nimport {pageConfig as defaultConf, defaultPage, normPage} from '../utils'\r\nimport {Page , PageConfig as Conf, BasicProps, BasicState, BasicAction} from '../types'\r\nexport const usePage = <T extends {}={}>(\r\n    props :BasicProps<Partial<Page<T>>>,//BasicProps<Page<T>>,\r\n    config:BasicProps<Partial<Conf<T>>>={},\r\n) : [Page<T>, BasicAction<Partial<Page<T>>>] => {\r\n    if (typeof props===\"function\") props  = props()\r\n    if (typeof config===\"function\")config = config()\r\n    const pageRef = useRef<Page<T>>({...defaultPage, ...props } as Page<T>)\r\n    const confRef = useRef<Conf<T>>({...defaultConf, ...config} as Conf<T>)\r\n    const [page,set] = useState<Page<T>>( normPage(pageRef.current) )\r\n    const setPage = useCallback((state:BasicState<Partial<Page<T>>>) => {\r\n        if (typeof state===\"function\")\r\n            state = state(pageRef.current as Partial<Page<T>>)\r\n        pageRef.current = {...pageRef.current, ...state}\r\n        set(pre => {\r\n            const newPage = normPage(pageRef.current)\r\n            if (pre.pathname===newPage.pathname)\r\n                return newPage\r\n            window.history.pushState('','',\r\n                newPage.pathname instanceof Array\r\n                  ? newPage.pathname[0]||''\r\n                  : newPage.pathname   ||'')\r\n            return  newPage\r\n        })\r\n    }, [set])\r\n    useEffect(() => {\r\n        const {onChange} = confRef.current\r\n        typeof onChange===\"function\" && onChange()\r\n    }, [page.id])\r\n    return [page, setPage]\r\n}\r\n","import React, {CSSProperties as CSS, FC, useMemo} from 'react'\r\nimport {Props} from '../types'\r\nimport { useSpring, animated as a } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\nexport type Icon = FC<Props>\r\nexport const Icon:Icon = ({\r\n    fa=\"\",dark=false,circ=true,size=1,onOpen=null, //onClose=null,\r\n    children,className='',...props//,color=''\r\n}) => {\r\n    const [{xys}, set] = useSpring(() => ({xys:[0,0,0]}))\r\n    const bind = useGesture({\r\n        onMove : ({vxvy:[vx,vy],last}) => set({xys:[vx,vy,last?0:1]})\r\n    })\r\n    const color = useMemo(()=>props.color||circ\r\n      ? dark?\"#818181\":\"#fff\"\r\n      : \"#212121\",[props.color,circ,dark])\r\n    const style = useMemo<CSS>(() => ({\r\n        padding:\"0px\",top:0,right:0,textAlign:\"center\",userSelect:\"none\",\r\n        ...(circ?{borderRadius:size*50,background:\"#212121\"}:{}),\r\n        ...props.style,color,height:size*50,width:size*50,fontSize:size*50\r\n    }), [size,circ,color,props.style] )\r\n    return <a.div style={{\r\n                x : xys.interpolate((x,y,s) => x*size*50+y*s),\r\n                y : xys.interpolate((x,y,s) => y*size*50+x*s),\r\n                filter : xys.interpolate((x,y,s) => [\r\n                    `drop-shadow(${0.1+x}rem`, // -x~0.5~x\r\n                                `${0.5+y}rem`, // -y~1.5~y\r\n                                `${1-s/2}rem`, // 1 =hover=> 0.5\r\n                    `rgba(0,0,0, ${0.5+s/20}))`// 0.50 =hover=> 0.55\r\n                ].join(' ')),\r\n                transform : xys.interpolate((x,y,s) => [\r\n                    `perspective(${size*50}px)`,\r\n                    `rotateX(${-y}deg)`,//-1 ~ 1\r\n                    `rotateY(${x}deg)` ,//-1 ~ 1\r\n                    `scale(${1+s/10})` ,// 1 ~ 1.1\r\n                ].join(' ')),\r\n            ...style} as CSS}\r\n           {...{children,className:className+fa?` fas fa-${fa}`:\"\"}}\r\n           {...bind()} {...props} />\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {Props} from'../types'\r\nimport {Trees} from '../containers'\r\nimport {Icon} from '../components'\r\nconst styles:{[key:string]:CSS} = {\r\n    area: {position:\"fixed\",top:0,left:0,height:\"100%\",zIndex:1},\r\n    cont: {position:\"fixed\",top:\"2%\",left:0,zIndex:1,overflowX:\"hidden\",height:`96%`},\r\n    icon: {position:\"absolute\",transform:`translate(-50%,-50%)`},\r\n    item: {padding:\"10px 10px 10px 32px\",color:\"#818181\",display:\"block\",}\r\n}\r\nexport const SidesArea :FC<Props> = ({spring, bind, size=1}) =>\r\n    <a.div style={{...styles.area,\r\n        width     : spring.x.to((x:number)=>x>1?\"100%\":`${size*50/2}px`),\r\n        background: spring.scale.to((s:number)=>{\r\n            const rate  = spring.x.animation.to/window.innerWidth //0 ~ 0.5\r\n            return `linear-gradient(90deg,rgba(0,0,0,${rate+s-1}),rgba(0,0,0,0))`})\r\n        }} {...bind()} />\r\n\r\nexport const SidesContainer : FC<Props> = ({size=1, spring, children}) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.x.interpolate((x:number)=>x>0?x:0),\r\n        borderRadius:`0px ${50*size}px ${50*size}px 0px`,\r\n        backgroundColor:\"#212121\"}}>\r\n        <div style={{margin:`${50*size}px 0px 0px 0px`, position:\"absolute\"}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const SidesIcon : FC<Props> = ({spring, bind, circ=false, size=1}) =>\r\n    <a.div {...bind()} style={{...styles.icon,...spring,top:size*50,left:size*50}}>\r\n        <Icon fa=\"align-left\" {...{circ,size}} />\r\n    </a.div>\r\n\r\nexport const SidesItem :FC<Props> = ({children, size=1}) =>\r\n    <a.div style={{...styles.item,transition:\"0.75s\",fontSize:50*size}}\r\n        onClick={(e:any)=>e.stopPropagation()}>{children}</a.div>\r\n\r\nexport type Sides = FC<Partial<Props<{}>>>\r\nexport const Sides:Sides = ({children, width=window.innerWidth/2,dark=false,size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool=true)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring( () => ({x:0,y:0,scale:1}) )\r\n    const open =(v=0)=>1&&(setOpened(true),set({x:width,y:0,config:v!==0?config.wobbly:config.slow}))\r\n    const close=(v=0)=>1&&(setOpened(false),set({x:0    ,y:0,config:{...config.stiff,velocity:v }}))\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:(opened.current?width:0)+(down?mx:0),y:down?my:0})\r\n            if(!opened.current) return (mx===0||mx> width*0.5||vx> 0.5) ? open(vx) : close(vx)\r\n            if( opened.current) return (mx===0||mx<-width*0.5||vx<-0.5) ? close(vx): open(vx)\r\n        },\r\n    })\r\n    return (\r\n        <div style={{position:\"fixed\", top:0,left:0,zIndex:100}}>\r\n            <SidesIcon   {...{size, spring, bind, }} />\r\n            <SidesArea     {...{size, spring, bind, }} />\r\n            <SidesContainer{...{size, spring, bind, }}>\r\n            <Trees {...{dark:true,size}}>\r\n                {React.Children.map(children, ((child, key) =>\r\n                    <SidesItem {...{size, key}}>{child}</SidesItem>\r\n                ))}\r\n            </Trees>\r\n            </SidesContainer>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC,CSSProperties as CSS,useCallback,useRef} from 'react';\r\nimport {useSpring, animated as a, config, UseSpringProps} from 'react-spring'\r\nimport {useGesture} from 'react-use-gesture'\r\nimport {Props} from '../types'\r\nimport {Icon} from '../components'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    top : {position:\"fixed\",top:0,right:0,zIndex:100                        },//*dev*/, background:\"rgba(0,0,0,.1)\"},\r\n    area: {position:\"fixed\",top:0,right:0,height:\"100%\"                     },//*dev*/,background:\"rgba(255,0,0,.1)\"},\r\n    cont: {position:\"fixed\",height:`96%`,top:\"2%\",right:0,overflowX:\"hidden\"},//*dev*/,background:\"rgba(0,255,0,.1)\"},\r\n    icon: {position:\"absolute\",right:0,transform:`translate(-50%,-50%)`     },//*dev*/,background:\"rgba(0,0,255,.1)\"},\r\n    item: {backgroundColor:\"#212121\",color:\"#818181\", display:\"inline-block\"},\r\n}\r\nexport const TransArea :FC<Props> = ({size=1, spring}) =>\r\n    <a.div style={{\r\n        width: spring.r.interpolate((r:number)=>`${\r\n            50*size*( Math.cos(r/90*Math.PI)+1.5)\r\n        }px`),\r\n        background: spring.scale.interpolate((s:number)=>[\r\n            `linear-gradient(90deg`,\r\n            `rgba(0,0,0,0)`,\r\n            `rgba(0,0,0,${s-1}))`\r\n        ].join(',')),\r\n        ...styles.area}}\r\n       />\r\n\r\nexport const TransIcon : FC<Props> = ({size=1, spring, circ=false}) =>\r\n    <a.div style={{...styles.icon, top:50*size, rotateZ:spring.r}}>\r\n        <Icon fa=\"align-justify\" {...{circ,size}} />\r\n    </a.div>\r\n\r\nexport const TransContainer : FC<Props> = ({children, size=1, spring, }) =>\r\n    <a.div style={{...styles.cont,\r\n        width:spring.r.interpolate((r=0) => `${ 50*size*(Math.cos(r/90*Math.PI)+1) }px` )}}>\r\n        <div style={{margin:`calc(${50*size*2}px - 2%) 0px 0px 0px`}}>{children}</div>\r\n    </a.div>\r\n\r\nexport const TransItem :FC<Props> = ({children, size=1}) =>\r\n    <a.div style={{...styles.item,\r\n        margin:`${50*size/4}px 0px`,\r\n        borderRadius:`${50*size}px 0px  0px ${50*size}px`,}}>\r\n        <div onClick={e=>e?.stopPropagation()} style={{\r\n            height:50*size, margin:`auto ${50*size/2}px`,\r\n            fontSize:50*size, zIndex:1, display:\"flex\", alignItems:\"center\",\r\n        }}>{children}</div>\r\n    </a.div>\r\n\r\nexport const Trans : FC<Props> = ({children, size=1, onOpen=()=>null}={}) => {\r\n    const opened = useRef<boolean>(false)\r\n    const setOpened = useCallback((bool:boolean)=>1&&( (opened.current=bool), onOpen&&onOpen() ),[onOpen])\r\n    const [spring, set] = useSpring<UseSpringProps>( () => ({x:0, y:0, r:90, scale:1,}) )\r\n    const getr = (velocity=0) => {\r\n        const pre  = ~~(spring.r.animation.to/90) //  Math.round( spring.r.animation.to/90 || 0 ) //\r\n        const unit = ((opened.current?1:0) === (pre%2)?0:1) ? 0:1 //to change:1 no diff:0\r\n        return 90 * ( pre + unit * (velocity<0?-1:1) )\r\n    }\r\n    const open  =(v=0)=>1&&(setOpened(true) ,set({r:getr(v),config:v!==0?config.wobbly:config.slow}))\r\n    const close =(v=0)=>1&&(setOpened(false),set({r:getr(v),config:{...config.stiff }}))\r\n    const onBind=({mx=0,vx=0,down=false,last=false}) => {\r\n        if (!last) return set({r:spring.r.animation.to+(down?2*(-mx)/size/500:0)})\r\n        if(!opened.current) return (mx===0||mx<-size*250||vx<-0.5) ?  open(-vx) : close(-vx)\r\n        if( opened.current) return (mx===0||mx<-size*250||vx<-0.5||0.5<vx) ? close(-vx) :  open(-vx)\r\n    }\r\n    const bind = useGesture({\r\n        onHover: ({hovering}) => set({scale:hovering?1.2:1}),\r\n        onPinch: ({last,down,offset :[_,a]})  => onBind({down,last,vx:0,mx:a}),\r\n        onDrag : ({last,down,vxvy:[vx,],movement:[mx,],}) => onBind({down,last,vx,mx:mx})\r\n    })\r\n    return (\r\n        <a.div {...bind()} style={{...styles.top}}>\r\n            <TransIcon      {...{size, spring, }} />\r\n            <TransArea      {...{size, spring, }} />\r\n            <TransContainer {...{size, spring, }} >\r\n            {React.Children.map(children, ((child, key:number)=>\r\n                <TransItem {...{size/*, spring*/, key}} >{child}</TransItem>\r\n            ))}\r\n            </TransContainer>\r\n        </a.div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC} from 'react';\r\nimport {useGrid}  from 'use-grid';\r\nimport {Controls} from 'react-three-gui';\r\nimport {Helmet}   from 'react-helmet-async';\r\nimport {hookTree,hookPage,HookPage,pageConfig} from './utils';\r\n\r\nimport {is,topUp,usePage,Card,Code,Notes,Sides,Split,Trees,Trans} from '../src'\r\nconst styles:{[key:string]:CSS} = {\r\n    top : {position:\"relative\",transition:\"1s\",overflowX:\"hidden\",minHeight:\"100%\",},\r\n    item: {position:\"relative\",height:\"100vh\",},\r\n    card: {position:\"relative\",overflow:\"hidden\",width:\"100%\",height:\"100%\",},\r\n    ctrl: {position:\"relative\",width:\"100%\",top:0,left:0,margin:0,padding:0},\r\n}\r\nconst CardHook:FC = (props) => <Card min={-1} style={styles.card} rate={.1} {...props}/>\r\nexport const Hook:FC = () => {\r\n    const [dark, setDark] = useGrid<number>({init:0, md:1, lg:0  })\r\n    const [size, setSize] = useGrid<number>({init:0, md:1, lg:1.5})\r\n    const [page, setPage] = usePage<HookPage>(hookPage, pageConfig)\r\n    const [side, setSide] = useGrid({xs:0,sm:size*100,lg:89/233,init:250})\r\n    return (\r\n    <div style={{...styles.top,background:dark?\"#000\":\"#fff\"}}>\r\n        {   (page.hash===\"#app\"&&page.Hook&&<page.Hook/>)\r\n        ||  (page.hash===\"#raw\"&&page.code&&<>{page.code}</>)\r\n        ||  (\r\n        <Split order={page.Hook?[side,-1]:[1,0]} min={.1} styleItem={styles.item}>\r\n            <Notes {...{dark,size,space:\"1rem\"}}>\r\n                <CardHook {...{dark,size}}>{page.Hook &&\r\n                    <Controls\r\n                        title={topUp(page.id)} anchor='top_left'\r\n                        style={{background:dark?\"#212121\":\"#fff\",...styles.ctrl,\r\n                                color:dark?\"#818181\":\"#000\",fontSize:size*25,x:0,y:0}}\r\n                        collapsed={true}/>}\r\n                </CardHook>\r\n                <CardHook {...{dark,size}}>\r\n                    <Trees  {...{dark,size:size/2,root:page.id?0:1}}\r\n                            {...(page.id?{fontSize:\"14px\"}:{})}\r\n                            topStyle={{padding:page.Hook?25*size:100*size}}\r\n                            content ={\r\n                            <span onClick={() => setPage({id:\"\"})}>Hook</span>}>\r\n                        { hookTree.map((ids,i) => ids instanceof Array\r\n                        ?   <span key={i}>{ ids.map((id, j) =>\r\n                            <span key={id} onClick={() => j&&setPage({id})}>{id}</span>) }</span>\r\n                        :   <span key={i}  onClick={() =>    setPage({id:ids})}>{ids}</span>) }\r\n                    </Trees>\r\n                </CardHook>\r\n            </Notes>\r\n            <Notes {...{dark,size,space:\"1rem\"}}>\r\n                <CardHook {...{dark,size}}>\r\n                    {page.Hook && <page.Hook />}\r\n                </CardHook>\r\n                { page.code && is.str(page.code) &&\r\n                <CardHook {...{dark,size}}>\r\n                    <Code {...{dark,size,code:page.code}}/>\r\n                </CardHook> }\r\n            </Notes>\r\n        </Split>)}\r\n        <Sides {...{size}}>\r\n            <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n            <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n            <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n        </Sides>\r\n        <Trans {...{size}}>\r\n            <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n            <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            <div onClick={()=>setSide((p:any)=>p.lg?{xs:0,sm:0,lg:0}:{xs:0,sm:250,lg:1/3})}>{side?'':''}</div>\r\n            <div onClick={()=>setPage(p=>({hash:p.hash!==\"#app\"?\"#app\":\"\"}))}>{page.hash===\"#app\"?'':''}</div>\r\n            <div onClick={()=>setPage(p=>({hash:p.hash!==\"#raw\"?\"#raw\":\"\"}))}>{page.hash===\"#raw\"?'':''}</div>\r\n        </Trans>\r\n        <Helmet>\r\n            <title>TSEI.jp {topUp(page.id)}</title>\r\n            <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n        </Helmet>\r\n    </div>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS, FC, useState} from 'react'\r\n//import { Card, Foot, Head } from '../src/components'\r\nimport { /*Modal, Pills, */Sides, Trans } from '../src/containers'\r\nimport { useGrid } from 'use-grid'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { TransformControls } from 'drei'\r\nimport { Kinect } from '../src'\r\nimport * as THREE from 'three'\r\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {position:\"fixed\",top:0,left:0,width:'100%',height:'100%'},\r\n}\r\n\r\nexport const None :FC = () => {\r\n    const [lang, setLang] = useState<string>(window?.navigator?.language||'ja')\r\n    const [dark, setDark] = useGrid<boolean>({md:true, lg:false})\r\n    const [size, setSize] = useGrid<number> ({md:1    , lg:1.5 })\r\n    return (\r\n        <>\r\n            <div style={{...styles.top, background:dark?\"#000\":\"#fff\"}}>\r\n                <Canvas gl={{ alpha: false, antialias: false, logarithmicDepthBuffer: true }}\r\n                        camera={{ position:[0,0,500], far:2000 }}\r\n                        pixelRatio={window.devicePixelRatio}\r\n                        onCreated ={({gl}:any) => {\r\n                            gl.outputEncoding = THREE.sRGBEncoding\r\n                            gl.toneMapping    = THREE.ACESFilmicToneMapping }}>\r\n                    <ambientLight intensity={1.1} />\r\n                    <pointLight position={[100, 100, 100]} intensity={2.2} />\r\n                    <pointLight position={[-100, -100, -100]} intensity={5} color=\"red\" />\r\n                    <gridHelper position={[0,-1000,0]} args={[2000,50]}/>\r\n                    <TransformControls>\r\n                        <Kinect url=\"/static/core/kinect.mp4\"/>\r\n                    </TransformControls>\r\n                </Canvas>\r\n            </div>\r\n            <Helmet>\r\n                <title>404 NOT FOUND</title>\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n            <Sides {...{size}}>\r\n                <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n                <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n                <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'en':'ja')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size<75?'':''}</div>\r\n            </Trans>\r\n        </>\r\n    )\r\n}\r\n","import React, {CSSProperties as CSS,FC,useEffect,useCallback,useMemo} from 'react';\r\nimport {useSpring, animated as a} from 'react-spring';\r\nimport {useGesture} from 'react-use-gesture';\r\nimport {createPortal} from 'react-dom';\r\nimport {Props} from '../types';\r\nexport type Modal = FC<Props<{open:boolean}>>\r\nexport const Modal:Modal = ({\r\n        open=false, onClose=null, dark=false, size=1, //onOpen=null,\r\n        children, color=\"\", ...props\r\n    }) => {\r\n    const width = useMemo(()=>500 * size,[size])\r\n    const [spring, set] = useSpring(()=>({x:0,y:-width,scale:0}))\r\n    useEffect(()=>{open&&set({x:0,y:0,scale:1})}, [open, set])\r\n    const close=useCallback( (vx=0,vy=0) => {\r\n        set({x:vx*width, y:(vy-1)*width, scale:0})\r\n        onClose && setTimeout(()=>onClose(), vx**2+vy**2)\r\n    }, [onClose, width, set] )\r\n    const bind = useGesture({\r\n        onHover : ({hovering}) => set({scale:hovering?0.9:1}),\r\n        onDrag : ({last,down,vxvy:[vx,vy],movement:[mx,my],cancel}) => {\r\n            if ((my<-width*.5||width*.5<my) && cancel) cancel()\r\n            if (!last) return set({x:down?mx:0,y:down?my:0})\r\n            return (mx**2>width**2/4||vx**2+vy**2>10)\r\n                ? close(vx,vy)\r\n                : set({x:0,y:0,scale:1})\r\n        },\r\n    })\r\n    const root = useMemo<HTMLElement|null>(()=>document.getElementById('root'),[])\r\n    const style = useMemo<CSS>(()=>({\r\n        left:0, width:\"100%\",  display:\"flex\",justifyContent:\"center\",\r\n        top:0, height:\"100%\", position:\"fixed\",   alignItems:\"center\",\r\n        transition:\"1s\", color:color||dark?\"#212121\":\"#000\",\r\n        zIndex:200,background:`rgba(${dark?\"80,80,80\":\"0,0,0\"},.5)`, ...props.style\r\n    }), [dark, color, props.style])\r\n    return open ? createPortal(\r\n        <div style={style} onClick={()=>onClose&&onClose()}>\r\n            <a.div style={{position:\"relative\",...spring}} {...bind()}\r\n                onClick={e=>e.stopPropagation()}>\r\n                {children}\r\n            </a.div>\r\n        </div>\r\n    , root as HTMLElement) : null\r\n}\r\n","import React, {FC,Children,CSSProperties as CSS,\r\n    useCallback,useMemo,useState,useRef} from 'react'\r\nimport {useSprings, animated} from 'react-spring'\r\nimport {Props} from '../types'\r\nconst styles:{[key:string]:CSS} = {\r\n    pill: {position:\"absolute\",padding:\"0px\",zIndex:1,transform:`translate(-50%,-50%)`,}\r\n}\r\nexport type Pills = FC<Props<{\r\n    position: {x:number, y:number, r:number},\r\n    depth:number, rate:number, size:number,\r\n    isOpen:boolean\r\n}>>\r\nexport const Pills:Pills = ({\r\n    position={x:0,y:0,r:Math.PI/4}, depth=0, rate=1.414,\r\n    size=1, isOpen=true, ...props\r\n}) => {\r\n    const length = useMemo( () => (props?.children as any)?.length||1, [props] )\r\n    const childPos = useRef( Array(length).fill(position) )\r\n    const fn = useCallback(() => (i=0) => {\r\n        const r = position.r/2 + (Math.PI/2) * ((length-i-1)*10+1)/((length-1)*10+2)-Math.PI/8\r\n        const x = isOpen ?  50*rate*size*Math.cos(r) : 0\r\n        const y = isOpen ? -50*rate*size*Math.sin(r) : 0\r\n        childPos.current[i] = {x,y:-y,r}\r\n        return {x, y, scale:isOpen?1:0 }\r\n    }, [isOpen, length, position.r, rate, size])\r\n    const [springs, set] = useSprings( length, fn() )\r\n    const [childHub, setChildHub] = useState( Array(length).fill(false) )\r\n    const setHub = useCallback((e, key)=>{\r\n        setChildHub(p => Object.assign([], p, {[key]:!p[key]}))\r\n        e.stopPropagation()\r\n    },[])\r\n    const children = useMemo(() => Children.map( props.children, (child,key) => {\r\n        set(fn())\r\n        return child && (child as any)?.props?.children\r\n          ? React.cloneElement(child as any, {children:\r\n                <Pills {...{key, isOpen:isOpen&&childHub[key],\r\n                    depth:depth+1, position:childPos.current[key],\r\n                    rate:rate*(1+(depth+1)*0.2),\r\n                    fontSize:50*size/(1+(depth+1)*0.2),\r\n                    ...((child as any).props||{})}}/>\r\n            })\r\n          : child\r\n    }), [childHub, depth, fn, isOpen, props.children, rate, set, size])\r\n    return (\r\n        <div style={{position:\"fixed\",left:position.x,bottom:position.y}}>\r\n            {springs.map((spring, key) =>\r\n                <animated.div key={`${depth}-${key}`} style={{...spring, ...styles.pill}}\r\n                    onClick={e=>setHub(e, key)}>\r\n                    {(children as any)[key]}\r\n                </animated.div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC, CSSProperties as CSS,useState, useMemo} from 'react'\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { MDBInput, MDBBtn } from 'mdbreact'\r\nimport { Mdmd } from '@tsei/mdmd'\r\nimport { useGrid } from 'use-grid'\r\nimport { Card, Grow, Head, Icon } from '../src/components'\r\nimport { useNote, usePage, useUser } from '../src/hooks'\r\nimport { Modal, Notes, Pills, Sides, Trans } from '../src/containers'\r\nimport { customPage, CustomPage, pageConfig, fetcher, signin, scrollTop } from './utils'\r\n\r\nconst styles:{[key:string]:CSS} = {\r\n    top: {minHeight:\"100%\",overflow:\"hidden\"},\r\n}\r\nexport const Note :FC = () => {\r\n    // ******************** FOR FETCH ******************** //\r\n    const [page, setPage] = usePage<CustomPage>(customPage, pageConfig)\r\n    const [note, setNote] = useNote(page.urls[1], fetcher)\r\n    const [user, setUser] = useUser(page.urls[2], signin, {onSign:()=>setPage({status:\"\"})})\r\n    // ******************** FOR DESIGN ******************** //\r\n    const [lang, setLang] = useState<string>(page.language)\r\n    const [size, setSize] = useGrid <number>({md:1, lg:1.5})\r\n    const [dark, setDark] = useGrid <number>({md:1, lg:0  })\r\n    // ******************** FOR RENDER ******************** //\r\n    const onView       = useMemo(()=>()=>setNote(p=>p?.next),[setNote])\r\n    const onClick      = useMemo(()=>()=>setPage({id:\"\"})   ,[setPage])\r\n    const onSignin     = useMemo(()=>()=>setPage(p=>({status:p.status===  \"\"?\"IN\":\"\"  })),[setPage])\r\n    const onMouseEnter = useMemo(()=>()=>setPage(p=>({status:p.status===\"UP\"?\"IN\":\"UP\"})),[setPage])\r\n    const [left,right] = useMemo(()=>{\r\n        const style = {transform:\"translate(-50%)\",left:\"50%\",marginTop:size*50}\r\n        return [\"cooment\",\"arrow-left\"].map(fa => (<Icon {...{fa,size,style,onClick}}/>))\r\n    }, [size,onClick])\r\n    return (\r\n        <div style={{...styles.top, background:dark?\"#000\":\"#f1f1f1\", paddingTop:size*100,}}>\r\n            <Head {...{dark,size,onClick,}}>Note</Head>\r\n            { note && note.results instanceof Array &&\r\n            <Notes {...(page.isHome?{}:{size,left,right})}>{note.results.map(({\r\n                ja_text=\"\",//note_id=\"\",author_name=null, //,posted_time=null,\r\n                en_text=\"\",     id=\"\" }) =>\r\n                <div key={id}>\r\n                    <Card {...{...page.isHome?{max:500,onClick:()=>setPage({id:id+\"\"})}:{size},dark,space:size*25}}>\r\n                        <Mdmd color={dark?\"dark\":\"elegant\"} style={{fontSize:\"1.2rem\"}}\r\n                             source={lang===\"ja\"?ja_text:en_text}/>\r\n                    </Card>\r\n                </div> )}\r\n            </Notes> } { (!note || note.next) &&\r\n            <Grow {...{size,onView,onClick:()=>setNote(p=>p?p?.next||p?.now:null )}} /> }\r\n            {/******************** Modals ********************/}\r\n            <Modal {...{dark,size,open:!!page.status,onClose:()=>setPage({status:\"\"})}}>\r\n                <Card {...{dark,size,style:{max:\"100vh\"},space:size*25}}>\r\n                    <Head {...{dark,size,onMouseEnter}}>SIGN {user.isAuth?\"OUT\":page.status}</Head>\r\n                    {!user.isAuth && user.input.map((v,k)=>v.name===\"email\"&&page.status!==\"UP\"?null:\r\n                    <MDBInput {...v} key={k}/> )}\r\n                    <MDBBtn color=\"elegant\"\r\n                        style={{width:\"100%\",borderRadus:size*50}}\r\n                        onClick={()=>setUser(page.urls[2])}\r\n                        children={user.isAuth?\"Signout\":\"Get!\"}/>\r\n                </Card>\r\n            </Modal>\r\n            {/******************** FANTASTIC UI ********************/}\r\n            <Sides {...{size}}>\r\n                <a style={{color:\"#818181\"}} href=\"/\"    >Home</a>\r\n                <a style={{color:\"#818181\"}} href=\"/hook\">Hook</a>\r\n                <a style={{color:\"#818181\"}} href=\"/note\">Note</a>\r\n            </Sides>\r\n            <Trans {...{size}}>\r\n                <div onClick={()=>setLang(p=>p!=='ja'?'ja':'en')}>{lang.toUpperCase()}</div>\r\n                <div onClick={()=>setDark((p:any)=>({md:p.lg,lg:p.md}))}>{dark?'':''}</div>\r\n                <div onClick={()=>setSize((p:any)=>({md:p.lg,lg:p.md}))}>{size>1?'':''}</div>\r\n            </Trans>\r\n            <Pills {...{size}}>\r\n                <Icon fa=\"ellipsis-h\"        {...{dark,size}} onClick={()=>null}>\r\n                    <Icon fa=\"arrow-left\"    {...{dark,size}} onClick={onClick}/>\r\n                    <Icon fa=\"location-arrow\"{...{dark,size}} onClick={scrollTop}/>\r\n                    <Icon fa=\"sign-in-alt\"   {...{dark,size}} onClick={onSignin}/>\r\n                </Icon>\r\n            </Pills>\r\n            <Helmet>\r\n                <title>{note?\"note\":\"Loading...\"}</title>\r\n                <meta charSet=\"utf-8\" />\r\n                <meta name=\"Hatena::Bookmark\" content=\"nocomment\" />\r\n                <link rel=\"canonical\" href=\"https://tsei.jp/\" />\r\n            </Helmet>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TODO : make in last of note\r\n// !isHome && (note.children||[]).map((child:any,i:number) =>\r\n//     <Card {...{key:i,dark,size,style:{fontSize:\"1.2rem\"}}}>\r\n//         <Mdmd source={child[`${lang}_text`]}/>\r\n//     </Card>)\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {unregister} from './serviceWorker';\nimport {HelmetProvider} from 'react-helmet-async';\nimport {ControlsProvider} from 'react-three-gui';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\n\n// import {Home} from './Home';\nimport {Hook} from './Hook';\nimport {None} from './None';\nimport {Note} from './Note';\n\nimport './styles.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nconst App = (\n    <HelmetProvider>\n        <ControlsProvider>\n            <BrowserRouter>\n                <Switch>\n                    <Route    path=\"/\"     component={None} exact/>\n                    <Route    path=\"/note\" component={Note}/>\n                    <Route    path='/none' component={None}/>\n                    <Route    path='/hook' component={Hook}/>\n                    <Redirect path=\"/home\" to='/' />\n                    <Redirect              to='/none' />\n                </Switch>\n            </BrowserRouter>\n        </ControlsProvider>\n    </HelmetProvider>\n)\n\nReactDOM.render( App , document.getElementById('root'));\nunregister();\n","import { useEffect, useCallback, useState, useRef } from 'react'\r\nimport { None, NoteNode as NN, NoteGetter, NotePoster, NoteConfig, URLType, BasicProps } from '../types'\r\nimport { is, equalPathname } from '../utils'\r\n//import useSWR from 'swr'\r\nexport const useNote = (\r\n    initGetURL: BasicProps<URLType|string>,\r\n    initGetter: NoteGetter|null=null,\r\n    initPoster: NotePoster|null=null,\r\n    initNoteConfig: Partial<NoteConfig>={}\r\n) : [ NN, (\r\n        updateGetURL: ((pre:NN)=>None<URLType|string>)|None<URLType|string>,\r\n        updateGetter?: NoteGetter|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void, (\r\n        updatePoster?: NotePoster|null,\r\n        updateConfig?: Partial<NoteConfig>\r\n    ) => void\r\n] => {\r\n    if (is.fun(initGetURL)) initGetURL = initGetURL()\r\n    if (is.str(initGetURL)) initGetURL = new URL(initGetURL)\r\n    const getURLRef  = useRef<URLType>()\r\n    const getterRef  = useRef(initGetter)\r\n    const posterRef  = useRef(initPoster)\r\n    const configRef  = useRef(initNoteConfig)\r\n    const isFetching = useRef<boolean>(false)\r\n    const [note,set] = useState<NN>(null)\r\n    //  *************************  useEffect  *************************  //\r\n    useEffect(() => {\r\n        if (equalPathname(getURLRef.current, initGetURL as URLType)) return\r\n        getURLRef.current = initGetURL as URLType\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (getterRef.current)\r\n            getterRef.current(getURLRef.current).then((res:any) => {\r\n                setTimeout(() => void (isFetching.current = false), 1000)\r\n                set(pre => res || pre)\r\n            })\r\n    }, [initGetURL])\r\n    //  *************************  getNote  *************************  //\r\n    //  * getNote(\"/api/note\", fetcher) => refresh note data from url\r\n    //  * getNote(p=>p.next  , fetcher) => add note data from url\r\n    //  ************************* ************** *************************  //\r\n    const getNote = useCallback((updateURL,updateGetter=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.fun(updateURL   )) updateURL = updateURL(note);\r\n        if (is.str(updateURL   )) updateURL = new URL(updateURL);\r\n        if (is.nul(updateGetter)) updateGetter = getterRef.current;\r\n        const previousURL = getURLRef.current\r\n        getURLRef.current = updateURL\r\n        getterRef.current = updateGetter\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        if (getterRef.current)\r\n            getterRef.current(updateURL).then((res:any) => {\r\n                setTimeout(() => (isFetching.current = false), 1000)\r\n                set(pre => {\r\n                    console.log(\"update\");\r\n                    if (!equalPathname(previousURL, getURLRef.current)) return res\r\n                    const {onChange=null} = configRef.current\r\n                    typeof onChange===\"function\" && onChange()\r\n                    const diff = pre\r\n                      ? (pre.results||[]).filter((p:any) =>\r\n                      ! (res.results||[]).find((r:any) => r.id===p.id)\r\n                    ) : []\r\n                    return {...res, results:[...diff, ...res.results]}\r\n                })\r\n            })\r\n    }, [note])\r\n    //  *************************  postNote  *************************  //\r\n    //  ************************* ************** *************************  //\r\n    const postNote = useCallback((updatePoster=null,updateConfig={}) => {\r\n        if  (isFetching.current) return\r\n        else isFetching.current = true;\r\n        if (is.nul(updatePoster)) updatePoster = posterRef.current;\r\n        posterRef.current = updatePoster\r\n        configRef.current = {...configRef.current, ...updateConfig}\r\n        return\r\n        // TODO\r\n        // posterRef.current().then(res => {\r\n        //     setTimeout\r\n        // })\r\n    }, [])\r\n    return [note, getNote, postNote]\r\n}\r\n","/** *************************  USE USER  *************************\r\n *  This is a hook to manage user info and API\r\n *    - const [user, set] = useUser(url, fetcher)\r\n *    - ```\r\n *      ```\r\n *  # ***** useUser API Configs *****\r\n *  ## Props Values\r\n *    - `const _ = usePage(@initURL, @initFetcher, @initConifg)`\r\n *    - @initURL:string\r\n *    - @initFetcher:function\r\n *    - @initConfig : {\r\n *        @\r\n *      }\r\n *  ## Return Values\r\n *    - `const [user, setUser] = useUser(...)`\r\n *    - @user : {\r\n *        @username : user name from fetched API e.g. tseijp\r\n *        @authtoken: user token from cookie\r\n *        @input    : for input Components\r\n *       ~@credit   : the value to send at fetching~\r\n *        @status   : the acton at fetch e.g. IN, UP, OUT or \"\"\r\n *        @userlang : user language from window.navigator.language e.g. ja, en\r\n *      }\r\n *    - @setUser\r\n *      `setUser()`       : Toggle fetching\r\n *      ~`setUser(null)`   : switch status IN->UP or UP->IN~\r\n *      ~`setUser(boolean)`: switch status '' or IN|UP|OUT~\r\n *  # TODO : from usePages : add following keys\r\n ** ************************* ************** *************************/\r\nimport {useCallback, useState, useMemo, useRef} from 'react'\r\nimport {useCookies} from 'react-cookie'\r\nimport {URLType,User,UserConfig,UserSignin} from '../types'\r\nimport {defaultUserConfig} from '../utils'\r\nexport const useUser = (\r\n    initURL :URLType,\r\n    initSign:UserSignin,\r\n    initConfig:Partial<UserConfig>=defaultUserConfig // TODO to config.keys.map\r\n) : [ User, {(\r\n    updateURL ?:URLType|null,\r\n    updateSignin?:UserSignin|null,\r\n    updateConfig?:Partial<UserConfig>,\r\n) : void } ] => {\r\n    const urlRef    = useRef<URLType>(initURL)\r\n    const signinRef = useRef<UserSignin>(initSign)\r\n    const configRef = useRef<UserConfig>({...defaultUserConfig,...initConfig})\r\n    const [cookies, set, del] = useCookies(configRef.current.keys)\r\n    const [credit, setCredit] = useState({username:cookies.username||'',password:'',email:''})\r\n    // *************************  For setUser  ************************* //\r\n    const setUser = useCallback((\r\n        updateURL    = null,\r\n        updateSignin = null,\r\n        updateConfig = {}\r\n    ) => {\r\n        const {onSign=null,onSignin=null,onSignout=null,onError=null} = initConfig\r\n        if (updateURL)       urlRef.current = updateURL\r\n        if (updateSignin) signinRef.current = updateSignin\r\n        if (updateConfig) configRef.current = updateConfig\r\n        return (cookies.authtoken)\r\n          ? (del('authtoken',{path:'/'}), onSign&&onSign(), onSignout&&onSignout())\r\n          : signinRef\r\n            .current(urlRef.current, credit)\r\n            .then( (user:{[K in 'username'|'authtoken']:string}) => {\r\n                if (!user.username || !user.authtoken)\r\n                    throw new Error()\r\n                onSign   && onSign()  ; set(\"username\" ,user.username ,{path:'/'});\r\n                onSignin && onSignin(); set(\"authtoken\",user.authtoken,{path:'/'});\r\n            })\r\n            .catch((_:any)=>onError&&onError())\r\n    }, [cookies,set,del,credit,initConfig] )\r\n    // *************************  For Render  ************************* //\r\n    const onChange = useCallback(({target}:any) => {\r\n        setCredit(p => ({...p, [target.name]:target.value}) )\r\n    }, [])\r\n    const user = useMemo<User>(() => ({\r\n        username :cookies.username ||'', isAuth:!!cookies.authtoken,\r\n        authtoken:cookies.authtoken||'', input: Object\r\n            .entries({username:'user',password:'lock',email:'envelope'})\r\n            .map(([name,icon]) => ({\r\n                label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n                group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n                ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"})\r\n            }))\r\n    }), [cookies, credit, onChange])\r\n    return [user, setUser]\r\n}\r\n    /*const input = useMemo<User[\"input\"]>(() => Object\r\n        .entries({username:'user',password:'lock',email:'envelope'})\r\n        .map(([name,icon]) => ({\r\n            label: `Type your ${name}`, value: (credit as any)[name], name, icon,\r\n            group: true, validate:true, type: name===\"username\"?\"text\":name, onChange,\r\n            ...(name===\"password\"?{autoComplete:\"on\"}:{error:\"wrong\",success:\"right\"}),\r\n    })), [credit, onChange])\r\n    return [useMemo(() => ({\r\n        username :cookies.username ||'',\r\n        authtoken:cookies.authtoken||'', input,\r\n        //status : sign?\"\":cookies.authtoken?\"OUT\":inup\r\n    }), [cookies, input]), setUser]\r\n}*/\r\n"],"sourceRoot":""}