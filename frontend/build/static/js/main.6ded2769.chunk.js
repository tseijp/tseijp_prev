(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{272:function(e,t,n){e.exports=n(585)},276:function(e,t,n){},585:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(16),r=n(26),c=n.n(r),s=(n(276),n(25)),l=n(7),u=n(11),p=n(9),d=n(8),m=n(80),h=n.n(m),f=n(10),x=n(590),b=n(5),g=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this,n=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},a={Item:(e={padding:"10px 10px 10px 32px",textDecoration:"none",color:"#818181",display:"block",transition:"0.75s"},Object(b.a)(e,n({max:576}),{fontSize:"20px"}),Object(b.a)(e,n({min:576,max:768}),{fontSize:"25px"}),Object(b.a)(e,n({min:768}),{fontSize:"50px"}),Object(b.a)(e,":hover",{color:"#f1f1f1"}),e)};return i.a.createElement("div",{onClick:function(){window.location.href=t.props.link},style:a.Item},this.props.children)}}]),n}(i.a.Component),v=Object(o.a)(g),j=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},n={Items:(e={position:"absolute"},Object(b.a)(e,t({max:576}),{margin:"50px 10px 10px 25px"}),Object(b.a)(e,t({min:576,max:768}),{margin:"50px 10px 10px 25px"}),Object(b.a)(e,t({min:768}),{margin:"75px 10px 10px 25px"}),e)};return i.a.createElement("div",{style:n.Items},this.props.children)}}]),n}(i.a.Component),O=Object(o.a)(j),y=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.props,n=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},a={Toggle:{left:t.isOpen?"200px":"25px",top:"25px",position:"absolute",color:t.isOpen?"#2E2E2E":"#212121",cursor:"pointer",transition:"0.75s"},Icon:(e={},Object(b.a)(e,n({max:576}),{fontSize:"50px"}),Object(b.a)(e,n({min:576,max:768}),{fontSize:"50px"}),Object(b.a)(e,n({min:768}),{fontSize:"75px"}),e)};return i.a.createElement("div",{className:"fixed-top"},i.a.createElement("div",{style:a.Toggle,onClick:t.openSide},i.a.createElement("i",{className:"fas fa-"+(t.isOpen?"angle-left":"align-justify"),style:a.Icon})))}}]),n}(i.a.Component),k=Object(o.a)(y),E=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isOpen:!1},e}return Object(u.a)(n,[{key:"openSide",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"closeSide",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e,t=this.props,n=this.state,a=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},o={Side:(e={height:"100%",position:"fixed",overflow:"hidden",zIndex:1,top:0,left:0,backgroundColor:"#111",overflowX:"hidden",transition:"0.75s"},Object(b.a)(e,a({max:576}),{width:n.isOpen?"250px":"0"}),Object(b.a)(e,a({min:576,max:768}),{width:n.isOpen?"250px":"0"}),Object(b.a)(e,a({min:768}),{width:n.isOpen?"250px":"0"}),e)};return i.a.createElement("div",null,i.a.createElement(k,{isOpen:n.isOpen,openSide:this.openSide.bind(this)}),i.a.createElement("div",{style:o.Side},i.a.createElement(O,{isOpen:n.isOpen,closeSide:this.closeSide.bind(this)},i.a.createElement(f.i,{hint:"Search",type:"text",containerClass:"mt-0"}),i.a.createElement(v,{link:"/note"},"Note"),i.a.createElement(v,{link:"/mdmd"},"Mdmd"),i.a.createElement(v,{link:"/user"},t.isAuth?"Signout":"Signin"))))}}]),n}(i.a.Component),w=Object(o.a)(E),C=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},n={Item:(e={padding:"10px 10px 10px 32px",textDecoration:"none",color:"#212121",display:"block",transition:"0.75s"},Object(b.a)(e,t({max:576}),{fontSize:"50px"}),Object(b.a)(e,t({min:576,max:768}),{fontSize:"50px"}),Object(b.a)(e,t({min:768}),{fontSize:"75px"}),Object(b.a)(e,":hover",{color:"#f1f1f1"}),e)};return i.a.createElement("div",{style:n.Item,onClick:this.props.click},this.props.children)}}]),n}(i.a.Component),S=Object(o.a)(C),I=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},n={Items:(e={right:"10px",position:"fixed"},Object(b.a)(e,t({max:576}),{margin:"25px 10px 10px 25px"}),Object(b.a)(e,t({min:576,max:768}),{margin:"25px 10px 10px 25px"}),Object(b.a)(e,t({min:768}),{margin:"25px 10px 10px 25px"}),e)},a=this.props;return i.a.createElement("div",{style:n.Items},i.a.createElement(f.e,{id:"basicCollapse",isOpen:a.collapseID},a.children))}}]),n}(i.a.Component),z=Object(o.a)(I),M=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},n={Toggle:{right:"25px",top:"25px",position:"absolute",color:"#2E2E2E",cursor:"pointer",transition:"0.75s"},Icon:(e={},Object(b.a)(e,t({max:576}),{fontSize:"50px"}),Object(b.a)(e,t({min:576,max:768}),{fontSize:"50px"}),Object(b.a)(e,t({min:768}),{fontSize:"75px"}),e)};return i.a.createElement("div",{className:"fixed-top"},i.a.createElement("div",{style:n.Toggle,onClick:this.props.click},i.a.createElement("i",{style:n.Icon,className:"fas fa-align-right"})))}}]),n}(i.a.Component),N=Object(o.a)(M),A=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isOpen:!1,collapseID:""},e}return Object(u.a)(n,[{key:"click",value:function(){this.setState({isOpen:!this.state.isOpen,collapseID:this.state.isOpen?"":"basicCollapse"})}},{key:"render",value:function(){var e=this.state;return i.a.createElement("div",null,i.a.createElement(N,{isOpen:e.isOpen,click:this.click.bind(this)}),i.a.createElement(z,{isOpen:e.isOpen,collapseID:this.state.collapseID},i.a.createElement(S,{click:this.props.toJa},"Ja"),i.a.createElement(S,{click:this.props.toEn},"En")))}}]),n}(i.a.Component),_=Object(o.a)(A),H=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.props,n=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},a={container:(e={},Object(b.a)(e,n({max:576}),{margin:"50px 5px 50px 5px"}),Object(b.a)(e,n({min:576,max:768}),{margin:"50px 50px 50px 50px"}),Object(b.a)(e,n({min:768}),{margin:"75px 75px 75px 75px"}),e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(w,{isAuth:t.isAuth}),i.a.createElement(_,{toJa:this.props.toJa,toEn:this.props.toEn}),i.a.createElement("main",{style:t.isMargin?a.container:{}},i.a.createElement(f.f,null,this.props.children)))}}]),n}(i.a.Component),R=Object(o.a)(H),T=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this)).url=window.location.origin.match("localhost")?"http://localhost:8000/":"https://tsei.jp/",a.inputChange=function(e){var t=Object(s.a)({},a.state.credentials);t[e.target.name]=e.target.value,a.setState({credentials:t})},a.signout=function(){a.props.cookies.remove("authtoken",{path:"/"}),window.location.href="/note"},a.signin=function(){var e=a.url+(a.state.isSignIn?"auth/":"api/user/"),t=a.state.headers;h.a.post(e,a.state.credentials,{headers:t}).then((function(e){200!==e.status&&201!==e.status||!e.data.token||(a.props.cookies.set("authtoken",e.data.token,{path:"/"}),a.props.cookies.set("username",a.state.credentials.username,{path:"/"}),window.location.href="/note")})).catch((function(e){window.location.href="/user",a.setState({isAlert:!0})}))};var i=e.cookies.get("username"),o=!!e.cookies.get("authtoken");return a.state={isAuth:o,isSignIn:!0,isAlert:!1,headers:{"Content-Type":"application/json"},credentials:{username:i||"",password:"",email:""}},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t={Login:{margin:"auto auto",padding:"50px 50px",textAlign:"center",boxShadow:"0 10px 15px rgba(0,0,0,0.5)"},Form:{width:"75%",margin:"auto auto"},Head:{fontSize:"50px"},Span:{fontSize:"25px",margin:"auto 25px"},Btn:{borderRadius:"30px",padding:"15px 16px"},Button:{width:"100%",margin:"15px auto"}},n=this.state;return i.a.createElement(R,null,i.a.createElement("div",{style:t.Login},!n.isAuth&&i.a.createElement("form",null,i.a.createElement("h1",{style:t.Head},n.isSignIn?"Sign in":"Sign up",i.a.createElement("span",{style:t.Span},"or"),i.a.createElement(f.c,{color:"dark",style:t.Btn,onClick:function(){return e.setState({isSignIn:!e.state.isSignIn})}},n.isSignIn?"signup":"signin"),i.a.createElement(f.c,{color:"dark",style:t.Btn,onClick:function(){window.location.href="/"}},i.a.createElement("i",{className:"fas fa-home"})),i.a.createElement(f.c,{color:"dark",style:t.Btn,onClick:function(){window.location.href="/note"}},i.a.createElement("i",{className:"fas fa-sticky-note"}))),i.a.createElement("div",{className:"grey-text text-left",style:t.Form},!n.isSignIn&&i.a.createElement(f.i,{label:"Type your email",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right",name:"email",onChange:this.inputChange}),i.a.createElement(f.i,{label:"Type your username",icon:"user",value:n.credentials.username,group:!0,type:"text",validate:!0,error:"wrong",success:"right",name:"username",onChange:this.inputChange}),i.a.createElement(f.i,{label:"Type your password",icon:"lock",value:n.credentials.password,group:!0,type:"password",validate:!0,name:"password",onChange:this.inputChange,autoComplete:"on"})),n.isAlert&&i.a.createElement(f.b,{color:"danger"},"Bad Request"),!n.isAlert&&i.a.createElement(f.c,{color:"dark",style:t.Button,onClick:this.signin},n.isSignIn?"SIGNIN":"SIGNUP"),i.a.createElement(f.c,{color:"dark",style:t.Btn},"OR"),i.a.createElement(f.c,{color:"dark",style:t.Button},"Signup with Google")),n.isAuth&&i.a.createElement(f.c,{color:"danger",onClick:this.signout},"Logout")))}}]),n}(i.a.Component),B=Object(x.a)(T),U=n(18),D=n(27),P=n(111),L=n(14),q=function e(t){var n=t.className,o=t.color,r=t.children,c=t.rate,l=t.open,u=Object(a.useState)(window.matchMedia("(                    max-width:576px)").matches),p=Object(L.a)(u,2),d=p[0],m=p[1],h=Object(a.useState)(window.matchMedia("(min-width:576px and max-width:768px)").matches),x=Object(L.a)(h,2),g=x[0],v=x[1],j=Object(a.useState)(window.matchMedia("(min-width:768px)").matches),O=Object(L.a)(j,2),y=O[0],k=O[1],E=Object(a.useMemo)((function(){return t.xs&&(d||!g&&!y)?t.xs:t.md&&(g||!d&&!y)?t.md:t.lg&&y&&!d&&!g?t.lg:t.size}),[d,g,y,t.xs,t.md,t.lg,t.size]),w=Object(a.useState)(!1),C=Object(L.a)(w,2),S=C[0],I=C[1],z=(t.dis||t.d)*c,M=t.isOpen?(t.rad||t.r)*c:0,N=t.pos||{x:t.x,y:t.y,theta:0},A=t.depth+1;Object(a.useEffect)((function(){window.matchMedia("(                    max-width:576px)").addListener((function(e){return m(e.matches)})),window.matchMedia("(min-width:576px and max-width:768px)").addListener((function(e){return v(e.matches)})),window.matchMedia("(min-width:768px                    )").addListener((function(e){return k(e.matches)}))}),[]),Object(a.useEffect)((function(){!1===t.isOpen&&I(!1)}),[t.isOpen]);var _,H=Object(a.useMemo)((function(){var e=r instanceof Array?r.length:1;return S?Object(U.a)(Array(e)).map((function(t,n){var a=(2*n+1)*Math.PI/(4*e)+N.theta/4;return{x:N.x+c*z*Math.cos(a),y:N.y+c*z*Math.sin(a),theta:a}})):Object(U.a)(Array(e)).fill(N)}),[S,r,N,c,z]),R=Object(a.useMemo)((function(){return Object(s.a)({fontSize:"".concat(M*E,"px"),borderRadius:"".concat(2*M*E,"px"),width:"".concat(2*M*E,"px"),height:"".concat(2*M*E,"px"),transition:"0.75s",textAlign:"center",padding:"0 0",position:"fixed",bottom:"".concat(N.x*E,"px"),left:"".concat(N.y*E,"px")},t.style,{zIndex:100-A+""})}),[A,N,M,E,t.style]),T=t.onClick,B=t.onDoubleClick,D=t.fab?{fab:!0,icon:t.fab}:{icon:t.icon},P=Object(b.a)({},l,(function(){return I(!S)})),q=Object(s.a)({onClick:T,onDoubleClick:B},P,{className:n,color:o,style:R});return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.c,q,i.a.createElement(f.g,D)),t.children&&(_=t.children,_?_ instanceof Array?_:[_]:[]).map((function(t,n){return i.a.createElement(e,Object.assign({key:n},Object(s.a)({},t.props,{pos:H[n],dis:z,rate:c,rad:M,size:E,open:l,depth:A,isOpen:S})))})))};q.defaultProps={color:"elegant",className:"",style:{},open:"onMouseEnter",isOpen:!0,icon:"",depth:0,size:50,rate:.75,rad:null,dis:null,pos:null,d:6,x:.25,y:.25,r:1,xs:25,md:50};var J=q,F=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"click",value:function(){var e={note_object:this.props.topNoteId};this.props.postCard(null,e)}},{key:"render",value:function(){var e,t,n=this,a=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},o={head:(e={display:"inline",padding:"25px 25px 10px 10px",transition:"0.75s"},Object(b.a)(e,a({max:576}),{fontSize:"50px"}),Object(b.a)(e,a({min:576,max:768}),{fontSize:"50px"}),Object(b.a)(e,a({min:768}),{fontSize:"75px"}),e),button:{padding:"25px 25px 10px 10px"}},r=this.props;return i.a.createElement(f.m,null,i.a.createElement(f.d,{onClick:function(){return r.getCard()}},i.a.createElement("h1",{style:o.head},r.topUser?"".concat(r.topUser):"note")),i.a.createElement(f.d,{style:o.button},i.a.createElement(f.c,{size:"sm",color:"dark",onClick:function(){return r.getCard()}},i.a.createElement(f.g,{icon:"home"})),r.isAuth&&r.isHome&&i.a.createElement(f.c,{size:"sm",color:"dark",onClick:function(){return n.click()}},"new create")),r.status>299&&i.a.createElement(f.j,{style:{position:"fixed",fontSize:"50px",width:"auto",bottom:"50px",right:"50px"},show:!0,fade:!0,iconClassName:"yellow-text",title:"WARNING",autohide:5e3,message:(t=r.status,400===t?"Bad Request":403===t?"Forbidden":404===t?"Not Found":500===t?"Please Login":void 0)}))}}]),n}(i.a.Component),W=Object(o.a)(F),G=n(263),X=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={active:!1,fa:e.props.fas?"fas":"far"},e}return Object(u.a)(n,[{key:"click",value:function(){this.props.click(),this.setState({active:!this.state.active,fa:"fas"===this.state.fa?"far":"fas"})}},{key:"render",value:function(){var e,t=this,n=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},a={Col:{margin:"auto auto",textAlign:"center",transition:"1.75s"},icon:(e={textAlign:"center",margin:"auto auto",transition:"1.75s"},Object(b.a)(e,n({max:576}),{lineHeight:"16px",fontSize:"16px"}),Object(b.a)(e,n({min:576,max:768}),{lineHeight:"18px",fontSize:"18px"}),Object(b.a)(e,n({min:768}),{lineHeight:"25px",fontSize:"25px"}),Object(b.a)(e,":hover",{color:"rgba(0,0,0,".concat(this.state.active?.65:.5,")")}),e)},o=this.props,r=this.state;return i.a.createElement(f.d,{style:a.Col,onClick:function(){return t.click()}},i.a.createElement("i",{className:"".concat(r.fa," fa-").concat(o.fas?o.fas:o.far),style:a.icon}),o.children)}}]),n}(i.a.Component),$=Object(o.a)(X),V=function(e){return i.a.createElement(f.o,{tag:"h"+e.level,abbr:"false",style:{margin:"25px 0 25px 25px"},variant:"h".concat(e.level,"-display")},!e.isHome&&1===e.level&&i.a.createElement(f.c,{color:"elegant",style:{borderRadius:"50px",width:"50px",height:"50px",fontSize:"25px",margin:"0 25px 0 0",padding:"0 0"},onClick:function(){return e.getCard(e.username)}},e.username[0]+e.username[1]),e.children)},Y=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n),a=t.call(this);var o=function(e,t){return!(!e||!t)&&["id","username"].every((function(n){return e[n]===t[n]}))},r=o(e.posted_user,e.topNoteUser)||e.isHome,c=o(e.posted_user,e.request_user);return a.state=Object(s.a)({},e,{isNoteMain:r,isNoteAuth:c,isChanged:!1,nowHeight:0}),a.embedRef=i.a.createRef(),a.clickTrash=a.clickTrash.bind(Object(D.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.embedRef.current?this.embedRef.current.clientHeight:0;0!==t&&this.state.firstHeight,this.setState({firstHeight:t}),this.timerID=setInterval((function(){if(e.state.isChanged){var t="".concat(e.props.lang,"_text"),n=Object(b.a)({},t,e.state[t]);e.props.postCard(e.props.id,n),e.setState({isChanged:!1})}}),1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"clickEdit",value:function(){}},{key:"clickTrash",value:function(){this.props.postCard(this.props.id)}},{key:"clickComment",value:function(){}},{key:"clickHeart",value:function(){}},{key:"clickEye",value:function(){}},{key:"editText",value:function(e){var t=this.state["".concat(this.props.lang,"_text")],n=Object(b.a)({},"".concat(this.props.lang,"_text"),e);t!==e&&this.setState(Object(s.a)({},n,{isChanged:!0}))}},{key:"render",value:function(){var e,t,n,a=this,o=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},r=function(e){return"".concat(e[0],"px ").concat(e[1],"px ").concat(e[2],"px rgba(0,0,0,").concat(e[3],")")},c=this.state,l=this.props,u=!l.isHome&&c.isNoteAuth,p=this.state.firstHeight?this.state.firstHeight+50:50,d=this.embedRef.current?this.embedRef.current.clientHeight+50:p,m=this.props.isHome?450:this.state.isNoteMain?700:250,h=this.props.isHome||m>d?m:d,x={card:Object(s.a)({cursor:"pointer",transition:"1.5s",overflow:"hidden"},l.isHome?(e={},Object(b.a)(e,o({max:576}),{width:"95%",borderRadius:"16px",margin:"16px auto"}),Object(b.a)(e,o({min:576,max:768}),{width:"500px",borderRadius:"20px",margin:"20px auto"}),Object(b.a)(e,o({min:768}),{width:"500px",borderRadius:"25px",margin:"25px auto"}),e):(t={},Object(b.a)(t,o({max:576}),{width:"100%",borderRadius:"20px",margin:"20px auto"}),Object(b.a)(t,o({min:576,max:768}),{width:"500px",borderRadius:"20px",margin:"20px auto"}),Object(b.a)(t,o({min:768}),{width:"750px",borderRadius:"25px",margin:"25px auto"}),t),{height:"".concat(h,"px"),boxShadow:r([0,1,50,.2]),":hover":{height:"".concat(h+(u?250:0),"px"),boxShadow:r([0,5,10,.4])}}),mdmd:Object(s.a)({},l.isHome?{height:"400px"}:{minHeight:c.isNoteMain?"650px":"150px"},(n={overflow:"hidden",fontSize:"20px"},Object(b.a)(n,o({max:576}),{fontSize:"16px"}),Object(b.a)(n,o({min:576,max:768}),{fontSize:"18px"}),Object(b.a)(n,o({min:768}),{fontSize:"20px"}),n))},g={color:"elegant-color",imageStyle:{position:"absolute"},styleRoot:{padding:"0 0 0 0"},styleListItem:{padding:"0 50px"},styleParagraph:{padding:"0 25px 0 25px"},renderers:{heading:function(e){return i.a.createElement(V,Object.assign({},e,{getCard:l.getCard,isHome:l.isHome,username:a.state.posted_user.username}))}}};return i.a.createElement(f.d,{style:{transition:"1.75s"},xl:l.isHome?"6":"12"},i.a.createElement("div",{style:x.card},i.a.createElement("div",{ref:this.embedRef,style:x.mdmd,onClick:l.isHome?function(){return l.getCard(c.id)}:null},i.a.createElement(G.a,Object.assign({},g,{source:c["".concat(l.lang,"_text")]}))),i.a.createElement(f.m,{style:{margin:"0 0",padding:"0 0"}},u&&i.a.createElement($,{fas:"edit",click:this.clickEdit}),i.a.createElement($,{far:"comment",click:this.clickComment}),i.a.createElement($,{far:"eye",click:this.clickEye},c.id),i.a.createElement($,{far:"heart",click:this.clickHeart}),u&&i.a.createElement($,{fas:"trash",click:this.clickTrash})),u&&i.a.createElement(f.i,{type:"textarea",rows:"7",style:{padding:"25px"},label:"".concat(l.lang," ").concat(c.isNoteMain?"text":"comment"),value:c["".concat(l.lang,"_text")]?c["".concat(l.lang,"_text")]:"#",onChange:function(e){return a.editText(e.target.value)}})))}}]),n}(i.a.Component),K=Object(o.a)(Y),Q=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"click",value:function(){var e={note_object:this.props.topNoteId};this.props.postCard(null,e)}},{key:"render",value:function(){var e,t=this,n=function(e){return"@media "+Object.entries(e).map((function(e){return"(".concat(e[0],"-width:").concat(e[1],"px)")})).join(" and ")},a={tail:(e={padding:"25px 25px 10px 10px",transition:"0.75s",margin:"auto auto",textAlign:"center"},Object(b.a)(e,n({max:576}),{fontSize:"50px"}),Object(b.a)(e,n({min:576,max:768}),{fontSize:"50px"}),Object(b.a)(e,n({min:768}),{fontSize:"75px"}),e),button:{padding:"5px 30px 5px 30px",margin:"0 auto",borderRadius:"250px",textAlign:"center",fontSize:"50px"}},o=this.props;return i.a.createElement("div",{style:a.tail},o.isAuth&&!o.isHome&&o.topNoteUser&&i.a.createElement(f.c,{style:a.button,size:"sm",color:"dark",onClick:function(){return t.click()}},"+"))}}]),n}(i.a.Component),Z=Object(o.a)(Q),ee=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this)).url=window.location.origin.match("localhost")?"http://localhost:8000/":"https://tsei.jp/";var i=e.cookies.get("authtoken"),o=window.location.pathname.replace(/\//g,"").replace("note",""),r=/^([1-9]\d*|0)$/.test(o)?o:null,c=Object(s.a)({"Content-Type":"application/json"},i&&{Authorization:"Token ".concat(i)}),u={isDark:!1,tag:null,lang:"ja",status:null,topUser:r?null:o,requestUser:null,topNoteId:r,topNoteUser:null,bottomNoteId:null,isAuth:!!i,isHome:!r};return a.state={authtoken:i,headers:c,context:u,noteCards:[]},a.getCard=a.getCard.bind(Object(D.a)(a)),a.postCard=a.postCard.bind(Object(D.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){return this.getCard(this.state.context.topNoteId||this.state.context.topUser)}},{key:"setCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"init",n=e instanceof Array?Object(U.a)(e):[e],a=Object(U.a)(this.state.noteCards),i=n.filter((function(e){return 0===a.filter((function(t){return e.id===t.id})).length})),o=this.state.context.isHome?null:("head"===t?a:n).slice(-1)[0].id;if(this.setState({noteCards:"init"===t?n:[].concat(Object(U.a)("head"===t?i:[]),Object(U.a)(a.map((function(e){return n.find((function(t){return t.id===e.id}))||e}))),Object(U.a)("tail"===t?i:[])),context:Object(s.a)({},this.state.context,{bottomNoteId:o})}),"tail"===t)return P.animateScroll.scrollToBottom()}},{key:"deleteCard",value:function(e){if(e===this.state.context.topNoteId)return this.getCard();this.setState({noteCards:this.state.noteCards.filter((function(t){return t.id!==e}))})}},{key:"getCard",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n="".concat(this.url,"api/note/").concat(t?t+"/":""),a=this.state.headers;h.a.get(n,{headers:a}).then((function(n){if(200===n.status){var a=t&&n.data.find((function(e){return""+e.id===""+t})),i=t&&a&&/^([1-9]\d*|0)$/.test(a.id)?a.id:null,o=t&&a?a.posted_user:null,r=t&&!i?t:null,c=n.data[0]?n.data[0].request_user.username:null,l=Object(s.a)({},e.state.context,{topNoteId:i,topNoteUser:o,topUser:r,requestUser:c,isHome:!i});window.history.replaceState("","","/note/".concat(t?t+"/":"")),e.setState({context:l}),e.setCard(n.data)}})).catch((function(e){console.log(e)}))}},{key:"postCard",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.state.context.isAuth)return this.setState({context:Object(s.a)({},this.state.context,{status:500})});var a="".concat(this.url,"api/note/").concat(t?t+"/ajax/":""),i=n||{delete_note:!0},o=this.state.headers;h.a.post(a,i,{headers:o}).then((function(a){if(201===a.status){var o=Object.keys(i).map((function(e){return"note_object"===e})).every((function(e){return!0===e})),r=e.state.context.isHome;null===n&&e.deleteCard(t),null!==n&&o&&e.setCard(a.data,r?"head":"tail")}})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=window.location.origin+window.location.pathname,a=t.context.topNoteUser?"by ".concat(t.context.topNoteUser.username):"",o="https://b.hatena.ne.jp/entry/".concat(n),r="https://twitter.com/intent/tweet?url=".concat(n,"&text=").concat(a),c="https://www.facebook.com/sharer/sharer.php?u=".concat(n);return i.a.createElement(R,Object.assign({},t.context,{toJa:function(){return e.setState({context:Object(s.a)({},e.state.context,{lang:"ja"})})},toEn:function(){return e.setState({context:Object(s.a)({},e.state.context,{lang:"en"})})}}),i.a.createElement(W,Object.assign({},t.context,{getCard:this.getCard,postCard:this.postCard})),i.a.createElement(f.m,null,this.state.noteCards.length?this.state.noteCards.map((function(n,a){return i.a.createElement(K,Object.assign({},n,t.context,{key:"card".concat(n.id),getCard:e.getCard,postCard:e.postCard,deleteCard:e.deleteCard}))})):i.a.createElement("div",{className:"spinner-grow",style:{width:"50vw",height:"50vw",margin:"0 auto"},role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement(Z,Object.assign({},t.context,{getCard:this.getCard,postCard:this.postCard})),i.a.createElement(J,{icon:"ellipsis-h",open:"onMouseEnter"},i.a.createElement(J,{icon:"share-square"},i.a.createElement(J,{icon:"bold",onClick:function(){window.open(o,"_blank")}}),i.a.createElement(J,{fab:"twitter",onClick:function(){window.open(r,"_blank")}}),i.a.createElement(J,{fab:"facebook-f",onClick:function(){window.open(c,"_blank")}})),t.context.isAuth?i.a.createElement(J,{icon:t.context.isHome?"plus":"comment",onClick:function(){return e.postCard(null,{note_object:t.context.topNoteId})}}):i.a.createElement(J,{icon:"sign-in-alt",onClick:function(){window.location.href="/user"}}),i.a.createElement(J,{icon:"location-arrow",onClick:function(){return null}},i.a.createElement(J,{icon:"angle-up",onClick:function(){return P.animateScroll.scrollToTop()}}),i.a.createElement(J,{icon:"home",onClick:function(){return e.getCard()}}),this.state.context.requestUser?i.a.createElement(J,{icon:"user-alt",onClick:function(){return e.getCard(e.state.context.requestUser)}}):i.a.createElement(J,{icon:"user-alt",onClick:function(){return e.getCard("tseijp")}}),i.a.createElement(J,{icon:"angle-down",onClick:function(){return P.animateScroll.scrollToBottom()}}))))}}]),n}(i.a.Component),te=Object(x.a)(ee),ne=n(28),ae=n(56),ie=n(264),oe=n(4),re=n(262);function ce(e){e.mouse;var t=Object(ie.a)(e,["mouse"]),n=Object(a.useRef)(),o=Object(ne.f)(re.a,"/static/Xbot.glb"),r=o.nodes,c=o.animations,s=Object(a.useRef)(),l=Object(a.useState)(0),u=Object(L.a)(l,2),p=u[0],d=u[1],m=Object(a.useState)((function(){return new oe.AnimationMixer})),h=Object(L.a)(m,1)[0],f=Object(ae.b)("model",{type:"xypad",value:{x:0,y:0},scrub:!0,distance:10}),x=Object(ae.b)("camera",{type:"xypad",value:{x:0,y:3},scrub:!0,distance:10});if(Object(ne.e)((function(e,t){return h.update(t)})),Object(ne.e)((function(e){e.clock;var t=e.camera;n.current.position.x=f.x,n.current.position.z=f.y,t.updateProjectionMatrix((t.position.x=x.x,t.position.z=x.y,void t.lookAt(new oe.Vector3(f.x/2,0,f.y/2))))})),Object(a.useEffect)((function(){return s.current={idle:h.clipAction(c[p||1],n.current)},s.current.idle.play(),s.current.idle.weight=1,s.current.idle.timeScale=.5,function(){return c.forEach((function(e){return h.uncacheClip(e)}))}}),[p,c,h]),Object(ae.b)("Action",{type:"select",value:3,state:[p,d],items:Object(U.a)(Array(c.length)).map((function(e,t){return t}))}),Object(ae.b)("Time",{type:"number",value:.5,max:1,onChange:function(e){s.current.idle.timeScale=e}}),Object(ae.b)("Weight",{type:"number",value:1,max:1,onChange:function(e){s.current.idle.weight=e}}),Object(ne.e)((function(e,t){h.update(t)})),r)return i.a.createElement("group",Object.assign({ref:n},t,{dispose:null}),i.a.createElement("group",{rotation:[Math.PI/2,0,0],scale:[.01,.01,.01]},i.a.createElement("primitive",{object:r.mixamorigHips}),i.a.createElement("skinnedMesh",{geometry:r.Beta_Joints.geometry,skeleton:r.Beta_Joints.skeleton,rotation:[-Math.PI/2,0,0],scale:[100,100,100]},i.a.createElement("meshPhongMaterial",{attach:"material",color:0,depthWrite:!1,skinning:!0})),i.a.createElement("skinnedMesh",{geometry:r.Beta_Surface.geometry,skeleton:r.Beta_Surface.skeleton,rotation:[-Math.PI/2,0,0],scale:[100,100,100]},i.a.createElement("meshPhongMaterial",{attach:"material",color:16777215,depthWrite:!1,skinning:!0}))))}var se=function(){var e=Object(a.useRef)(null),t=Object(ne.g)().size;Object(ne.e)((function(n){var a=n.mouse;e.current.uniforms.uTime.value+=100,e.current.uniforms.uMouse.value={x:a.x*t.width/2,y:a.y*t.height/2}}));var n={uColor:{value:new oe.Color(65280)},uResolution:{value:{x:t.width,y:t.width}},uTime:{value:0},uMouse:{value:{x:0,y:0}}};return i.a.createElement("shaderMaterial",{ref:e,attach:"material",args:[{uniforms:n,vertexShader:"\nuniform float offset;\nvarying vec2 v_uv;\nvarying vec3 v_position;\n\nvoid main(){\n  v_uv = uv;\n  v_position = position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(v_position, 1.0);\n}\n",fragmentShader:"\nvarying vec2 v_uv;\nvarying vec3 v_position;\n\nuniform float uTime;\nuniform vec3 uColor;\nuniform vec2 uMouse;\nuniform vec2 uResolution;\n\nmat2 getRotationMatrix(float theta){return mat2(cos(theta), -sin(theta), sin(theta), cos(theta));}\nmat2 getScaleMatrix(float scale){return mat2(scale,0, 0,scale);}\nfloat ellipse(vec2 pt, vec2 center, vec2 radius){return 1.0 - step(0.5, length(pt - center));}\nfloat ellipse(vec2 pt, vec2 center, vec2 radius, bool soften){return 1.0 - smoothstep(radius.x-radius.x*0.5, radius.y+radius.y*0.5, length(pt-center));}\nfloat ellipse(vec2 pt, vec2 center, vec2 radius, float linewidth){return step(radius.x-linewidth/2.0, length(pt - center)) - step(radius.y+linewidth/2.0, length(pt - center));}\nfloat rect(vec2 pt, vec2 center, vec2 size, vec2 anchor){return step(-size.x-anchor.x,pt.x-center.x)-step(size.x-anchor.x,pt.x-center.x)*step(-size.y-anchor.x,pt.y-center.y)-step(size.y-anchor.y,pt.y-center.y);}\nfloat line(vec2 pt, float linewidth, float edge_thickness){return smoothstep(pt.x-linewidth/2.0-edge_thickness, pt.x+linewidth/2.0, pt.y)-smoothstep(pt.x+linewidth/2.0-edge_thickness, pt.x+linewidth/2.0, pt.y);}\nfloat random(vec2 pt, float seed){return fract(sin(dot(pt, vec2(12.9,78.2))+seed)*43758.5);}\nfloat noise(vec2 st, float seed){\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    vec2 u = f*f*(3.0-2.0*f);\n    float a = random(i+vec2(0.0,0.0),seed);\n    float b = random(i+vec2(1.0,0.0),seed);\n    float c = random(i+vec2(0.0,1.0),seed);\n    float d = random(i+vec2(1.0,1.0),seed);\n    return mix(a,b,u.x)+(c-a)*u.y*(1.0-u.x)+(d-b)*u.x*u.y;\n}\nvoid main(){\n    vec2 mouse = uMouse;\n    vec2 pos   = vec2(v_uv*mix(0.0,0.01,distance(mouse,vec2(0.0))));\n    vec3 color = smoothstep(0.4,0.6,noise(pos*mouse, uTime))*vec3(1.0);\n    gl_FragColor = vec4(color, 1.0);\n}\n"}],skinning:!1})},le=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(u.a)(n,[{key:"componentDidCatch",value:function(e,t){throw e}},{key:"render",value:function(){return this.state.hasError?(console.log("error!"),i.a.createElement("h1",null,"Something went wrong.")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(i.a.Component),ue=function(e){var t=Object(a.useRef)({x:1e4,y:1e4});return i.a.createElement(le,null,i.a.createElement(R,null),i.a.createElement(ne.a,{shadowMap:!0,pixelRatio:window.devicePixelRatio,camera:{position:[0,-3,3]},onMouseMove:function(e){var n=e.clientX,a=e.xlientY;return t.current={x:n,y:a}},style:{position:"fixed",width:"100%",height:"100%",top:0,left:0}},i.a.createElement("fog",{attach:"fog",args:[14671839,35,65]}),i.a.createElement("hemisphereLight",{skyColor:"black",groundColor:16777215,intensity:.68,position:[0,50,0]}),i.a.createElement("directionalLight",{position:[-8,12,8],castShadow:!0}),i.a.createElement("mesh",{position:[0,-3,-10]},i.a.createElement("circleBufferGeometry",{attach:"geometry",args:[32,64]}),i.a.createElement(se,null)),i.a.createElement("mesh",{rotation:[-.5*Math.PI,0,0],position:[0,-11,0],receiveShadow:!0},i.a.createElement("planeGeometry",{attach:"geometry",args:[5e3,5e3,1,1]}),i.a.createElement(se,null)),i.a.createElement(a.Suspense,{fallback:null},i.a.createElement(ce,{mouse:t,position:[0,-11,0],scale:[7,7,7]}))),i.a.createElement(ae.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=n(47),de=n(54),me=n(591),he=(n(582),n(583),n(584),i.a.createElement(pe.a,null,i.a.createElement(o.a.StyleRoot,null,i.a.createElement(me.a,null,i.a.createElement("div",null,i.a.createElement(de.a,{exact:!0,path:"/user",component:B}),i.a.createElement(de.a,{path:"/note",component:te}),i.a.createElement(de.a,{component:ue}))))));c.a.render(he,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[272,1,2]]]);
//# sourceMappingURL=main.6ded2769.chunk.js.map