(this["webpackJsonp@tsei/note"]=this["webpackJsonp@tsei/note"]||[]).push([[0],{129:function(e,t,n){e.exports=n(266)},22:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[];if(0===t.length)return"";if("string"!==typeof t[0])throw new TypeError("Url must be string.");t[0].match(/^[^/:]+:\/*$/)&&t.length>1&&(t[0]=t.shift()+t[0]),t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://"),t=t.filter((function(e){return""!==e}));for(var u=0;u<t.length;u++){var o=t[u];if("number"===typeof o&&(o=String(o)),"string"!==typeof o)throw new TypeError("".concat(o," must be a string. Received ").concat(typeof o));""!==o&&(u>0&&(o=o.replace(/^[\/]+/,"")),o=u<t.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),r.push(o))}var c=r.join("/"),a=(c=c.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return c=a.shift()+(a.length>0?"?":"")+a.join("&")}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}));var u={arr:Array.isArray,obj:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},nul:function(e){return null===e},set:function(e){return e instanceof Set},map:function(e){return e instanceof Map},equ:function(e,t){if(typeof e!==typeof t)return!1;if(u.str(e)||u.num(e))return e===t;if(u.obj(e)&&u.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!u.und(n)||e===t}}},266:function(e,t,n){"use strict";n.r(t),n.d(t,"Note",(function(){return P}));var r=n(12),u=n(11),o=n(113),c=n(1),a=n.n(c),i=n(30),f=n(25),s=n.n(f),l=n(123),d=n(49),h=n(36),b=n(70),p=n(72),g=n(16),v=n.n(g),m=n(31),j=n(73),O=n.n(j),y={onChange:function(){return function(){var e;return null===(e=document.getElementById("root"))||void 0===e?void 0:e.scroll({top:0,left:0,behavior:"smooth"})}()}},w={isSign:!1,status:"",portname:function(e){return e.isLocal?["3000","8000","8000"]:[]},isHome:function(e){return!e.id},pathname:function(e){var t=e.id,n=e.status;return["/note/".concat(t?t+"/":""),"/api/note/".concat(t?t+"/":""),"UP"!==n?"/auth/":"/api/user/"]}},E=function(){var e=Object(m.a)(v.a.mark((function e(t){var n,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{"Content-Type":"application/json"},e.abrupt("return",O.a.get(t.href,{headers:n}).then((function(e){if(!e||200!==e.status)throw new Error("Bad Request");return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(136),n(137),n(138);function k(){var e=Object(o.a)(["\n    min-height: 100vh;\n    overflow: hidden;\n    background: ",";\n    padding-top: ","px;\n"]);return k=function(){return e},e}var N=i.a.div(k(),(function(e){return e.background}),(function(e){return e.padding})),P=function(){var e=Object(p.usePage)(w,y),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(p.useNote)(n.urls[1],E),f=Object(u.a)(i,2),s=f[0],g=f[1],v=Object(c.useState)(n.language),m=Object(u.a)(v,2),j=m[0],O=m[1],k=Object(d.a)({md:1,lg:1.5}),P=Object(u.a)(k,2),C=P[0],R=P[1],A=Object(d.a)({md:1,lg:0}),S=Object(u.a)(A,2),x=S[0],L=S[1],U=Object(c.useMemo)((function(){return function(){return g((function(e){return null===e||void 0===e?void 0:e.next}))}}),[g]),z=Object(c.useMemo)((function(){return function(){return o({id:""})}}),[o]);return a.a.createElement(N,{background:x?"#000":"#f1f1f1",padding:100*C},a.a.createElement(h.c,{dark:x,size:C,onClick:z},"Note"),(null===s||void 0===s?void 0:s.results)instanceof Array&&s.results.map((function(e){return a.a.createElement(h.a,Object(r.a)(Object(r.a)({key:e.id,rate:.1},n.isHome?{max:500,onClick:function(){return o({id:e.id+""})}}:{size:C}),{},{dark:x,space:25*C}),a.a.createElement(l.a,{color:x?"dark":"elegant",style:{fontSize:"1rem"},source:"ja"===j?e.ja_text:e.en_text}))})),(null===s||void 0===s?void 0:s.next)&&a.a.createElement(h.b,{size:C,onClick:function(){return U()},onView:U}),a.a.createElement(h.d,{size:C},a.a.createElement("a",{style:{color:"#818181"},href:"/"},"Home"),a.a.createElement("a",{style:{color:"#818181"},href:"/hook"},"Hook"),a.a.createElement("a",{style:{color:"#818181"},href:"/note"},"Note")),a.a.createElement(h.e,{size:C},a.a.createElement("div",{onClick:function(){return O((function(e){return"ja"!==e?"ja":"en"}))}},j.toUpperCase()),a.a.createElement("div",{onClick:function(){return L((function(e){return{md:e.lg,lg:e.md}}))}},x?"\ud83c\udf1e":"\ud83c\udf1b"),a.a.createElement("div",{onClick:function(){return R((function(e){return{md:e.lg,lg:e.md}}))}},C>1?"\ud83d\udc76":"\ud83d\udc68")),a.a.createElement(b.a,null,a.a.createElement("title",null,s?"note":"Loading..."),a.a.createElement("meta",{charSet:"utf-8"}),a.a.createElement("meta",{name:"Hatena::Bookmark",content:"nocomment"}),a.a.createElement("link",{rel:"canonical",href:"https://tsei.jp/"})))};s.a.render(a.a.createElement(b.b,null,a.a.createElement(P,null)),document.getElementById("root"))},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return s}));var r=n(11),u=n(12),o=n(29),c=n(22),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"string"===typeof e?new URL(e):e})).map((function(e){return e&&Object(c.b)(e.pathname,"/")})).every((function(e,t,n){return e===n[0]}))},i={onChange:null},f={id:window.location.pathname.split("/").filter((function(e){return e})).find((function(e,t){return 1===t}))||"",isHome:window.location.pathname.split("/").filter((function(e){return e})).length>1,isLocal:"localhost"===window.location.hostname,protocol:window.location.protocol||"",hostname:window.location.hostname||"",portname:window.location.port||"",pathname:window.location.pathname||"",search:window.location.search||"",hash:window.location.hash||"",language:window.navigator.language||"ja",urls:[new URL(window.location.href)]},s=function(e){var t=Object(u.a)({},e);Object.entries(t).sort((function(e){var t=Object(r.a)(e,2);t[0];return"function"===typeof t[1]?1:-1})).forEach((function(e){var n=Object(r.a)(e,2),u=n[0],o=n[1];return t[u]="function"===typeof o?o(t):o}));var n=function(e){var t=e.protocol,n=e.hostname,r=e.portname,u=e.pathname,a=void 0===u?"":u,i=e.search,f=void 0===i?"":i,s=e.hash,l=[t,n,r,a,f,void 0===s?"":s],d=function(e){return e?":".concat(e):""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t instanceof Array?e<t.length?t[e]:t[t.length-1]:t};if(l.every((function(e){return"string"===typeof e})))return Object(c.b)("".concat(t,"//").concat(n).concat(d(r),"/"),a,f);var b=l.map((function(e){return e instanceof Array?e.length:1})).reduce((function(e,t){return e>t?e:t}));return Object(o.a)(Array(b)).map((function(e,u){return Object(c.b)("".concat(h(u,t),"//").concat(h(u,n)).concat(d(h(u,r)),"/"),h(u,a),h(u,f))}))}(t);return Object(u.a)(Object(u.a)({},t),{},{urls:n instanceof Array?n.map((function(e){return"string"===typeof e?new URL(e):e})):["string"===typeof n?new URL(n):n]})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(29),u=n(12),o=n(11),c=n(1),a=n(32),i=n(22);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=Object(c.useRef)(),d=Object(c.useRef)(t),h=Object(c.useRef)(n),b=Object(c.useRef)(f),p=Object(c.useRef)(!1),g=Object(c.useState)(null),v=Object(o.a)(g,2),m=v[0],j=v[1];Object(c.useEffect)((function(){var t=s(e);Object(a.b)(l.current,t)||(l.current=t,p.current||(p.current=!0,d.current&&d.current(l.current).then((function(e){setTimeout((function(){p.current=!1}),1e3),j((function(t){return e||t}))}))))}),[e]);var O=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!p.current&&(null===m||void 0===m?void 0:m.next)){p.current=!0,i.a.fun(e)&&(e=e(m)),i.a.str(e)&&(e=new URL(e)),i.a.nul(t)&&(t=d.current);var o=l.current;l.current=e,d.current=t,b.current=Object(u.a)(Object(u.a)({},b.current),n),d.current&&d.current(e).then((function(e){setTimeout((function(){return p.current=!1}),1e3),j((function(t){if(!Object(a.b)(o,l.current))return e;var n=b.current.onChange,c=void 0===n?null:n;"function"===typeof c&&c();var i=t?(t.results||[]).filter((function(t){return!(e.results||[]).find((function(e){return e.id===t.id}))})):[];return Object(u.a)(Object(u.a)({},e),{},{results:[].concat(Object(r.a)(i),Object(r.a)(e.results))})}))}))}}),[m]),y=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.current||(p.current=!0,i.a.nul(e)&&(e=h.current),h.current=e,b.current=Object(u.a)(Object(u.a)({},b.current),t))}),[]);return[m,O,y]}function s(e){return i.a.fun(e)&&(e=e()),i.a.str(e)&&(e=new URL(e)),e}},60:function(e,t,n){"use strict";var r=n(85);n.d(t,"usePage",(function(){return r.a}));var u=n(86);n.o(u,"useNote")&&n.d(t,"useNote",(function(){return u.useNote}))},72:function(e,t,n){"use strict";var r=n(83);n.o(r,"useNote")&&n.d(t,"useNote",(function(){return r.useNote})),n.o(r,"usePage")&&n.d(t,"usePage",(function(){return r.usePage}));var u=n(60);n.o(u,"useNote")&&n.d(t,"useNote",(function(){return u.useNote})),n.o(u,"usePage")&&n.d(t,"usePage",(function(){return u.usePage}));var o=n(87);n.o(o,"useNote")&&n.d(t,"useNote",(function(){return o.useNote})),n.o(o,"usePage")&&n.d(t,"usePage",(function(){return o.usePage}));var c=n(89);n.o(c,"useNote")&&n.d(t,"useNote",(function(){return c.useNote})),n.o(c,"usePage")&&n.d(t,"usePage",(function(){return c.usePage}))},83:function(e,t,n){"use strict";var r=n(54);n.d(t,"useNote",(function(){return r.a}));var u=n(84);n.o(u,"usePage")&&n.d(t,"usePage",(function(){return u.usePage}))},84:function(e,t){},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),u=n(12),o=n(1),c=n(32),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"function"===typeof e&&(e=e()),"function"===typeof t&&(t=t());var n=Object(o.useRef)(Object(u.a)(Object(u.a)({},c.a),e)),a=Object(o.useRef)(Object(u.a)(Object(u.a)({},c.d),t)),i=Object(o.useState)(Object(c.c)(n.current)),f=Object(r.a)(i,2),s=f[0],l=f[1],d=Object(o.useCallback)((function(e){"function"===typeof e&&(e=e(n.current)),n.current=Object(u.a)(Object(u.a)({},n.current),e),l((function(e){var t=Object(c.c)(n.current);return e.pathname===t.pathname||window.history.pushState("","",t.pathname instanceof Array?t.pathname[0]||"":t.pathname||""),t}))}),[l]);return Object(o.useEffect)((function(){var e=a.current.onChange;"function"===typeof e&&e()}),[s.id]),[s,d]}},86:function(e,t){},87:function(e,t,n){"use strict";var r=n(88);n.o(r,"useNote")&&n.d(t,"useNote",(function(){return r.useNote})),n.o(r,"usePage")&&n.d(t,"usePage",(function(){return r.usePage}))},88:function(e,t){},89:function(e,t){}},[[129,1,2]]]);
//# sourceMappingURL=main.761db736.chunk.js.map