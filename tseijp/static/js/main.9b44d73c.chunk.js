(this["webpackJsonp@tsei/colo"]=this["webpackJsonp@tsei/colo"]||[]).push([[0],{159:function(e,t,n){e.exports=n(335)},335:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(35),c=n.n(o),i=n(0),s=n(8),u=n(30),l=n(74),m=n(76),f=n(10),p=n(147);n(20),n(148);var b=a.a.forwardRef((function(e,t){var n=["https://www.youtube.com/embed/",e.id,"?rel=0&autoplay=1&mute=1"].join("");return a.a.createElement("div",{ref:t,style:{width:"480px",height:"360px",backgroundColor:"rgba(0,0,0,0)",transparent:!1,position:"absolute",pointerEvents:"auto",transform:"translate(-50%, 0%)"}},a.a.createElement("iframe",{src:n,style:{width:"480px",height:"360px",border:"0px"}}))})),d=function(e){e.scale;var t=e.spot,n=e.stick,o=Object(r.useRef)(),c=Object(s.h)(p.a,"https://tseijp-static.s3.ap-northeast-1.amazonaws.com/Xbot.glb"),d=c.nodes,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(r.useState)((function(){return new i.AnimationMixer})),a=Object(f.a)(n,1),o=a[0],c=Object(r.useRef)({}),u=function(t){return isNaN(t)?e.filter((function(e){return e.name===t}))[0]:e[t]},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",r=u(e);if(!r)return Object.keys(c.current).forEach((function(e){}));if("start"===n){var a=Object.keys(c.current).filter((function(e){return e!==r.name}));if(a.forEach((function(e){c.current[e].paused=!0})),c.current[r.name])return c.current[r.name].paused=!1}if(c.current[r.name])return c.current[r.name].paused=!c.current[r.name].paused;c.current[r.name]=o.clipAction(r,t.current),c.current[r.name].play()},m=function(e){e.start&&l(e.start,"start"),e.add&&l(e.add,"add"),Object.keys(e).filter((function(e){return"start"!==e&&"stop"!==e})).map((function(t){Object.keys(c.current).map((function(n){c.current[n][t]=e[t]}))}))};return Object(s.g)((function(e,t){return o.update(t)})),Object(r.useEffect)((function(){return function(){return e.forEach((function(e){return o.uncacheClip(e)}))}}),[o,e]),[c,m]}(c.animations,o),y=Object(f.a)(h,2),v=(y[0],y[1]),g=function(e){var t=Object(r.useState)({x:0,y:0,z:0,rx:0,ry:0,d:0}),n=Object(f.a)(t,2),a=n[0],o=n[1];return Object(s.g)((function(t){var n=t.camera;n.position.x=a.x+18*Math.sin(a.rx),n.position.y=a.y+8+a.ry,n.position.z=a.z+18*Math.cos(a.rx),n.lookAt(new i.Vector3(a.x,a.y+10,a.z)),e.current.position.x=a.x,e.current.position.y=a.y,e.current.position.z=a.z,e.current.rotation.y+=(a.rx-e.current.rotation.y)/10})),[a,function(e){var t=e.x,n=void 0===t?0:t,r=e.y,c=void 0===r?0:r,i=(e.z,e.rx),s=void 0===i?0:i,u=e.ry,l=void 0===u?0:u,m=e.cam,f=void 0===m?0:m,p=Math.pow(n,2)+Math.pow(c,2),b=(Math.PI,Math.PI,Math.cos(a.rx)),d=Math.sin(a.rx),h=.01*s,y=.2*-l,v=n*b+c*d,g=-c*d+c*b;o((function(e){return{x:e.x+v,y:e.y+0,z:e.z+g,rx:e.rx+h,ry:e.ry+y,d:p}}))}]}(o),x=Object(f.a)(g,2),j=x[0],O=x[1];Object(s.g)((function(e,r){e.clock;var a=e.camera;O(Object(m.a)(Object(m.a)(Object(m.a)({},n.current),t.current),{},{cam:a.rotation.y})),v({start:j.d>.5?"run":j.d>.1?"walk":"agree"})}));var E=Object(u.b)("HTML",{type:"number",value:100,max:200});if(Object(u.b)("Time",{type:"number",value:1,max:2,onChange:function(e){return v({timeScale:e})}}),Object(u.b)("Weight",{type:"number",value:1,max:2,onChange:function(e){return v({weight:e})}}),d)return a.a.createElement("group",{ref:o,scale:[7,7,7],dispose:null},a.a.createElement("group",{rotation:[Math.PI/2,0,Math.PI],scale:[.01,.01,.01]},a.a.createElement("primitive",{object:d.mixamorigHips}),a.a.createElement("skinnedMesh",{geometry:d.Beta_Joints.geometry,skeleton:d.Beta_Joints.skeleton,rotation:[-Math.PI/2,0,0],scale:[100,100,100]},a.a.createElement("meshPhongMaterial",{attach:"material",color:10057591,depthWrite:!1,skinning:!0})),a.a.createElement("skinnedMesh",{geometry:d.Beta_Surface.geometry,skeleton:d.Beta_Surface.skeleton,rotation:[-Math.PI/2,0,0],scale:[100,100,100]},a.a.createElement("meshPhongMaterial",{attach:"material",color:10053222,depthWrite:!1,skinning:!0})),a.a.createElement(l.a,{prepend:!0,center:!0,scaleFactor:E},a.a.createElement(b,{ref:null,id:"EEIk7gwjgIM"}))))},h=n(3),y=n(5),v=n(6),g=n(7),x=(a.a.Component,n(55)),j=a.a.forwardRef((function(e,t){e.size;var n=e.limit,o=void 0===n?100:n,c=Object(x.a)((function(e){var n=e.down,r=Object(f.a)(e.movement,2),a=r[0],c=r[1],i=(n?a:0)/o,s=(n?c:0)/o;t.current={rx:i,ry:s}}));Object(r.useEffect)((function(){return t.current={x:0,y:0}}),[]);return a.a.createElement("div",Object.assign({style:{width:"100%",height:"100%",position:"fixed"}},c()))})),O=a.a.forwardRef((function(e,t){var n=e.size,o=void 0===n?100:n,c=e.limit,i=void 0===c?100:c,s=Object(r.useState)({x:0,y:0,scale:1}),u=Object(f.a)(s,2),l=u[0],m=u[1],p=Object(x.a)((function(e){var n=e.down,r=Object(f.a)(e.movement,2),a=r[0],o=r[1];a*a+o*o>i*i||(m({x:n?a:0,y:n?o:0,scale:n?1.2:1,immediate:n}),t.current={x:(n?a:0)/i,y:(n?o:0)/i})}));Object(r.useEffect)((function(){return t.current={x:0,y:0}}),[]);var b=1.5*i,d=1.5*i,h=(l.x<0?-l.x:l.x)/i+(l.y<0?-l.y:l.y)/i,y={userSelect:"none",width:o*l.scale+"px",height:o*l.scale+"px",boxShadow:"rgba(0,0,0,".concat(h,")"),backgroundColor:"rgba(255,255,255,".concat(.1+h/10,")"),transform:"translate(-50%, 50%)",position:"fixed",borderRadius:"100px",bottom:b-l.y+"px",left:d+l.x+"px"};return a.a.createElement("div",Object.assign({style:y},p()))})),E=n(153);function w(e){var t=Object.assign({},e);return a.a.createElement("mesh",Object.assign({},t,{receiveShadow:!0}),a.a.createElement("planeGeometry",{attach:"geometry",args:[5e3,5e3,1,1]}),a.a.createElement("meshLambertMaterial",{attach:"material",color:"#232323",transparent:!0,opacity:.1}))}var k=function(e){var t=e.position,n=e.rotation,o=e.scale,c=Object(u.b)("amp",{type:"number",distance:5,min:1,value:100,max:200}),l=Object(u.b)("dist",{type:"number",distance:5,min:1,value:1e3,max:2e3}),m=Object(u.b)("time",{type:"number",distance:.01,min:0,value:1,max:2}),f={x:50,y:50},p=Object(r.useRef)(),b=Object(r.useRef)(),d={color:{value:new i.Color(16777215)}};Object(r.useEffect)((function(){for(var e=new Float32Array(f.x*f.y),t=new Float32Array(f.x*f.y*3),n=0,r=0,a=0;a<f.x;a++)for(var o=0;o<f.y;o++)t[n]=a*l-f.x*l/2,t[n+1]=0,t[n+2]=o*l-f.y*l/2,e[r]=1,n+=3,r++;p.current.setAttribute("scale",new i.BufferAttribute(e,1)),p.current.setAttribute("position",new i.BufferAttribute(t,3))}),[l,f]);var h=Object(r.useRef)(0);return Object(s.g)((function(e){Object(E.a)(e);var t=0,n=0;p.current.attributes.scale.needsUpdate=!0,p.current.attributes.position.needsUpdate=!0;for(var r=0;r<f.x;r++)for(var a=0;a<f.y;a++){var o=h.current;p.current.attributes.position.array[t+1]=Math.sin(.3*(r+o))*c+Math.sin(.5*(a+o))*c,p.current.attributes.scale.array[n]=8*(Math.sin(.3*(r+o))+1)+8*(Math.sin(.5*(a+o))+1),t+=3,n++,h.current+=1e-4*m}p.current.attributes.scale.needsUpdate=!0,p.current.attributes.position.needsUpdate=!0})),a.a.createElement("points",{position:t,rotation:n,scale:o},a.a.createElement("bufferGeometry",{ref:p,attach:"geometry"}),a.a.createElement("shaderMaterial",{ref:b,attach:"material",args:[{uniforms:d,vertexShader:"\nattribute float scale;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_PointSize = scale * ( 300.0 / - mvPosition.z ) * 0.1;\n    gl_Position = projectionMatrix * mvPosition;\n}",fragmentShader:"\nuniform vec3 color;\nvoid main() {\n    if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;\n    gl_FragColor = vec4( color, 1.0 );\n}"}]}))},M=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(k,{rotation:[0,0,0],position:[0,-11,0],scale:[.1,.1,.1]}),a.a.createElement(w,{rotation:[-.5*Math.PI,0,0],position:[0,-11,0]}))};var z=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)();Object(r.useRef)(null),Object(r.useRef)(null),Object(r.useRef)(null),Object(r.useRef)(null);return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{concurrent:!0,style:{position:"fixed",width:"100%",height:"100%",top:0,left:0},onCreated:function(e){e.gl;e.scene.background=(new i.CubeTextureLoader).setPath("".concat("https://s3-us-west-2.amazonaws.com/s.cdpn.io/2666677/","skybox1_")).load(["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"])}},a.a.createElement("hemisphereLight",{skyColor:"black",groundColor:16777215,intensity:.68,position:[0,50,0]}),a.a.createElement("directionalLight",{position:[-8,12,8],castShadow:!0}),a.a.createElement("axesHelper",{position:[0,0,0],scale:[7,7,7]}),a.a.createElement(r.Suspense,{fallback:null},a.a.createElement(d,{spot:t,stick:n,scale:[7,7,7]})),a.a.createElement(M,null),a.a.createElement(l.b,null)),a.a.createElement(j,{ref:t}),a.a.createElement(O,{ref:n}),a.a.createElement(u.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.9b44d73c.chunk.js.map